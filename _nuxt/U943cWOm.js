import{S as O,P as T,b as I,c as A,d as R,e as _,F as b,D as p,A as K}from"./fGiKISgP.js";import{I as o,r as u,K as D,a as g,b as Y}from"./Bx1YEHQ7.js";import{c as B}from"./DhuF9au6.js";import{a as h}from"./BgCju0y8.js";import{d as P,m as w,a as e,b as l}from"./DOMGF9Hs.js";import{U as H}from"./Bnsp_u8C.js";import{S as E}from"./CQXTE7NH.js";import{K as m}from"./B2exwp0w.js";const j={[o.AM]:K,[o.DUO]:p,[o.FM]:b,[o.MEMBRANE]:_,[o.METAL]:R,[o.MONO]:A,[o.PLUCK]:I,[o.POLY]:T,[o.SYNTH]:O};function z(S=o.SYNTH){return j[S]}const X=P(({core:S,mainWindow:s,parentWindow:y,preserveContextMenu:n,model:a,trackModel:c})=>{function N(){return(y||s).close()}const f=a[w.SYNTHESIZER_PROJECT],r=c&&c[w.SYNTHESIZER_TRACK];return[new e({title:"Synthesizer",items:[new e({hotKey:{alt:!0,code:m.KEY_I,title:"I"},title:"Info",async action(){var t;return(t=a.actions)==null?void 0:t.openInfo()}}),new E,new e({title:"Debug",items:[new e({title:"Notes",async action(){var t;(t=a.actions)!=null&&t.openDebugNotes&&(n(!0),await(await a.actions.openDebugNotes()).awaitClose(),n(!1),s.focus())}}),new e({title:"Midi",async action(){var t;(t=a.actions)!=null&&t.openDebugMidi&&(n(!0),await(await a.actions.openDebugMidi()).awaitClose(),n(!1),s.focus())}}),new e({title:"Timeline",async action(){var t;(t=a.actions)!=null&&t.openDebugTimeline&&(n(!0),await(await a.actions.openDebugTimeline()).awaitClose(),n(!1),s.focus())}})]}),new E,new e({title:"Close",action:N})]}),...c?[]:[new e({title:"Project",items:[new e({title:"New…",action:async()=>{a.actions&&(n(!0),await a.actions.newProject(),n(!1),s.focus())}}),new e({title:"Edit Name…",action:async()=>{n(!0);const t=await u(S,"Project renaming:",f.name);t&&(f.name=t),n(!1),s.focus()}}),new e({title:"Open…",hotKey:{alt:!0,code:m.KEY_O,title:"O"},action:async()=>{var t;await((t=a.actions)==null?void 0:t.openProject())}}),new e({title:"Save…",hotKey:{alt:!0,code:m.KEY_S,title:"S"},action:async()=>{var t;return await((t=a.actions)==null?void 0:t.saveProject())}}),new E,new H({title:"Import… (JSON)",hotKey:{alt:!0,shift:!0,code:m.KEY_I,title:"I"},async action({files:t}){var i;return await((i=a.actions)==null?void 0:i.importProject(t[0]))}}),new e({title:"Export (JSON)",action:async()=>{var t;return await((t=a.actions)==null?void 0:t.exportProject())}})]}),new e({title:"Track",items:[new e({title:"New…",action:async()=>{a.actions&&(n(!0),await a.actions.newTrack(),n(!1),s.focus())}}),new E,new e({title:"Clear",async action(){a.actions&&(n(!0),await a.actions.clearTracks(),n(!1),s.focus())}})]})],...c&&[new e({title:"Track Options",items:[new e({type:l.CHECKBOX,title:"Show Note Labels",name:w.SYNTHESIZER_TRACK_SHOW_NOTE_LABELS,model:c}),new e({type:l.CHECKBOX,title:"Show Keyboard",name:w.SYNTHESIZER_TRACK_SHOW_KEYBOARD,model:c}),new e({title:"Keyboard Size",items:Object.entries(D).map(([t,i])=>new e({type:l.RADIO,title:i,model:c,name:w.SYNTHESIZER_TRACK_KEYBOARD_SIZE,value:t}))}),new e({title:"Keyboard Alignment",items:Object.entries(g).map(([t,i])=>new e({type:l.RADIO,title:i,model:c,name:w.SYNTHESIZER_TRACK_KEYBOARD_ALIGN,value:t}))}),new E,new e({title:"Edit Name…",action:async()=>{n(!0);const t=await u(S,"Track renaming:",r.name);t&&(r.name=t,s.options.title=r.name),n(!1),s.focus()}}),new e({title:"Note Count",items:Object.entries(Y).map(([t,i])=>new e({type:l.RADIO,title:`${t} (${i})`,model:r,name:"noteCount",value:i}))}),new e({title:"Base Note",items:Object.entries(h()).map(([t,i])=>new e({type:l.RADIO,title:t,model:r,name:"baseNote",value:i}))}),new E,new e({title:"Beat Count",items:Array(9).fill({}).map((t,i)=>new e({type:l.RADIO,title:String(i+1),model:r,name:"beatCount",value:i+1}))})]})]||[],new e({title:"Options",items:[new e({title:`BPM (${a[w.SYNTHESIZER_BPM]})`,items:[30,60,120,240,480].map(t=>new e({type:l.RADIO,title:String(t),model:a,name:w.SYNTHESIZER_BPM,value:t}))})]}),...B({core:S})].filter(Boolean)});export{X as c,z as g};

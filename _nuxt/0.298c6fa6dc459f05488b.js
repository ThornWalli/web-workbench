(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){"use strict";(function(e){var o=n(409),r=n(585),l=n(454),c=n(119),d=n(83),h=n(97);t.a={props:{rootElement:{type:HTMLElement,default:()=>null},options:{type:Object,default:()=>({focused:!1})},readonly:{type:Boolean,required:!1,default:!1},multiline:{type:Boolean,required:!1,default:!0},name:{type:String,default:"value"},model:{type:Object,required:!1,default:()=>({value:"Input Value"})}},data:()=>({escapeHtml:c.a,selectionLength:null,selectionStart:null,selectionEnd:null,controlShiftActive:!1,controlCapsLockActive:!1,focusedSubscribtions:[],refreshFrame:null}),computed:{focused(){return this.options.focused},value:{get(){return this.model[this.name]},set(e){this.model[this.name]=e}},styleClasses(){return{"js--readonly":this.readonly,"js--multiline":this.multiline,"js--selection-empty":!this.selectionLength,"js--focused":this.focused,"js--shift-active":this.controlShiftActive,"js--caps-lock-active":this.controlCapsLockActive}}},watch:{focused(e){e?(this.focusedSubscribtions.push(d.a.get("click").pipe(Object(o.a)(e=>{var{target:t}=e;return!Object(h.a)(t,this.rootElement||this.$parent.$el)}),Object(r.a)()).subscribe(this.blur.bind(this)),d.a.get("keypress").subscribe(function(){this.$refs.input.focus()}.bind(this)),d.a.get("keydown").subscribe(e=>{var{keyCode:t}=e;switch(t){case 16:this.controlShiftActive=!0;break;case 20:this.controlCapsLockActive=!this.controlCapsLockActive}}),d.a.get("keyup").subscribe(e=>{var{keyCode:t}=e;switch(t){case 16:this.controlShiftActive=!1}this.$emit("keyup",t)})),this.$refs.input.focus()):(this.focusedSubscribtions.forEach(e=>e.unsubscribe()),this.focusedSubscribtions=[],this.$refs.input.blur())}},destroyed(){e.cancelAnimationFrame(this.refreshFrame),this.focusedSubscribtions.forEach(e=>e.unsubscribe())},mounted(){this.$refs.input.setSelectionRange(this.value.length,this.value.length),this.refresh(),this.focused&&this.$refs.input.focus()},methods:{focus(){this.setFocus(!0)},blur(){this.setFocus(!1)},resetSelection(){var input=this.$refs.input;this.selectionStart=input.selectionStart=0,this.selectionEnd=input.selectionEnd=0,this.selectionLength=0},refresh(){var input=this.$refs.input;this.selectionStart=input.selectionStart,this.selectionEnd=input.selectionEnd,this.selectionLength=this.selectionEnd-this.selectionStart,this.$emit("refresh")},setFocus(e){this.options.focused=e},onPointerDown(e){var t=d.a.pointerMove.pipe(Object(l.a)(128)).subscribe(e=>{Object(h.d)(e),this.refresh()});d.a.pointerUp.pipe(Object(r.a)()).subscribe(e=>{Object(h.d)(e),t.unsubscribe()})},onInput(){this.refresh(),this.$emit("input")},onClick(){this.focused?this.refresh():this.setFocus(!0)},onKeydown(e){this.multiline||13!==e.keyCode?(this.$emit("keydown",e),this.refresh()):(e.preventDefault(),e.stopPropagation(),this.$emit("enter",this.model[this.name]),this.refresh())},onKeyup(e){this.$emit("keyup",e.keyCode),this.refresh()}}}}).call(this,n(7))},105:function(e,t,n){var content=n(224);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("0665a08e",content,!0,{sourceMap:!1})},162:function(e,t,n){"use strict";var o=n(104).a,r=(n(223),n(6)),l=n(225),c=n.n(l),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wb-env-atom-input-text",class:e.styleClasses},[n("div",[n("div",{staticClass:"input-text__result"},[e.value.length>0&&e.selectionEnd>0?[e.selectionStart>=0&&e.selectionEnd===e.value.length?[n("span",{domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(0,e.selectionStart)))}}),e._v(" "),n("span",{staticClass:"input-text__selected",domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(e.selectionStart,e.selectionEnd+1))||"&nbsp;")}})]:e.selectionStart&&e.selectionStart===e.selectionEnd?[n("span",{domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(0,e.selectionStart)))}}),e._v(" "),n("span",{staticClass:"input-text__selected",domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(e.selectionStart,e.selectionStart+1))||"&nbsp;")}}),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(e.selectionStart+1,e.value.length)))}})]:[n("span",{domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(0,e.selectionStart)))}}),e._v(" "),n("span",{staticClass:"input-text__selected",domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(e.selectionStart,e.selectionEnd)))}}),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(e.selectionEnd,e.value.length)))}})]]:e._e(),e._v(" "),e.selectionStart||""!==e.value?e.value.length>0&&!e.selectionStart&&e.selectionStart===e.selectionEnd?[n("span",{staticClass:"input-text__selected",domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(0,1)))}}),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.escapeHtml(e.value.slice(1,e.value.length)))}})]:e._e():n("span",{staticClass:"input-text__selected 5"},[e._v(" ")])],2),e._v(" "),n("div",{staticClass:"input-text__input"},[e.multiline?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",attrs:{readonly:e.readonly},domProps:{value:e.value},on:{touchstart:e.onPointerDown,mousedown:e.onPointerDown,input:[function(t){t.target.composing||(e.value=t.target.value)},e.onInput],click:e.onClick,keydown:e.onKeydown,keyup:e.onKeyup,focus:e.onClick}}):e._e(),e._v(" "),e.multiline?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",attrs:{type:"text",readonly:e.readonly},domProps:{value:e.value},on:{touchstart:e.onPointerDown,mousedown:e.onPointerDown,input:[function(t){t.target.composing||(e.value=t.target.value)},e.onInput],click:e.onClick,keydown:e.onKeydown,keyup:e.onKeyup,focus:e.onClick}})])])])}),[],!1,null,null,null);"function"==typeof c.a&&c()(component);t.a=component.exports},222:function(e,t,n){"use strict";(function(e){var o=n(71),r=n(281),l=n(163),c=n(90),d=n(453),h=n(162),f=n(122);function _(e,t,n,o,r,l,c){try{var d=e[l](c),h=d.value}catch(e){return void n(e)}d.done?t(h):Promise.resolve(h).then(o,r)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var l=e.apply(t,n);function c(e){_(l,o,r,c,d,"next",e)}function d(e){_(l,o,r,c,d,"throw",e)}c(void 0)}))}}var v=1;t.a={components:{WbEnvAtomInputText:h.a},props:{core:{type:Object,required:!1,default:()=>f.default},rootElement:{type:HTMLElement,default:()=>null},options:{type:Object,default:()=>({focused:!1})},parentFocused:{type:Boolean,default:()=>!1},showIntroduction:{type:Boolean,default:()=>!1},parentLayout:{type:Object,default:()=>({size:Object(o.d)(0,0)})},delimiterPrefix:{type:String,default:"1.SYS"},readonly:{type:Boolean,default:!1},startCommands:{type:[Array,String],default:null},preRows:{type:[Array],default:()=>[]}},data(){var e=new d.a({core:this.core,consoleInterface:new r.a,onAdd:this.onAdd}),t=new l.a,n=this;return t.add([new c.b({name:["CLS","CLEAR"],action(){n.clearConsole()}})]),{logger:e,inputModel:{value:"",focused:!1},inputHistory:[],currentRow:0,startRow:0,rows:["[CLI ".concat(v,"]")],inputHistoryIndex:-1,lineHeight:18,maxRows:10,delimiterOptions:{value:this.delimiterPrefix,prompt:!1,confirm:!1},executeOptions:{show:!0,logger:e,showCommand:!0,commandBucket:t},activeSleepResolve:null,activeConfirmResolve:null,activePromptResolve:null,triggerRefresh:!1,resizeTimeout:null}},computed:{styleClasses(){return{"js--prompt":this.activePromptResolve,"js--focsued":this.options.focused}},delimiter(){var e=this.delimiterOptions.value,{confirm:t,prompt:n}=this.delimiterOptions;return t?e="(y/n) ?":n?e="?":e&&(e="".concat(e,":&gt")),e&&(e="".concat(e,"&nbsp;")),e},parentLayoutSize(){return this.parentLayout.size}},watch:{parentFocused(e){this.inputModel.focused=e.focused},parentLayoutSize(t){e.clearTimeout(this.resizeTimeout),this.resizeTimeout=e.setTimeout(()=>{this.render()},200)},activeSleepResolve(){this.setDelimiter({value:""})},activeConfirmResolve(){this.setDelimiter({value:this.delimiterPrefix,confirm:this.activeConfirmResolve})},activePromptResolve(){this.setDelimiter({value:this.delimiterPrefix,prompt:this.activePromptResolve})}},created(){this.rows.unshift(...this.preRows)},destroyed(){v--},mounted(){var e=this;return m((function*(){"console"in e.$parent&&(e.$parent.console=e),v++,e.showIntroduction&&(yield e.createInstruction().then(()=>e.enter('basic "TMP:CONSOLE_INSTRUCTIONS.basic"',{showCommand:!1})).catch(e=>{throw e})),e.$nextTick(m((function*(){if(e.startCommands){var t=[].concat(e.startCommands),n=t=>e.enter(t.shift(),{showCommand:!1}).then(()=>t.length>0?n(t):null);yield n(t),e.$emit("startCommandsComplete")}})))}))()},methods:{enter(e,t){var n=this;return m((function*(){n.inputHistoryIndex=-1,n.currentRow=0,n.startRow=0,n.$emit("freeze"),yield n.core.executeCommand(e,Object.assign({},n.executeOptions,t)),n.$emit("unfreeze"),n.render(),n.refresh(!0)}))()},createInstruction(){return this.core.modules.files.fs.createTmpFile("CONSOLE_INSTRUCTIONS.basic",{type:"basic",content:["#basic","CLS",'PRINT "Scroll (Up/Down): <strong>Shift+Up</strong> / <strong>Shift+Down</strong>"','PRINT "Enter <strong>commands</strong> to show all commands."']})},clearConsole(){this.startRow=this.rows.length,this.render()},render(){this.$refs.consoleOutput.innerHTML="",this.maxRows=Math.ceil(this.$el.offsetHeight/this.lineHeight)-2;for(var e=this.rows.length-1,i=0,t=0+this.currentRow,n=e-this.startRow;n>=t;n--){var o=this.rows[e-n],r=document.createElement("li");r.innerHTML=String(o).replace(/[\\]?\\n/,"<br>")+"\n",this.$refs.consoleOutput.appendChild(r);var l=parseInt(r.offsetHeight/this.lineHeight);if(r.setAttribute("data-rows",l),i+=l,n!==t);else for(i-=this.maxRows;i>0&&this.$refs.consoleOutput.childElementCount>1;){var c=this.$refs.consoleOutput.firstElementChild;i-=c.getAttribute("data-rows"),this.$refs.consoleOutput.removeChild(c)}}},refresh(e){this.$nextTick(()=>{e&&(this.triggerRefresh={scroll:!0},this.$emit("refresh",this.triggerRefresh),this.$nextTick(()=>{this.triggerRefresh=null}))})},moveRows(e){var t=!1;e?this.startRow>0?(this.startRow=0,t=!0):this.currentRow<this.rows.length&&(this.currentRow++,t=!0):this.currentRow>0&&(this.currentRow--,t=!0),t&&this.render()},onAdd(e,t){var n=[];Array.isArray(e)?n.push(...e):n.push(String(e)),this.rows.push(...n),this.render()},setDelimiter(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object.assign(this.delimiterOptions,{value:e,prompt:t,confirm:n})},onClick(){this.inputModel.focused=!0},onInputEnter(e){return this.inputHistory.push(e),this.inputModel.value="",this.enter(e)},onInputKeydown(e){var t=e.keyCode,n=!1;if(!this.$refs.input.controlCapsLockActive&&!this.$refs.input.controlShiftActive||38!==t&&40!==t){switch(t){case 38:this.inputHistoryIndex++,this.inputHistoryIndex=Math.min(this.inputHistoryIndex,this.inputHistory.length-1),n=!0;break;case 40:this.inputHistoryIndex--,this.inputHistoryIndex=Math.max(this.inputHistoryIndex,-1),n=!0}var o;if(n&&this.inputHistory.length>0)o=this.inputHistoryIndex<0?"":this.inputHistory[this.inputHistory.length-1-this.inputHistoryIndex],this.inputModel.value=o;this.refresh()}else e.preventDefault(),this.moveRows(38===t)}}}}).call(this,n(7))},223:function(e,t,n){"use strict";var o=n(105);n.n(o).a},224:function(e,t,n){(t=n(4)(!1)).push([e.i,':root{--color__inputText__selected:#0055ad;--color__inputText__pointer:#ffaa52}.wb-env-atom-input-text{min-width:120px;padding-top:1px}.wb-env-atom-input-text>div{position:relative;min-height:18px}.wb-env-atom-input-text *{font-family:var(--workbenchFont_topaz_console)}.wb-env-atom-input-text .input-text__result{font-size:0}.wb-env-atom-input-text .input-text__result>span{padding-top:1px;font-size:medium}.wb-env-atom-input-text:not(.js--selection-empty) .input-text__selected{display:inline;background:#0055ad;background:var(--color__inputText__selected);filter:var(--filter__default)}.wb-env-atom-input-text .input-text__input{position:absolute;top:0;left:0;width:100%;height:100%;overflow:visible}.wb-env-atom-input-text .input-text__input input[type=text],.wb-env-atom-input-text .input-text__input textarea{width:100%;height:100%;padding:0;overflow:visible;line-height:18px;color:#000;resize:none;border:0;outline:none;opacity:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.wb-env-atom-input-text.js--multiline .input-text__result{overflow:visible;white-space:pre}.wb-env-atom-input-text.js--multiline .input-text__input textarea{white-space:pre}.wb-env-atom-input-text:not(.js--readonly).js--selection-empty .input-text__selected{position:relative}.wb-env-atom-input-text:not(.js--readonly).js--selection-empty .input-text__selected:before{position:absolute;top:0;bottom:0;left:0;display:inline-block;width:100%;min-width:8px;content:"";background:#ffaa52;background:var(--color__inputText__pointer);animation-name:editor_cursor_blinking;animation-duration:1.2s;animation-play-state:paused;animation-timing-function:linear;animation-iteration-count:infinite}.js--moving .wb-env-atom-input-text:not(.js--readonly).js--selection-empty .input-text__selected:before,.js--scaling .wb-env-atom-input-text:not(.js--readonly).js--selection-empty .input-text__selected:before{display:none!important}.wb-env-atom-input-text:not(.js--readonly).js--focused .input-text__selected:before,.wb-env-atom-input-text:not(.js--readonly).js--focused.js--selection-empty .input-text__selected:before{display:inline-block;animation-play-state:running}@keyframes editor_cursor_blinking{0%{visibility:visible}50%{visibility:hidden}to{visibility:hidden}}',""]),e.exports=t},225:function(e,t){},226:function(e,t,n){var content=n(456);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("871a615a",content,!0,{sourceMap:!1})},267:function(e,t,n){"use strict";var o=n(222).a,r=(n(455),n(6)),l=n(457),c=n.n(l),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wb-env-console",class:e.styleClasses,on:{click:e.onClick}},[n("div",{staticClass:"console__wrapper"},[n("ul",{ref:"consoleOutput",staticClass:"console__output typo-style"}),e._v(" "),n("div",{staticClass:"console__input"},[n("span",{ref:"consoleCommandDelimiter",staticClass:"console__input__prefix",domProps:{innerHTML:e._s(e.delimiter)}}),e._v(" "),n("wb-env-atom-input-text",{ref:"input",staticClass:"console__input__element",attrs:{"root-element":e.rootElement||e.$el,multiline:!1,options:e.options,readonly:e.readonly,model:e.inputModel},on:{enter:e.onInputEnter,keydown:e.onInputKeydown}})],1)])])}),[],!1,null,null,null);"function"==typeof c.a&&c()(component);t.a=component.exports},453:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n(271),r=n(126),l=n(80);function c(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var d=0;class h extends o.a{constructor(e){var{onAdd:t}=Object.assign({debug:!1,onAdd:null},e);super(e),Object.defineProperty(this,f,{writable:!0,value:void 0}),c(this,f)[f]=t}add(e,t){e instanceof r.a&&(e=e.toColumnify().split(/\n/g)),Object(l.e)(e)&&(e=Object(l.c)(e)),c(this,f)[f](e,t)}}var f="__private_"+d+++"_"+"onAdd"},454:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(72),r=n(81),l=n(199);function c(e,t){return void 0===t&&(t=l.a),function(source){return source.lift(new d(e,t))}}var d=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,source){return source.subscribe(new h(e,this.dueTime,this.scheduler))},e}(),h=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.dueTime=n,r.scheduler=o,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return o.__extends(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(f,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(r.a);function f(e){e.debouncedNext()}},455:function(e,t,n){"use strict";var o=n(226);n.n(o).a},456:function(e,t,n){(t=n(4)(!1)).push([e.i,':root{--color__console__text:#fff;--color__console__typo__fieldsetBorder:#ffaa52;--color__console__typo__line:#fff;--color__console__typo__strong:#ffaa52;--color__console__typo__strongEm:#fff}.wb-env-console{min-height:100%;padding:3px;line-height:normal;color:#fff;color:var(--color__console__text);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (min-height:480px){#root>.wb-env-console{position:absolute;top:50%;left:50%;width:640px;height:480px;min-height:auto;margin-top:-240px;margin-left:-320px}}.wb-env-console a{color:currentColor;text-decoration:none}.wb-env-console a:before{content:"- "}.wb-env-console a:hover:before{content:"+ "}.wb-env-console .console__input,.wb-env-console .console__input *,.wb-env-console .console__output,.wb-env-console .console__output *{font-family:var(--workbenchFont_topaz_console)}.wb-env-console .console__output{word-break:break-all;white-space:pre-wrap}.wb-env-console .console__output>:after{content:"";display:block;clear:both}.wb-env-console .console__output>* .console__row__table__head,.wb-env-console .console__output>* .console__row__table__row{white-space:nowrap}.wb-env-console .console__output>* .console__row__table__head>*,.wb-env-console .console__output>* .console__row__table__row>*{position:relative;display:inline-block;vertical-align:top}.wb-env-console .console__output>* .console__row__table__head>*>*,.wb-env-console .console__output>* .console__row__table__row>*>*{width:100%;white-space:normal}.wb-env-console .console__input{display:flex}.wb-env-console .console__input .console__input__element{flex:1}.wb-env-console .console__input__prefix{padding-top:1px}.wb-env-console .console__input__prefix span{display:none}.typo-style fieldset{padding:5px 10px;margin:10px 0;border:2px solid #ffaa52;border:2px solid var(--color__console__typo__fieldsetBorder)}.typo-style fieldset legend{padding:0 10px;line-height:1}.typo-style hr{display:block;height:4px;margin:15px -1px;background:#fff;background:var(--color__console__typo__line);border:0;border-top:2px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.typo-style h2{font-size:32px;font-weight:400;line-height:1}.typo-style p{margin:5px 0;overflow:hidden;line-height:calc(20/var(--global_fontSizePx))}.typo-style b,.typo-style strong{font-weight:400;color:#ffaa52;color:var(--color__console__typo__strong)}.typo-style b em,.typo-style strong em{color:#fff;color:var(--color__console__typo__strongEm)}.typo-style pre{overflow:visible}.typo-style ul.bullets{padding:.5em 0;li{position:relative;padding-left:.75em}li:before{position:absolute;top:0;left:0;display:block;content:"•"}}',""]),e.exports=t},457:function(e,t){}}]);
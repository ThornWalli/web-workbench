import{n as h}from"./CNkvSXuu.js";function d(t){return new Promise((n,a)=>{const e=new FileReader;e.onload=()=>n(e.result),e.onerror=o=>a(o),e.readAsDataURL(t)})}function g(t){return new Promise((n,a)=>{const e=new Image;e.onload=()=>n(e),e.onerror=a,e.src=t})}async function w(t,n="image/png",a=1){const e=new OffscreenCanvas(t.width,t.height),o=e.getContext("2d");o==null||o.putImageData(t,0,0);const s=await e.convertToBlob({type:n,quality:a});return d(s)}function u(t,n=["#000000"],a=!1){const e=t.getImageData(0,0,t.canvas.width,t.canvas.height),o=e.data;for(let s=0;s<o.length;s+=4){const r=o[Number(s)],i=o[s+1],c=o[s+2],f=h(`#${r.toString(16)}${i.toString(16)}${c.toString(16)}`);(!n.includes(f)||o[s+3]!==255)&&(o[s+3]=0)}return a&&(t=new OffscreenCanvas(e.width,e.height).getContext("2d")),t.putImageData(e,0,0),t.canvas}async function C(t){var e;const n=await g(t),a=new OffscreenCanvas(n.width,n.height);return(e=a.getContext("2d"))==null||e.drawImage(n,0,0,n.width,n.height),a}async function v(t){var a;const n=new OffscreenCanvas(t.width,t.height);return(a=n.getContext("2d"))==null||a.drawImage(t,0,0,t.width,t.height),n}async function m(t){const n=new OffscreenCanvas(t.width,t.height);return n.getContext("2d").drawImage(t,0,0,t.width,t.height),n}async function p(t){const n=new OffscreenCanvas(t.width,t.height);return n.getContext("2d").putImageData(t,0,0),n}function x(t,n,a){a||(a=n*(t.height/t.width));const e=new OffscreenCanvas(n,a),o=e.getContext("2d");return o.imageSmoothingEnabled=!1,o.drawImage(t,0,0,n,a),e}function I(t,n,a){const s=new OffscreenCanvas(t.width,t.height),r=s.getContext("2d"),i=1-1*2,c=1-1*2;return r.translate(1*t.width,1*t.height),r.scale(i,c),r.drawImage(t,0,0,t.width,t.height),s}export{v as a,p as b,w as c,I as f,m as i,u as p,x as r,C as u};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CshrRwMP.js","./Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{d as $,r as y,k as c,a0 as V,y as D,z as O,A as C,C as r,B as P,D as n,K as A,_ as F}from"./BkRx7U8b.js";import{c as W}from"./CdkiuBnZ.js";import{u as I}from"./JsFOm8c5.js";import{W as M}from"./BPnw8H1C.js";import{W as d}from"./CPrp_Jrr.js";import{W as l}from"./D9PjJnFw.js";import"./ClLpnmyR.js";import"./BTMT_sH9.js";import"./B4rpyJsK.js";import"./eRs2tlcG.js";const Y={class:"wb-disks-extras13-base64-converter"},L={class:"buttons"},N=$({__name:"Base64Converter",props:{model:{}},setup(g){const{setContextMenu:w}=I();w(W,{model:g.model});const p=y(500),u=t=>t?.length>p.value?`${t.slice(0,p.value)}...`:String(t),a=y("data:text/plain;base64,"),m=y(),v=c(()=>{try{return btoa(a.value.split(",")[1])}catch{return"ERROR!"}}),f=c(()=>{try{return atob(a.value.split(",")[1])}catch{return"ERROR!"}}),b=c(()=>{try{return a.value.split(":")[1].split(";")[0]}catch{return"ERROR!"}}),T=c(()=>b.value==="ERROR!");V(()=>m.value,t=>{if(t?.length){const e=new FileReader;e.onload=o=>{typeof o.target?.result=="string"&&(a.value=o.target.result)},e.readAsDataURL(t[0])}});const _=async()=>{const t=await A(()=>import("./CshrRwMP.js").then(e=>e.F),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.default);try{const e=new Blob([E(a.value)],{type:"application/json;charset=utf-8"});await t.saveAs(e,`file.${b.value}`)}catch(e){console.error("An error occurred during export.",e)}},R=t=>{try{a.value=`data:text/plain;base64,${btoa(t)}`}catch(e){console.error("Error converting plain text to base64",e)}},U=t=>{try{a.value=t}catch(e){console.error("Error converting plain text to base64",e)}},k=t=>{try{a.value=`data:text/plain;base64,${t}`}catch(e){console.error("Error converting plain text to base64",e)}},B=t=>{try{a.value=`data:${t};base64,${v.value}`}catch(e){console.error("Error converting plain text to base64",e)}},s=t=>{try{switch(t){case"base64":navigator.clipboard.writeText(v.value);break;case"dataUrl":navigator.clipboard.writeText(a.value);break;case"plainText":navigator.clipboard.writeText(f.value);break}}catch(e){console.error("Error copying to clipboard",e)}};function E(t){const e=t.split(","),o=e[0].match(/:(.*?);/)?.[1],x=atob(e[1]);let i=x.length;const h=new Uint8Array(i);for(;i--;)h[Number(i)]=x.charCodeAt(i);return new Blob([h],{type:o})}return(t,e)=>(O(),D("div",Y,[C("p",null," The display is truncated if the length exceeds "+P(p.value)+" characters. ",1),r(M,{class:"form"},{default:n(()=>[r(d,{"model-value":b.value,placeholder:"MimeType",label:"MimeType","onUpdate:modelValue":B},{after:n(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[0]||(e[0]=o=>s("base64"))})]),_:1},8,["model-value"]),r(d,{"model-value":u(v.value),placeholder:"Base64…",label:"Base64","onUpdate:modelValue":k},{after:n(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[1]||(e[1]=o=>s("base64"))})]),_:1},8,["model-value"]),r(d,{"model-value":u(a.value),placeholder:"Data Url",label:"Data Url","onUpdate:modelValue":U},{after:n(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[2]||(e[2]=o=>s("dataUrl"))})]),_:1},8,["model-value"]),r(d,{"model-value":u(f.value),placeholder:"Plain Text…",label:"Plain Text","onUpdate:modelValue":R},{after:n(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[3]||(e[3]=o=>s("plainText"))})]),_:1},8,["model-value"]),C("div",L,[r(l,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=o=>m.value=o),accept:void 0,type:"upload",label:"Upload File"},null,8,["modelValue"]),r(l,{disabled:T.value,"style-type":"secondary",label:"Download",onClick:_},null,8,["disabled"])])]),_:1})]))}}),ee=F(N,[["__scopeId","data-v-d2769625"]]);export{ee as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D1DTzlR9.js","./OlYXjGCK.js","./BQm3Nqs0.js","./D4lI5vpz.js","./CtlMGvom.js","./D4b9WN8K.js","./Wv4Ty0OG.js","./CV0dHcg-.js","./DeEbP9sG.js","./Ds4KxLLa.js","./B4rpyJsK.js","./CL1V9BUB.js","./OAVrZOa6.js","./KQEr41HO.js","./CVx03s7S.js","./uxCSd1pF.js","./BkRx7U8b.js","./entry.BKgKayuE.css","./B3Wmi0DA.js","./ClLpnmyR.js","./BTMT_sH9.js","./Page.BBrJQr8a.css","./B9nPFJJ2.js","./Bg2SjdcQ.js","./C723tzWh.js","./CoWiVqj-.js","./MenuItem.-BWImcTY.css"])))=>i.map(i=>d[i]);
import{d as k,y as s,z as t,A as c,I as p,B as b,_ as y,r as d,a7 as H,k as $,o as F,a1 as P,W as K,F as _,G as f,V as g,$ as O,X as U,Y as B,R as D,Q as L,K as W}from"./BkRx7U8b.js";import{i as j}from"./OlYXjGCK.js";import{d as S}from"./DeEbP9sG.js";import{i as G}from"./Ds4KxLLa.js";import{S as N}from"./Wv4Ty0OG.js";import{S as Q,T as R}from"./Bg2SjdcQ.js";import{U as X}from"./CoWiVqj-.js";import{S as Y}from"./B9nPFJJ2.js";const q={class:"wb-env-element-context-menu-text"},J={class:"inner"},Z={key:0,class:"title"},ee=k({__name:"Text",props:{item:{}},setup(n){return(e,w)=>(t(),s("li",q,[c("div",J,[e.item?.text?(t(),s("span",Z,b(e.item.text),1)):p("",!0)])]))}}),te=y(ee,[["__scopeId","data-v-62bea091"]]),ne={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16"};function oe(n,e){return t(),s("svg",ne,e[0]||(e[0]=[c("path",{"fill-rule":"evenodd",d:"M2 0h18v2h2v12h-2v2H2v-2H0V2h2zm7 9H5V8h1V7h1V6h1V5h1V4h1V3h2v1h1v1h1v1h1v1h1v1h1v1h-4v3H9z",class:"svg-primary","clip-rule":"evenodd"},null,-1)]))}const se={render:oe},re={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16"};function ae(n,e){return t(),s("svg",re,e[0]||(e[0]=[c("path",{d:"M20 2h2v12h-2v2H2v-2H0V2h2V0h18zM4 6v6h2v-2h2v2h2V6H8v2H6V6zm7-2v8h3v-2h-1V4zm3 0v2h1v6h2V6h1V4zM6 4v2h2V4z",class:"svg-primary"},null,-1)]))}const ie={render:ae},ce={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16"};function le(n,e){return t(),s("svg",ce,e[0]||(e[0]=[c("path",{d:"M20 2h2v12h-2v2H2v-2H0V2h2V0h18zM2 4v8h4v-2H4V6h2V4zm5 0v2h1v6h2V6h1V4zm5 0v8h2v-2h1V8h-1V6h1v2h1V4zm3 6v2h1v-2zm2-6v8h3v-2h-1V4z",class:"svg-primary"},null,-1)]))}const ue={render:le},ve={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16"};function me(n,e){return t(),s("svg",ve,e[0]||(e[0]=[c("path",{d:"M20 2h2v12h-2v2H2v-2H0V2h2V0h18zM4 10v2h2v-2zm12 2h2v-2h-2zM6 10h2V8H6zm8 0h2V8h-2zM8 8h2V6H8zm4 0h2V6h-2zm-2-2h2V4h-2z",class:"svg-primary"},null,-1)]))}const de={render:me},he={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16"};function pe(n,e){return t(),s("svg",he,e[0]||(e[0]=[c("path",{d:"M20 2h2v12h-2v2H2v-2H0V2h2V0h18zm-9 8v2h8v-2zM9 8v2h2V8zM7 6v2h2V6zM3 4v2h4V4zm8 0v2h8V4z",class:"svg-primary"},null,-1)]))}const _e={render:pe},fe={class:"wb-env-element-context-menu-upload"},xe={class:"inner"},Ve={key:0,class:"title"},ge={key:1,class:"hotkey"},ye=["accept","multiple"],we="application/json",ze=k({__name:"Upload",props:{core:{},item:{}},emits:["files","update:model-value"],setup(n,{expose:e,emit:w}){const x=d(G()),u=d(),V=H("closeContextMenu",()=>{});e({closeContextMenu:V});const o=n,r=$(()=>o.item.hotKey),I=$(()=>Array.isArray(o.item.accept)?o.item.accept.join(","):o.item.accept||we),v=w,z=new N;F(()=>{P(()=>{o.item.hotKey&&o.item.action&&z.add(S.keyDown.subscribe(a=>{o.item.hotKey&&S.resolveHotKey(o.item.hotKey,a)&&u.value?.click()}))})}),K(()=>{z.unsubscribe()});const C=async a=>{if(a.target instanceof HTMLInputElement){const m=Array.from((a instanceof InputEvent?a.dataTransfer:a.target).files||[]);if(a.target.value="",typeof o.item.action=="function")try{await o.item.action({files:m,closeContextMenu:V})}catch(M){console.error(M),o.core?.errorObserver.next(M)}else v("files",m),v("update:model-value",m)}};return(a,m)=>(t(),s("li",fe,[c("div",xe,[a.item.title?(t(),s("span",Ve,b(a.item.title),1)):p("",!0),r.value?(t(),s("span",ge,[r.value.shift?(t(),_(f(se),{key:0})):p("",!0),!x.value&&r.value.alt?(t(),_(f(_e),{key:1})):r.value.alt?(t(),_(f(ie),{key:2})):p("",!0),x.value&&(r.value.ctrl||r.value.meta)?(t(),_(f(de),{key:3})):r.value.ctrl||r.value.meta?(t(),_(f(ue),{key:4})):p("",!0),c("span",null,b(r.value.title),1)])):p("",!0),c("input",{ref_key:"inputEl",ref:u,accept:I.value,multiple:a.item.multiple,type:"file",onChange:C},null,40,ye)])]))}}),Me=y(ze,[["__scopeId","data-v-9c6eea2b"]]),$e={},Ie={class:"wb-env-element-context-menu-separator"};function Ce(n,e){return t(),s("li",Ie,e[0]||(e[0]=[c("span",null,null,-1)]))}const be=y($e,[["render",Ce],["__scopeId","data-v-745ab079"]]),He={},ke={class:"wb-env-element-context-menu-spacer"};function Se(n,e){return t(),s("li",ke)}const Te=y(He,[["render",Se],["__scopeId","data-v-920e8b47"]]),Ee=["data-index"];var Ae=(n=>(n.TOP="top",n.BOTTOM="bottom",n))(Ae||{});const Fe=k({__name:"ContextMenu",props:{core:{},direction:{},parentLayout:{},items:{}},emits:["update:model-value"],setup(n,{expose:e,emit:w}){const x=d(),u=d(!1),V=d(H("contextMenuIndex",0));g("contextMenuIndex",V.value+1);const o=$(()=>v.value>0||u.value);g("hasFocusedItems",o);const r=d(!1),I=H("closeContextMenu",()=>{});g("closeContextMenu",()=>{console.log("Context menu close"),u.value=!1,r.value=!0,I(),window.setTimeout(()=>{r.value=!1},500)});const v=d(0);g("addItemFocus",()=>{v.value++}),g("removeItemFocus",()=>{v.value--}),e({$el:x,hasFocusedItem:o});const z=L(()=>W(()=>import("./D1DTzlR9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]),import.meta.url)),C="bottom",a={size:j(window.innerWidth,window.innerHeight)},m=n,M=w,T=$(()=>(m.items||[]).sort((h,l)=>(h.order||0)-(l.order||0)));function E(...i){M("update:model-value",...i)}function A(i){return i instanceof Q?Te:i instanceof Y?be:i instanceof R?te:i instanceof X?Me:z}return(i,h)=>(t(),s("ul",{ref_key:"rootEl",ref:x,class:O(["wb-element-context-menu",{"ignore-hover":r.value,[`direction-${i.direction}`]:i.direction}]),"data-index":V.value,onPointeroverPassive:h[0]||(h[0]=l=>u.value=!0),onPointeroutPassive:h[1]||(h[1]=l=>{v.value=0,u.value=!1})},[(t(!0),s(U,null,B(T.value,l=>(t(),_(D(A(l)),{key:l.key||l.id,core:m.core,tag:"li",item:l,direction:i.direction||f(C),"parent-layout":i.parentLayout||a,"onUpdate:modelValue":E},null,8,["core","item","direction","parent-layout"]))),128))],42,Ee))}}),je=y(Fe,[["__scopeId","data-v-89c93eb2"]]);export{Ae as D,se as S,je as W,_e as a,ie as b,de as c,ue as d};

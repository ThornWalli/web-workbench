const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BYXG3DzK.js","./Cex6JBLo.js","./udq3idvc.js","./CFj-hhFp.js","./Lxd48n3n.js","./BhtCLcUc.js","./CXbNF4JJ.css","./c1FWBGi4.css","./DOQHPoIb.js","./DXnSAPcy.js","./BGIFtisS.js","./DgH9W2OI.js","./Dl0mv460.css"])))=>i.map(i=>d[i]);
import{A as N}from"./Cex6JBLo.js";import{s as A}from"./DXnSAPcy.js";import{v,x as c,y as o,I as R,d as V,r as m,k as D,a2 as H,o as L,D as P,G as f,A as _,E as i,z as Y,Z as $,_ as j}from"./CFj-hhFp.js";import{u as B}from"./DOQHPoIb.js";import{d as K,a as s,k as G,w as U,r as W,s as X,t as Z,v as q,e as E,F as J,q as p}from"./udq3idvc.js";import{S as Q}from"./DgH9W2OI.js";const ee={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14"};function te(a,e){return c(),v("svg",ee,e[0]||(e[0]=[o("path",{fill:"#05a",d:"M0 0h12v14H0z"},null,-1),o("path",{fill:"#fff",d:"M0 2v2h1v2h2v2h1v2h2v2h1v2h3V2z"},null,-1)]))}const z={render:te},ne={xmlns:"http://www.w3.org/2000/svg",width:"11",height:"18"};function oe(a,e){return c(),v("svg",ne,e[0]||(e[0]=[o("path",{d:"M6 2h1v2H6zM7 4h1v2H7zM5 0h1v2H5zM4 2h1v2H4zM7 16H4v-4H3v6h5v-6H7zM8 6h1v2H8zM10 10V8H9v2H8v2h3v-2zM2 10V8H1v2H0v2h3v-2zM3 4h1v2H3zM2 6h1v2H2z"},null,-1)]))}const T={render:oe},ae=K(({core:a,model:e})=>{return[new s({title:"Document Reader",items:[new s({title:"Openâ€¦",hotKey:{alt:!0,code:"KeyO",title:"O"},action:r}),new Q,new s({hotKey:{alt:!0,code:"KeyI",title:"I"},title:"Info",action:w})]}),new s({title:"Document Settings",items:[new s({title:"Font Family",items:Object.values(G).map(n=>{const l=J[n];return new s({title:W[n],items:U(l,e.value)})})}),new s({title:"Font Size",items:X(e.value)}),new s({title:"Line Height",items:Z(e.value)}),new s({title:"Modular Scale",items:q(e.value)})]})];async function r(){const n=await a.executeCommand("openFileDialog");if(n)if("content"in n.value)e.fsItem=n.fsItem,e.value=Object.assign(e.value,E(),n.value);else throw new Error("Can't read file content")}async function w(){var l;const n=await R(()=>import("./BYXG3DzK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url).then(t=>t.default);(l=a.modules.windows)==null||l.addWindow({component:n,componentData:{model:e},options:{title:"Info",scaleX:!1,scaleY:!1,prompt:!1,scrollX:!1,scrollY:!1}},{group:"workbench13DocumentReader"})}}),le={class:"content"},se={class:"pagination"},re=V({__name:"DocumentReader",props:{model:{type:Object,default(){return{fsItem:null,value:E()}}}},setup(a){const e=m(null),r=a,{setContextMenu:w,...n}=B();w(ae,{model:r.model});const l=m([]),t=m(0);let h;const g=m(0),O=D(()=>({"--scroll-bar-size":`${A.size}`})),k=D(()=>l.value[t.value]);H(()=>t.value,()=>{e.value&&(e.value.scrollTop=0)}),H(()=>r.model,()=>{I()},{deep:!0}),L(()=>{I()});function I(){r.model.fsItem&&(n.window.options.title=r.model.fsItem.name+" - Document Reader");const d=r.model.value.content.split(/\[PAGE\][\n]+/);t.value=0,l.value=d}function M(){t.value=Math.max(t.value-1,0)}function F(){t.value=Math.min(t.value+1,l.value.length-1)}function x(){S(()=>{e.value&&(e.value.scrollTop=Math.max(e.value.scrollTop-20,0))})}function C(){S(()=>{e.value&&(e.value.scrollTop=Math.min(e.value.scrollTop+20,e.value.scrollHeight))})}function y(){window.clearInterval(h)}function S(u){window.clearInterval(h),h=window.setInterval(u,125)}function b(u){e.value&&(u.preventDefault(),g.value=e.value.scrollTop/(e.value.scrollHeight-e.value.offsetHeight))}return(u,d)=>(c(),v("div",{class:"wb-disks-workbench13-document-reader",style:$(O.value)},[o("div",le,[o("div",{ref_key:"scrollContainerEl",ref:e,class:"content-scroll",onScroll:b},[_(N,{"font-family":a.model.value[i(p).FONT_FAMILY],"font-size":a.model.value[i(p).FONT_SIZE],"line-height":a.model.value[i(p).LINE_HEIGHT],content:k.value,"modular-scale":r.model.value[i(p).MODULAR_SCALE]},null,8,["font-family","font-size","line-height","content","modular-scale"])],544)]),o("div",se,[o("div",{class:"pagination-frame pagination-current",onPointerdown:M},[o("span",null,Y(t.value+1),1)],32),g.value>0?(c(),v("div",{key:0,class:"pagination-frame pagination-scroll_up",onPointerdown:x,onPointerup:y},[o("i",null,[_(i(T))])],32)):f("",!0),d[0]||(d[0]=o("div",{class:"pagination-spacer"},null,-1)),g.value<1?(c(),v("div",{key:1,class:"pagination-frame pagination-scroll-down",onPointerdown:C,onPointerup:y},[o("i",null,[_(i(T))])],32)):f("",!0)]),t.value>0?(c(),P(i(z),{key:0,class:"corner corner_left",onPointerdown:M})):f("",!0),t.value<l.value.length-1?(c(),P(i(z),{key:1,class:"corner corner-right",onPointerdown:F})):f("",!0)],4))}}),ie=j(re,[["__scopeId","data-v-28010ee1"]]),pe=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));export{pe as D,ae as c};

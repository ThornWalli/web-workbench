const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BML291VI.js","./Cex6JBLo.js","./udq3idvc.js","./CFj-hhFp.js","./Lxd48n3n.js","./BhtCLcUc.js","./CXbNF4JJ.css","./c1FWBGi4.css","./DOQHPoIb.js","./BGIFtisS.js","./DUnWgY8N.css"])))=>i.map(i=>d[i]);
import{i as P}from"./BGIFtisS.js";import{I as D,d as H,r as p,k as W,o as Y,Y as F,v as X,x as B,y as b,z as N,_ as O}from"./CFj-hhFp.js";import{d as j,a as C}from"./udq3idvc.js";import{u as q}from"./DOQHPoIb.js";const K=j(({core:a})=>[new C({title:"Clock",items:[new C({hotKey:{alt:!0,code:"KeyI",title:"I"},title:"Info",async action(){var r;const u=await D(()=>import("./BML291VI.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url).then(t=>t.default);(r=a.modules.windows)==null||r.addWindow({component:u,componentData:{},options:{title:"Info",prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Clock"})}})]})]);function R(a,u,r,t){a.beginPath(),a.arc(0,0,u-r,0,2*Math.PI,!1),a.fillStyle=t[0],a.fill()}function V(a,u,r){let t;for(t=0;t<60;t++){a.rotate(-Math.PI/2),a.beginPath();const l=0-u+12,h=6;a.moveTo(0,l),a.lineTo(0,l-h),a.rotate(Math.PI/3/5),a.lineWidth=2,a.strokeStyle=r[1],a.stroke()}for(a.rotate(-(Math.PI/3/5)*60),t=0;t<16;t++){a.rotate(-Math.PI/2),a.beginPath();const l=0-u+15,h=6,i=10;a.moveTo(0,l),a.lineTo(0+h/2,l-i/2),a.lineTo(0,l-i),a.lineTo(0-h/2,l-i/2),a.lineTo(0,l),a.rotate(Math.PI/3),a.fillStyle=r[1],a.fill()}a.rotate(-Math.PI/3*16)}function L(a,u,r,t,l){const h=u.getHours()*(Math.PI*2/12)+Math.PI*2/12*u.getMinutes()/60,i=u.getMinutes()*(Math.PI*2/60),c=u.getSeconds()*(Math.PI*2/60);r.rotate(h),r.drawImage(a[0],-t.x,-t.y,l.x,l.y),r.rotate(-h),r.rotate(i),r.drawImage(a[1],-t.x,-t.y,l.x,l.y),r.rotate(-i),r.rotate(c),r.drawImage(a[2],-t.x,-t.y,l.x,l.y),r.rotate(-c)}function U(a,u,r,t){const h=a/2-5,i=P(()=>h+5);return[(e,d)=>{e.translate(i.x,i.y);const o=3,s=[.5,.34],f=0,n=0;e.beginPath(),e.moveTo(f,n),e.lineTo(f-o,n-d.width/2*s[1]),e.lineTo(f,n-d.width/2*s[0]),e.lineTo(f+o,n-d.width/2*s[1]),e.lineTo(f,n),e.strokeStyle=t[1],e.fillStyle=t[1],e.stroke(),e.fill()},(e,d)=>{e.translate(i.x,i.y);const o=4,s=[.7,.54],f=0,n=0;e.beginPath(),e.moveTo(f,n),e.lineTo(f-o,n-d.width/2*s[1]),e.lineTo(f,n-d.width/2*s[0]),e.lineTo(f+o,n-d.width/2*s[1]),e.lineTo(f,n),e.strokeStyle=t[1],e.fillStyle=t[1],e.stroke(),e.fill()},(e,d)=>{e.translate(i.x,i.y);const o=0,s=.74,f=0,n=0;e.beginPath(),e.moveTo(f,n),e.lineTo(f+o,n-d.width/2*s),e.lineTo(f,n),e.strokeStyle=t[2],e.stroke()},e=>{e.translate(i.x,i.y),R(e,h,r,t)},e=>{e.translate(i.x,i.y),V(e,h,t)}].map(e=>{const d=document.createElement("canvas");d.width=a,d.height=u;const o=d.getContext("2d");return o&&(o.imageSmoothingEnabled=!1,e(o,d)),d})}const $={class:"period"},G=H({__name:"Clock",setup(a){const{setContextMenu:u}=q();u(K);const r=p(null),t=p(null),l=p(["#888888","#000000","#FFAA55"]),h=p([]),i=p(!1);let c;const e=W(()=>i.value?"PM":"AM");Y(()=>{if(r.value&&t.value){const o=t.value;o.width=r.value.offsetWidth,o.height=r.value.offsetHeight,h.value=U(o.width,o.height,2,l.value);const s=o.getContext("2d",{willReadFrequently:!0});if(s)d(o,s);else throw new Error("Failed to get canvas context")}}),F(()=>{window.clearInterval(c)});function d(o,s){const n=o.width/2-5,m=P(()=>n+5),g=P(o.width,o.height);s.imageSmoothingEnabled=!1,s.setTransform(1,0,0,1,0,0),s.translate(m.x,m.y),s.scale(1,1.015),s.beginPath(),s.arc(0,0,n,0,2*Math.PI,!1),s.fillStyle=l.value[1],s.fill(),s.scale(1,.985);const I=h.value,T=M=>{window.requestAnimationFrame(()=>{s.drawImage(I[3],-m.x,-m.y,g.x,g.y),s.drawImage(I[4],-m.x,-m.y,g.x,g.y),s.strokeStyle=l.value[1],s.setTransform(1,0,0,1,0,0);const S=new Date;i.value=S.getHours()>12,s.translate(m.x,m.y),L(I,S,s,m,g);const A=s.getImageData(0,0,g.x,g.y),y=A.data;for(let w=0;w<y.length;w+=4){const v=y[Number(w)],_=y[w+1],k=y[w+2];if(!(v===255&&_===170&&k===85)){const E=.2126*v+.7152*_+.0722*k>=50?255:0;.2126*v+.7152*_+.0722*k>=50&&(y[Number(w)]=y[w+1]=y[w+2]=E)}}s.putImageData(A,0,0),M&&M()})};T(()=>{c=window.setInterval(T,1e3)})}return(o,s)=>(B(),X("div",{ref_key:"rootEl",ref:r,class:"wb-disks-workbench13-clock"},[b("canvas",{ref_key:"canvasEl",ref:t},null,512),b("span",$,N(e.value),1)],512))}}),J=O(G,[["__scopeId","data-v-ee841974"]]),ee=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{ee as C,K as c};

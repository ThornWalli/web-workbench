import{d as N,r as n,a2 as f,v as _,x as d,A as r,B as i,y as o,N as C,a0 as k,a1 as A,Z as S,a5 as D,af as M,z as b,D as P,G as z,_ as H}from"./CFj-hhFp.js";import{h as W,r as L}from"./CNkvSXuu.js";import{P as c,D as O,a as j}from"./BbB_XbY8.js";import{C as h}from"./BJmh0rUk.js";import{W as G}from"./KAnfGcyY.js";import{W as I}from"./BsR3Ui5S.js";import{_ as g}from"./D9g3vngM.js";import{W as x}from"./CKZLeFMq.js";import{W as R}from"./ChVszp-0.js";import{W as $}from"./oJ72Ou0G.js";import{u as Z}from"./DOQHPoIb.js";import{u as q}from"./udq3idvc.js";import"./9V19AFUE.js";import"./Lxd48n3n.js";import"./BhtCLcUc.js";const J={class:"wb-module-core-color-settings"},K={class:"col-1"},Q={class:"colors-select-list"},X=["value"],Y={class:"col-1 colors"},ee={class:"color-controls"},le={class:"color-preview"},oe=N({__name:"ColorSettings",emits:["close"],setup(te,{emit:U}){var E,T;const{core:v}=q();Z();const B=U,a=n(((T=(E=v.value)==null?void 0:E.config)==null?void 0:T.get(h.THEME))||c[O]),u=n(a.value.colors[1]),s=n(W(a.value.colors[1])),V=n("Save"),p=n(),y=n({presets:{label:"Presets",options:[{title:"Select Theme",value:""},...Object.keys(c).map(t=>({title:c[t].name,value:t}))]},filter:{label:"Filter",options:[{title:"Invert",value:"invert(100%)"},{title:"Brightness",value:"brightness(50%)"}]}});f(()=>p.value,t=>{if(t){const e=c[t];a.value={name:e.name,colors:e.colors,filter:e.filter},console.log({name:e.name,colors:e.colors,filter:e.filter}),u.value=a.value.colors[0]}}),f(()=>u.value,t=>{s.value=W(t)}),f(()=>s.value,t=>{const e=Object.values(t).map(l=>Number(l));u.value=a.value.colors[a.value.colors.indexOf(u.value)]=L(...e)},{deep:!0});function F(){var e,l,m;const t=a.value;(e=v.value)==null||e.config.set(h.THEME,t),(m=(l=v.value)==null?void 0:l.modules.screen)==null||m.setTheme(new j("custom",t)),B("close")}return(t,e)=>(d(),_("div",J,[r(G,{class:"form",onSubmit:F},{default:i(()=>[o("div",null,[o("div",K,[r(x,C(y.value.presets,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l)}),null,16,["modelValue"]),r(I,{label:"Colors",class:"color-select"},{default:i(()=>[o("div",Q,[(d(!0),_(k,null,A(a.value.colors,(l,m)=>(d(),_("label",{key:m,style:S({"--color":l})},[D(o("input",{"onUpdate:modelValue":e[1]||(e[1]=w=>u.value=w),type:"radio",name:"color",value:l},null,8,X),[[M,u.value]])],4))),128))])]),_:1}),r(x,C(y.value.filter,{modelValue:a.value.filter,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.filter=l)}),null,16,["modelValue"])]),o("div",Y,[o("div",ee,[o("div",le,[o("i",{style:S(`background-color: rgb(${s.value.join(", ")});`)},null,4)]),o("div",null,[o("div",null,[r(g,{modelValue:s.value[0],"onUpdate:modelValue":e[3]||(e[3]=l=>s.value[0]=l),"style-type":"color-select",label:"Red",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(s.value[0].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),o("div",null,[r(g,{modelValue:s.value[1],"onUpdate:modelValue":e[4]||(e[4]=l=>s.value[1]=l),"style-type":"color-select",label:"Green",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(s.value[1].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),o("div",null,[r(g,{modelValue:s.value[2],"onUpdate:modelValue":e[5]||(e[5]=l=>s.value[2]=l),"style-type":"color-select",label:"Blue",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(s.value[2].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])])])])])]),r($,{align:"outer",full:""},{default:i(()=>[V.value?(d(),P(R,{key:0,"style-type":"primary",label:V.value,type:"submit"},null,8,["label"])):z("",!0)]),_:1})]),_:1})]))}}),Ve=H(oe,[["__scopeId","data-v-762712e2"]]);export{Ve as default};

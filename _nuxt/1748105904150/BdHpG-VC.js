import{W as V}from"./KAnfGcyY.js";import{W as b}from"./ChVszp-0.js";import{W as E}from"./oJ72Ou0G.js";import{W as N}from"./IMgBJygB.js";import{W as h}from"./CWB9ZL9E.js";import{p as R,j as U}from"./DUL3j0kc.js";import{u as $}from"./udq3idvc.js";import{d as j,r as _,M as m,k as a,o as z,v as A,x as D,A as t,B as y,N as W,E as J,Q as L,ab as Q,_ as T}from"./CFj-hhFp.js";import"./9V19AFUE.js";import"./CI_-y7vV.js";import"./Cpj98o6Y.js";import"./nRhUiaEk.js";import"./BOg1SlEe.js";import"./BbB_XbY8.js";import"./BJmh0rUk.js";import"./BGIFtisS.js";import"./B3mcEltb.js";import"./DXnSAPcy.js";import"./DN3eHOnZ.js";import"./D4lI5vpz.js";import"./Ce6njBYG.js";import"./6C4StZv5.js";import"./DdQrQ7-5.js";import"./CSlkdJUE.js";import"./nufkX4jA.js";import"./RAasLaaH.js";import"./y5SQqNZ3.js";import"./Cdv5LwuB.js";import"./CGDfseBP.js";import"./DOQHPoIb.js";import"./Lxd48n3n.js";import"./DSfxGD0e.js";import"./BVsX1iIx.js";import"./DG6QdPnO.js";import"./CxKYomUj.js";import"./DgH9W2OI.js";import"./D0epPD73.js";import"./RYa94fR2.js";import"./CdaKXK36.js";import"./DMzq3-W3.js";import"./CJLX7oOC.js";import"./BsR3Ui5S.js";import"./BhtCLcUc.js";const q={class:"wb-module-files-save"},G=j({__name:"Save",props:{fsItem:{},id:{},model:{}},emits:["close"],setup(F,{emit:S}){var c,f,d;const{core:r}=$();if(!((c=r.value)!=null&&c.modules.files))throw new Error("Files module not found");const o=F,n=S,l=_({path:"",filename:"",file:null,...o.model}),p=((f=r.value)==null?void 0:f.modules.files)&&m((d=r.value)==null?void 0:d.modules.files),u={cancel:"Cancel",save:"Save"},k=a(()=>({label:null,placeholder:"Path…",modelValue:l.value.path})),C=a(()=>({label:null,placeholder:"Filename…",modelValue:l.value.filename,"onUpdate:model-value":e=>{l.value.filename=e}})),x=a(()=>({name:"path",modelValue:l.value.path,"onUpdate:model-value":e=>{l.value.path=e},onSelect:g})),i=_(o.fsItem||m(p.fs.root)),P=a(()=>{var e,s,v;return o.fsItem?o.fsItem:(s=(e=r.value)==null?void 0:e.modules.files)!=null&&s.fs.root?(v=r.value)==null?void 0:v.modules.files.fs.root:null}),w=a(()=>i.value?i.value.locked:!1),B=a(()=>!l.value.filename),g=e=>{i.value=m(e),e instanceof U?l.value.path=e.getPath():e.name&&(l.value.filename=e.name)};z(()=>{o.id&&(l.value.filename=o.id)});const I=()=>{n("close")},M=()=>{const e=R(l.value.path,l.value.filename);n("close",e)};return(e,s)=>(D(),A("div",q,[t(V,{onSubmit:M},{default:y(()=>[t(h,W(k.value,{readonly:""}),null,16),t(N,W(x.value,{"file-system":J(p).fileSystem,"fs-item":P.value}),null,16,["file-system","fs-item"]),t(h,L(Q(C.value)),null,16),t(E,{align:"outer",full:""},{default:y(()=>[t(b,{"style-type":"secondary",label:u.cancel,onClick:I},null,8,["label"]),t(b,{"style-type":"primary",label:u.save,type:"submit",disabled:w.value||B.value},null,8,["label","disabled"])]),_:1})]),_:1})]))}}),$e=T(G,[["__scopeId","data-v-7b033848"]]);export{$e as default};

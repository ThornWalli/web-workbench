import{m as d,n as p,u as U}from"./Dv1mzSl-.js";import{W as z}from"./BPnw8H1C.js";import{W as $}from"./DpGpKT4E.js";import{W as M}from"./D9PjJnFw.js";import{W as S}from"./CcXWfcLA.js";import{W as v}from"./CPrp_Jrr.js";import{E as H}from"./Xk46uXlJ.js";import{p as W,i as j}from"./OlYXjGCK.js";import{d as N,y as G,z as f,A as w,Z,$ as J,_ as T,r as x,L as K,k as s,a0 as O,F as _,D as V,C as m,I as k,S as u,ac as c,G as Q}from"./BkRx7U8b.js";import"./ClLpnmyR.js";import"./BTMT_sH9.js";import"./KQEr41HO.js";import"./D4lI5vpz.js";import"./OAVrZOa6.js";import"./Wv4Ty0OG.js";import"./D4b9WN8K.js";import"./CVx03s7S.js";import"./rEnmFtaA.js";import"./BnD3zOT9.js";import"./312NxIbt.js";import"./Bpi429LP.js";import"./DFTH32ee.js";import"./CTpy3bpH.js";import"./D7YMvfqk.js";import"./CNkvSXuu.js";import"./B4rpyJsK.js";import"./BtH6r1li.js";import"./QwGUwJAP.js";import"./BoZA8JgY.js";import"./Cpj98o6Y.js";import"./DG6QdPnO.js";import"./B3Wmi0DA.js";import"./CtlMGvom.js";import"./CxKYomUj.js";import"./CJzlme9J.js";import"./CcuCSIbb.js";import"./Gl1UmUM-.js";import"./CV0dHcg-.js";import"./CaAbksje.js";import"./eRs2tlcG.js";const X=N({__name:"AspectRatioPreview",props:{dimension:{}},setup(y){return(i,n)=>(f(),G("div",{class:J(["wb-env-element-aspect-ratio-preview",{portrait:i.dimension?.x<i.dimension?.y,landscape:i.dimension?.x>i.dimension?.y,square:i.dimension?.x===i.dimension?.y}]),style:Z({"--aspect-ratio-x":i.dimension?.x,"--aspect-ratio-y":i.dimension?.y})},n[0]||(n[0]=[w("div",null,[w("div")],-1)]),6))}}),Y=T(X,[["__scopeId","data-v-16883977"]]),ee=N({__name:"NewDocument",props:{model:{}},emits:["close"],setup(y,{emit:i}){const{t:n}=U(),E=y,r=x(d),t=K({dimension:W(d.dimension.x,d.dimension.y),name:r.value.name||"New Document"}),a=s(()=>p.find(e=>e.formats.find(o=>o.name===r.value.name))?.formats.find(e=>e.name===r.value.name)||p[0].formats[0]);O(()=>a.value.dimension,e=>{e&&(t.dimension=W(e.x,e.y))});const F=s(()=>({embed:!0,hideLabel:!0,label:n("window.new_document.width.label"),modelValue:t.dimension.x,"onUpdate:modelValue":e=>{t.dimension.x=parseInt(e)},required:!0,placeholder:n("window.new_document.width.placeholder")})),L=s(()=>({embed:!0,hideLabel:!0,label:n("window.new_document.height.label"),type:"number",min:1,step:1,modelValue:t.dimension.y,"onUpdate:modelValue":e=>{t.dimension.y=parseInt(e)},required:!0,placeholder:n("window.new_document.height.placeholder")})),g=s(()=>({embed:!0,hideLabel:!0,label:n("window.new_document.document_title.label"),modelValue:t.name||"New Document","onUpdate:modelValue":e=>{t.name=e},required:!0,placeholder:"Document Title"})),A=x({embed:!0,hideLabel:!0,name:"template",label:n("window.new_document.template.label"),options:p.map(e=>({label:e.group,options:e.formats.map(o=>({label:o.name,value:o.name}))})).flat(),modelValue:r.value,"onUpdate:modelValue":e=>{r.value=p.find(o=>o.formats.find(l=>l.name===e))?.formats.find(o=>o.name===e)||d},required:!0}),B=s(()=>a.value?.dimension?[n("window.new_document.aspect_ratio_info",{overrides:q(a.value.dimension.x,a.value.dimension.y)})].join(`
`):""),I=i;function R(e){e.preventDefault(),E.model.actions.newDocument({...t,dimension:j(t.dimension)}),I("close")}function q(e,o){if(typeof e!="number"||typeof o!="number"||e<=0||o<=0)throw new Error("Width and height must be positive numbers");function l(D,b){return b===0?D:l(b,D%b)}const h=l(e,o),C=e/h,P=o/h;return{x:C,y:P}}return(e,o)=>(f(),_(z,{class:"wb-disks-extras13-web-paint-new-document",onSubmit:R},{default:V(()=>[w("div",null,[w("div",null,[m(S,u(c(A.value)),null,16),m(v,u(c(F.value)),null,16),m(v,u(c(L.value)),null,16),m(v,u(c(g.value)),null,16),a.value?.dimension?(f(),_(H,{key:0,content:B.value},null,8,["content"])):k("",!0)]),t?.dimension?(f(),_(Y,{key:0,dimension:t?.dimension},null,8,["dimension"])):k("",!0)]),m($,{embed:""},{default:V(()=>[m(M,{type:"submit","style-type":"primary",label:Q(n)("window.new_document.apply.label")},null,8,["label"])]),_:1})]),_:1}))}}),$e=T(ee,[["__scopeId","data-v-befc2dd3"]]);export{$e as default};

var Sl=Object.defineProperty;var Il=(n,e,t)=>e in n?Sl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var b=(n,e,t)=>(Il(n,typeof e!="symbol"?e+"":e,t),t),ds=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var u=(n,e,t)=>(ds(n,e,"read from private field"),t?t.call(n):e.get(n)),p=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},g=(n,e,t,r)=>(ds(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Ae=(n,e,t,r)=>({set _(i){g(n,e,i,t)},get _(){return u(n,e,r)}}),vi=(n,e,t)=>(ds(n,e,"access private method"),t);import{U as Le,D as $,r as Wi,V as qn,W as Fl,X as Al,_ as j,k as _,l as O,C as Mn,v as fo,z as U,s as X,t as Fe,B as z,K as ct,F as Fs,P as sn,Y as po,m as v,L as $n,x as ea,y as ta,f as C,q as W,H as V,N as St,O as It,Z as kl,G as dr,$ as bo,a0 as Cl,a1 as na,S as Tl,c as Ol,E as F}from"./entry.d9fe636d.js";function K(n){return typeof n=="function"}function Rl(n){return K(n==null?void 0:n.lift)}function an(n){return function(e){if(Rl(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var As=function(n,e){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},As(n,e)};function Gn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");As(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gr=function(){return gr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},gr.apply(this,arguments)};function lb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Wl(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(m){a(m)}}function l(d){try{c(r.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})}function go(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zn(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tn(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return s}function Vn(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function mn(n){return this instanceof mn?(this.v=n,this):new mn(n)}function Bl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(f){return new Promise(function(E,w){s.push([h,f,E,w])>1||o(h,f)})})}function o(h,f){try{l(r[h](f))}catch(E){m(s[0][3],E)}}function l(h){h.value instanceof mn?Promise.resolve(h.value.v).then(c,d):m(s[0][2],h)}function c(h){o("next",h)}function d(h){o("throw",h)}function m(h,f){h(f),s.shift(),s.length&&o(s[0][0],s[0][1])}}function Nl(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof zn=="function"?zn(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}var wo=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function Ll(n){return K(n==null?void 0:n.then)}function ra(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var hs=ra(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function ks(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var is=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=zn(a),l=o.next();!l.done;l=o.next()){var c=l.value;c.remove(this)}}catch(w){e={error:w}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var d=this.initialTeardown;if(K(d))try{d()}catch(w){s=w instanceof hs?w.errors:[w]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var h=zn(m),f=h.next();!f.done;f=h.next()){var E=f.value;try{Aa(E)}catch(w){s=s??[],w instanceof hs?s=Vn(Vn([],tn(s)),tn(w.errors)):s.push(w)}}}catch(w){r={error:w}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new hs(s)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Aa(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&ks(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&ks(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),_o=is.EMPTY;function yo(n){return n instanceof is||n&&"closed"in n&&K(n.remove)&&K(n.add)&&K(n.unsubscribe)}function Aa(n){K(n)?n():n.unsubscribe()}var Do={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cs={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=Cs.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Vn([n,e],tn(t))):setTimeout.apply(void 0,Vn([n,e],tn(t)))},clearTimeout:function(n){var e=Cs.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Eo(n){Cs.setTimeout(function(){throw n})}function ka(){}function ki(n){n()}var ia=function(n){Gn(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,yo(t)&&t.add(r)):r.destination=zl,r}return e.create=function(t,r,i){return new wr(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(is),Pl=Function.prototype.bind;function ms(n,e){return Pl.call(n,e)}var Ml=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){xi(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){xi(r)}else xi(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){xi(t)}},n}(),wr=function(n){Gn(e,n);function e(t,r,i){var s=n.call(this)||this,a;if(K(t)||!t)a={next:t??void 0,error:r??void 0,complete:i??void 0};else{var o;s&&Do.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=function(){return s.unsubscribe()},a={next:t.next&&ms(t.next,o),error:t.error&&ms(t.error,o),complete:t.complete&&ms(t.complete,o)}):a=t}return s.destination=new Ml(a),s}return e}(ia);function xi(n){Eo(n)}function $l(n){throw n}var zl={closed:!0,next:ka,error:$l,complete:ka},sa=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function vo(n){return n}function Vl(n){return n.length===0?vo:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var He=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,s=jl(e)?e:new wr(e,t,r);return ki(function(){var a=i,o=a.operator,l=a.source;s.add(o?o.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=Ca(t),new t(function(i,s){var a=new wr({next:function(o){try{e(o)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});r.subscribe(a)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[sa]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vl(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=Ca(e),new e(function(r,i){var s;t.subscribe(function(a){return s=a},function(a){return i(a)},function(){return r(s)})})},n.create=function(e){return new n(e)},n}();function Ca(n){var e;return(e=n??Do.Promise)!==null&&e!==void 0?e:Promise}function Ul(n){return n&&K(n.next)&&K(n.error)&&K(n.complete)}function jl(n){return n&&n instanceof ia||Ul(n)&&yo(n)}function Gl(n){return K(n[sa])}function Hl(n){return Symbol.asyncIterator&&K(n==null?void 0:n[Symbol.asyncIterator])}function Yl(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Xl(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kl=Xl();function ql(n){return K(n==null?void 0:n[Kl])}function Zl(n){return Bl(this,arguments,function(){var t,r,i,s;return go(this,function(a){switch(a.label){case 0:t=n.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,mn(t.read())];case 3:return r=a.sent(),i=r.value,s=r.done,s?[4,mn(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,mn(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Ql(n){return K(n==null?void 0:n.getReader)}function pi(n){if(n instanceof He)return n;if(n!=null){if(Gl(n))return Jl(n);if(wo(n))return eu(n);if(Ll(n))return tu(n);if(Hl(n))return xo(n);if(ql(n))return nu(n);if(Ql(n))return ru(n)}throw Yl(n)}function Jl(n){return new He(function(e){var t=n[sa]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eu(n){return new He(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function tu(n){return new He(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Eo)})}function nu(n){return new He(function(e){var t,r;try{for(var i=zn(n),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function xo(n){return new He(function(e){iu(n,e).catch(function(t){return e.error(t)})})}function ru(n){return xo(Zl(n))}function iu(n,e){var t,r,i,s;return Wl(this,void 0,void 0,function(){var a,o;return go(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=Nl(n),l.label=1;case 1:return[4,t.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),i={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function nn(n,e,t,r,i){return new su(n,e,t,r,i)}var su=function(n){Gn(e,n);function e(t,r,i,s,a,o){var l=n.call(this,t)||this;return l.onFinalize=a,l.shouldUnsubscribe=o,l._next=r?function(c){try{r(c)}catch(d){t.error(d)}}:n.prototype._next,l._error=s?function(c){try{s(c)}catch(d){t.error(d)}finally{this.unsubscribe()}}:n.prototype._error,l._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._complete,l}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(ia),So={now:function(){return(So.delegate||Date).now()},delegate:void 0};function au(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function hr(n,e){return an(function(t,r){var i=0;t.subscribe(nn(r,function(s){r.next(n.call(e,s,i++))}))})}var ou=Array.isArray;function lu(n,e){return ou(e)?n.apply(void 0,Vn([],tn(e))):n(e)}function uu(n){return hr(function(e){return lu(n,e)})}function cu(n,e,t,r,i,s,a,o){var l=[],c=0,d=0,m=!1,h=function(){m&&!l.length&&!c&&e.complete()},f=function(w){return c<r?E(w):l.push(w)},E=function(w){s&&e.next(w),c++;var k=!1;pi(t(w,d++)).subscribe(nn(e,function(R){i==null||i(R),s?f(R):e.next(R)},function(){k=!0},void 0,function(){if(k)try{c--;for(var R=function(){var S=l.shift();a?au(e,a,function(){return E(S)}):E(S)};l.length&&c<r;)R();h()}catch(S){e.error(S)}}))};return n.subscribe(nn(e,f,function(){m=!0,h()})),function(){o==null||o()}}function Io(n,e,t){return t===void 0&&(t=1/0),K(e)?Io(function(r,i){return hr(function(s,a){return e(r,s,i,a)})(pi(n(r,i)))},t):(typeof e=="number"&&(t=e),an(function(r,i){return cu(r,i,n,t)}))}var du=ra(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Pe=function(n){Gn(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new Ta(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new du},e.prototype.next=function(t){var r=this;ki(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=zn(r.currentObservers),o=a.next();!o.done;o=a.next()){var l=o.value;l.next(t)}}catch(c){i={error:c}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;ki(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;ki(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=this,s=i.hasError,a=i.isStopped,o=i.observers;return s||a?_o:(this.currentObservers=null,o.push(t),new is(function(){r.currentObservers=null,ks(o,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,s=r.thrownError,a=r.isStopped;i?t.error(s):a&&t.complete()},e.prototype.asObservable=function(){var t=new He;return t.source=this,t},e.create=function(t,r){return new Ta(t,r)},e}(He),Ta=function(n){Gn(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:_o},e}(Pe);function hu(n){return an(function(e,t){var r=!1;e.subscribe(nn(t,function(i){r=!0,t.next(i)},function(){r||t.next(n),t.complete()}))})}var mu=new He(function(n){return n.complete()});function fu(n){return n<=0?function(){return mu}:an(function(e,t){var r=0;e.subscribe(nn(t,function(i){++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _r(n,e){return an(function(t,r){var i=0;t.subscribe(nn(r,function(s){return n.call(e,s,i++)&&r.next(s)}))})}var Fo=ra(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function pu(n){return n===void 0&&(n=bu),an(function(e,t){var r=!1;e.subscribe(nn(t,function(i){r=!0,t.next(i)},function(){return r?t.complete():t.error(n())}))})}function bu(){return new Fo}function gu(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?_r(function(i,s){return n(i,s,r)}):vo,fu(1),t?hu(e):pu(function(){return new Fo}))}}var wu=function(n){Gn(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=So);var s=n.call(this)||this;return s._bufferSize=t,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(t){var r=this,i=r.isStopped,s=r._buffer,a=r._infiniteTimeWindow,o=r._timestampProvider,l=r._windowTime;i||(s.push(t),!a&&s.push(o.now()+l)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,a=i._buffer,o=a.slice(),l=0;l<o.length&&!t.closed;l+=s?1:2)t.next(o[l]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,s=t._buffer,a=t._infiniteTimeWindow,o=(a?1:2)*r;if(r<1/0&&o<s.length&&s.splice(0,s.length-o),!a){for(var l=i.now(),c=0,d=1;d<s.length&&s[d]<=l;d+=2)c=d;c&&s.splice(0,c+1)}},e}(Pe);function Wt(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new Pe}:e,r=n.resetOnError,i=r===void 0?!0:r,s=n.resetOnComplete,a=s===void 0?!0:s,o=n.resetOnRefCountZero,l=o===void 0?!0:o;return function(c){var d,m,h,f=0,E=!1,w=!1,k=function(){m==null||m.unsubscribe(),m=void 0},R=function(){k(),d=h=void 0,E=w=!1},S=function(){var N=d;R(),N==null||N.unsubscribe()};return an(function(N,oe){f++,!w&&!E&&k();var H=h=h??t();oe.add(function(){f--,f===0&&!w&&!E&&(m=fs(S,l))}),H.subscribe(oe),!d&&f>0&&(d=new wr({next:function(Q){return H.next(Q)},error:function(Q){w=!0,k(),m=fs(R,i,Q),H.error(Q)},complete:function(){E=!0,k(),m=fs(R,a),H.complete()}}),pi(N).subscribe(d))})(c)}}function fs(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(e===!0){n();return}if(e!==!1){var i=new wr({next:function(){i.unsubscribe(),n()}});return pi(e.apply(void 0,Vn([],tn(t)))).subscribe(i)}}function ss(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function Ao(n,e){let{x:t,y:r,z:i}=e,{x:s,y:a,z:o,w:l}=n,c=l*t+a*i-o*r,d=l*r+o*t-s*i,m=l*i+s*r-a*t,h=-s*t-a*r-o*i,f=c*l+h*-s+d*-o-m*-a,E=d*l+h*-a+m*-s-c*-o,w=m*l+h*-o+c*-a-d*-s;return new e.constructor(f,E,w)}var Ts=Math.PI,ps=Math.PI*2;function bi(n){let e=n%ps;return e<-Ts?e+=ps:e>Ts&&(e-=ps),e}function _u(n){return n>-1?n<1?Math.acos(n):0:Ts}function yu(n,[e,t,r]){let[i,s,a]=n;return new n.constructor(new i.constructor(i.x*e.x+s.x*e.y+a.x*e.z,i.y*e.x+s.y*e.y+a.y*e.z,i.z*e.x+s.z*e.y+a.z*e.z),new i.constructor(i.x*t.x+s.x*t.y+a.x*t.z,i.y*t.x+s.y*t.y+a.y*t.z,i.z*t.x+s.z*t.y+a.z*t.z),new i.constructor(i.x*r.x+s.x*r.y+a.x*r.z,i.y*r.x+s.y*r.y+a.y*r.z,i.z*r.x+s.z*r.y+a.z*r.z))}function Du(n,{x:e,y:t,z:r}){let[i,s,a]=n;return new i.constructor(i.x*e+s.x*t+a.x*r,i.y*e+s.y*t+a.y*r,i.z*e+s.z*t+a.z*r)}function Eu(n,[e,t,r]){return new n.constructor(n.dot(e),n.dot(t),n.dot(r))}function At(n){return typeof n=="number"||(n==null?void 0:n.constructor)===Number}var gi=0,aa=1,oa=2,la=3,Bi=9999999999999,Ni=void 0,ko=Symbol("vector length"),as=Symbol("get source"),Oa=Symbol("checked"),We=Ni,pt,Un,vu=[0,1,2,6,24,120,720,5760,51840,518400,5702400,68428800,889574400,12454041600,186810624e3],Os=[],sr=-1,bs=!1,Ra=[];function gs(n,e,t){We=n,sr=-1,Un=1;let r=e(t);if(!At(r))throw new Error(`
      your assigned progress did not not return a primitive!
      calc() does not support logical operators (|| && ==) directly

      instead of calc(() => v1 || v2);
      use        calc(() => +v1 || +v2);

      instead of calc(() => v1);
      use        calc(v1);
      `);return r}function Li(n){let e=n[as];return e?e(n).length:n[ko]||3}function xu(n,e){return Li(n)>Li(e)?n:e}function Su(n,e){if(Un+=1,e===Bi)return Un;if(e>=Li(n))return 0;let t=n[as];if(t)return 1*t(n)[e];if(e===gi)return 1*n.x;if(e===aa)return 1*n.y;if(e===oa)return 1*n.z;if(e===la)return 1*n.w}function Wa(n,e,t){let r=n[as];if(r){r(n)[e]=t;return}if(e===gi){n.x=t;return}if(e===aa){n.y=t;return}e===oa&&(n.z=t),e===la&&(n.w=t)}function Se(n,e){if(typeof n!="function")throw new Error("no function assigned");if(We!==Ni)throw new Error("something wrong, do you use calc() inside calc?");try{let t=typeof e>"u",r=typeof e=="function",i=!r&&!t?e:void 0,s=gs(gi,n,i);if(t&&typeof pt>"u")return s;let a=pt?Li(pt):0;if(a===Bi){if(!n[Oa]){let d=gs(Bi,n),m=vu[Un];if(Math.abs(d-m)>Number.EPSILON)throw new Error(`
            algebraic multiplication works only in calls with *

            calc(() => v * m);
            calc(() => m * v);
            calc(() => m * m);
            calc(() => m * m * v);

            `);n[Oa]=!0}let c=Os[0];for(let d=1;d<Un-1;d+=1){let m=Os[d];if(!c.multiply)throw new Error(`cannot find method multiply() on ${c}`);c=c.multiply(m)}return c}let o=r?e.length:a;if(o||(o=a),o<a)throw new Error("Your assigned result Vector cant use higher space Operands than it has");let l=new Array(o);l[0]=s,i&&Wa(i,We,l[0]);for(let c=1;c<o;c+=1){let d=gs(c,n,i);l[c]=d,i&&Wa(i,We,d)}return t?new pt.constructor(...l):r?e(...l):i}finally{We=Ni,pt=void 0}}function wi(n,e){let t=n.prototype;t[as]=e;let r="valueOf",i=t[r];t[r]=function(){return We===gi&&(pt=pt?xu(pt,this):this,Os[Un-1]=this),We===Ni?i.call(this):Su(this,We)}}function ua(n){return function(...e){if(We===gi){if(bs)return n.apply(this,e);try{bs=!0,sr+=1;let t=n.apply(this,e);return Ra[sr]=t,t}finally{bs=!1}}return We===aa||We===oa||We===la?(sr+=1,Ra[sr]):n.apply(this,e)}}function _e(n,e){let t=n.prototype,r=t[e];t[e]=ua(r)}function os(n,e){let t=n.prototype,r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(t,e,{get:ua(function(){return r.get.call(this)})})}function ls(n,e){let t=n.prototype;Object.defineProperty(t,ko,{value:e})}function Co(n){ls(n,Bi)}function us(n){return ua(n)}function Iu(n){let e="";return n&&(e=`${n}-`),e}function _i(n,e,t={}){let r=Iu(n);return Object.entries(e).forEach(([i,s])=>{t[`--${r}${i}`]=s}),t}var Rs=0,Ws=1,Ne=Symbol("axes");function Fu(n,e,t,r){let i=Math.atan2(n,e),s=Math.atan2(t,r);return bi(i-s)}function Ba(n){return n*n}var Me=class{constructor(n,e){typeof n=="function"?Se(n,(t,r)=>{this[Ne]=[t,r]}):ss(n)?this[Ne]=[...n]:n&&At(n.x)?this[Ne]=[n.x||0,n.y||0]:this[Ne]=[n||0,e||0]}valueOf(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")}normalize(){let{length:n}=this;return new this.constructor(this.x/n,this.y/n)}norm(){return this.normalize()}dot(n){return this.x*n.x+this.y*n.y}getRad(){return bi(Math.atan2(this.y,this.x))}angleTo(n){return Fu(this.y,this.x,n.y,n.x)}rotate(n){let e=Math.sin(n),t=Math.cos(n),r=this.x*t-this.y*e,i=this.x*e+this.y*t;return new this.constructor(r,i)}distance(n){return Math.sqrt(Ba(this.x-n.x)+Ba(this.y-n.y))}dist(n){return this.distance(n)}toArray(){return[this.x,this.y]}calc(n){throw new Error("calc() not implemented")}clone(){throw new Error("clone() not implemented")}equals(n){return this.x===n.x&&this.y===n.y}toJSON(){return{x:this.x,y:this.y}}toString(){return JSON.stringify(this.toJSON())}toCSSVars(n,e){return _i(n,this.toJSON(),e)}get lengthSq(){return this.dot(this)}get length(){return Math.sqrt(this.lengthSq)}get lensq(){return this.lengthSq}get len(){return this.length}get x(){return this[Ne][Rs]}set x(n){throw new Error("set x() not implemented")}get y(){return this[Ne][Ws]}set y(n){throw new Error("set y() not implemented")}get z(){throw new Error("get z() not implemented")}set z(n){throw new Error("set z() not implemented")}[Symbol.iterator](){return this[Ne].values()}};wi(Me);ls(Me,2);_e(Me,"dot");_e(Me,"angleTo");_e(Me,"distance");_e(Me,"toArray");_e(Me,"getRad");os(Me,"length");os(Me,"lengthSq");var ca=class extends Me{set x(n){this[Ne][Rs]=n}set y(n){this[Ne][Ws]=n}get x(){return this[Ne][Rs]}get y(){return this[Ne][Ws]}calc(n){return Se(n,this)}clone(){return new ca(this.x,this.y)}},ln=class extends Me{toPoint(){return new ca(this.x,this.y)}},Au=us((n,e)=>new ca(n,e)),To=(n,e)=>Au(n,e),ku=us((n,e)=>new ln(n,e)),I=(n,e)=>ku(n,e);I(0,0);I(0,-1);I(-1,0);var un=0,cn=1,dn=2,q=Symbol("axes");function ws(n){return n*n}var ye=class{constructor(n,e,t){typeof n=="function"?Se(n,(r,i,s)=>{this[q]=[r,i,s]}):ss(n)?this[q]=[...n]:n&&At(n.x)?this[q]=[n.x||0,n.y||0,n.z||0]:this[q]=[n||0,e||0,t||0]}valueOf(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")}normalize(){let{length:n}=this;return new this.constructor(this.x/n,this.y/n,this.z/n)}norm(){return this.normalize()}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z}cross(n){return new this.constructor(this.y*n.z-this.z*n.y,this.z*n.x-this.x*n.z,this.x*n.y-this.y*n.x)}crossNormalize(n){let e=this.cross(n),{length:t}=e;return e[q][un]/=t,e[q][cn]/=t,e[q][dn]/=t,e}cn(n){return this.crossNormalize(n)}toAngles(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length)}}angleTo(n){return bi(_u(this.dot(n)/(this.length*n.length)))}multiply(n){return n.x===void 0?this.multiplyMat3(n):n.w===void 0?this.multiplyVec3(n):Ao(n,this)}multiplyMat3(n){return Eu(this,n)}multiplyVec3({x:n,y:e,z:t}){return new this.constructor(this.x*n,this.y*e,this.z*t)}distance(n){return Math.sqrt(ws(this.x-n.x)+ws(this.y-n.y)+ws(this.z-n.z))}dist(n){return this.distance(n)}toArray(){return[this.x,this.y,this.z]}swizzle(n){let e=n.split("").map(t=>this[t]);return e.length===2?new ln(e[0],e[1]):new this.constructor(e[0],e[1],e[2])}calc(n){throw new Error("calc() not implemented")}clone(){throw new Error("clone() not implemented")}equals(n){return this.x===n.x&&this.y===n.y&&this.z===n.z}toJSON(){return{x:this.x,y:this.y,z:this.z}}toString(){return JSON.stringify(this.toJSON())}toCSSVars(n,e){return _i(n,this.toJSON(),e)}get lengthSq(){return this.dot(this)}set lengthSq(n){throw new Error("set lengthSq() not implemented")}get length(){return Math.sqrt(this.lengthSq)}set length(n){throw new Error("set length() not implemented")}get lensq(){return this.lengthSq}set lensq(n){throw new Error("set lensq() not implemented")}get len(){return this.length}set len(n){throw new Error("set len() not implemented")}get x(){return this[q][un]}set x(n){throw new Error("set x() not implemented")}get y(){return this[q][cn]}set y(n){throw new Error("set y() not implemented")}get z(){return this[q][dn]}set z(n){throw new Error("set z() not implemented")}get xy(){return new ln(this[q][un],this[q][cn])}set xy(n){throw new Error("set xz() not implemented")}get xz(){return new ln(this[q][un],this[q][dn])}set xz(n){throw new Error("set xz() not implemented")}get yz(){return new ln(this[q][cn],this[q][dn])}set yz(n){throw new Error("set yz() not implemented")}[Symbol.iterator](){return this[q].values()}};wi(ye);ls(ye,3);_e(ye,"dot");_e(ye,"cross");_e(ye,"crossNormalize");_e(ye,"toAngles");_e(ye,"angleTo");_e(ye,"rotate");_e(ye,"distance");_e(ye,"toArray");os(ye,"length");os(ye,"lengthSq");var Oo=class extends ye{set x(n){this[q][un]=n}set y(n){this[q][cn]=n}set z(n){this[q][dn]=n}get x(){return this[q][un]}get y(){return this[q][cn]}get z(){return this[q][dn]}calc(n){return Se(n,this)}clone(){return new Oo(this.x,this.y,this.z)}},Cu=class extends ye{toVector(){return new Oo(this.x,this.y,this.z)}clone(){return this}},Tu=us((n,e,t)=>new Cu(n,e,t)),kt=(n,e,t)=>Tu(n,e,t);kt(0,0,0);var Ro=kt(0,0,-1);kt(0,0,1);var da=kt(-1,0,0);kt(1,0,0);var Wo=kt(0,1,0);kt(0,-1,0);kt(1,1,1);var it=Symbol("angle rad"),Bo=Math.PI/180,yr=class{constructor(n){n instanceof yr?this[it]=n[it]:this[it]=bi(n*Bo)}valueOf(){return this[it]}toJSON(){return{angle:this[it]}}toString(){return JSON.stringify(this.toJSON())}toCSSVars(n,e){return _i(n,this.toJSON(),e)}},No=class extends yr{set(n){n instanceof yr?this[it]=n[it]:this[it]=bi((n||0)*Bo)}},Ou=class extends yr{toDegree(){return new No(this[it])}};new Ou(0);function Ru(n){return new No(n)}function Wu(n){return At(n)||n instanceof yr}var st=0,at=1,ot=2,lt=3,ae=Symbol("axes"),Bu=Symbol("forward cache"),Nu=Symbol("left cache"),Lu=Symbol("up cache"),Pu=Symbol("inverse cache");function Mu([n,e,t,r]){return Math.sqrt(n*n+e*e+t*t+r*r)}function Lo(n){let e=Mu(n);n[st]/=e,n[at]/=e,n[ot]/=e,n[lt]/=e}function $u(n,e){let t=n.normalize(),r=e.crossNormalize(t),i=t.crossNormalize(r),s=r.x,a=r.y,o=r.z,l=i.x,c=i.y,d=i.z,m=t.x,h=t.y,f=t.z,E=s+c+f,w=new Array(4);if(E>0){let S=Math.sqrt(E+1);return w[lt]=S*.5,S=.5/S,w[st]=(d-h)*S,w[at]=(m-o)*S,w[ot]=(a-l)*S,w}if(s>=c&&s>=f){let S=Math.sqrt(1+s-c-f),N=.5/S;return w[st]=.5*S,w[at]=(a+l)*N,w[ot]=(o+m)*N,w[lt]=(d-h)*N,w}if(c>f){let S=Math.sqrt(1+c-s-f),N=.5/S;return w[st]=(l+a)*N,w[at]=.5*S,w[ot]=(h+d)*N,w[lt]=(m-o)*N,w}let k=Math.sqrt(1+f-s-c),R=.5/k;return w[st]=(m+o)*R,w[at]=(h+d)*R,w[ot]=.5*k,w[lt]=(a-l)*R,w}function zu(n,e){let t=new Array(4),r=e*.5,i=Math.sin(r),s=Math.cos(r);return t[st]=i*n.x,t[at]=i*n.y,t[ot]=i*n.z,t[lt]=s,t}function Bs(n,e,t,r){if(At(n))return[n,e,t,r];if(ss(n))return[...n];if(Wu(e))return zu(n,e);if(n&&e)return $u(n,e)}function Po(n,e,t,r){return n&&At(n.w)?Bs(n.x,n.y,n.z,n.w):Bs(n,e,t,r)||[0,0,0,1]}var Dr=class{constructor(n,e,t,r){this[ae]=Po(n,e,t,r),Lo(this[ae])}set(n,e,t,r){throw new Error("set x() not implemented")}multiply(n,e,t,r){if(At(n.w))return this.multiplyQuaternion(n);let i=Bs(n,e,t,r);return i?this.multiplyQuaternion(new this.constructor(i)):this.multiplyVector(n)}multiplyVector(n){return Ao(this,n)}multiplyQuaternion(n){let e=this.x,t=this.y,r=this.z,i=this.w,s=n.x,a=n.y,o=n.z,l=n.w,c=i*s+e*l+t*o-r*a,d=i*a+t*l+r*s-e*o,m=i*o+r*l+e*a-t*s,h=i*l-e*s-t*a-r*o;return new this.constructor(c,d,m,h)}mul(n,e,t,r){return this.multiply(n,e,t,r)}get inverse(){let{x:n,y:e,z:t,w:r}=this;return this.constructor(n*-1,e*-1,t*-1,r)}get inv(){return this.inverse}equals(n){return this.x===n.x&&this.y===n.y&&this.z===n.z&&this.w===n.w}get left(){return this.multiplyVector(da)}get dir(){return this.multiplyVector(Ro)}get up(){return this.multiplyVector(Wo)}get[0](){return this.left}get[1](){return this.dir}get[2](){return this.up}get x(){return this[ae][st]}set x(n){throw new Error("set x() not implemented")}get y(){return this[ae][at]}set y(n){throw new Error("set y() not implemented")}get z(){return this[ae][ot]}set z(n){throw new Error("set z() not implemented")}get w(){return this[ae][lt]}set w(n){throw new Error("set w() not implemented")}toJSON(){let{x:n,y:e,z:t,w:r}=this;return{x:n,y:e,z:t,w:r,a1:1-e*e*2-t*t*2,a2:n*e*2-t*r*2,a3:n*t*2+e*r*2,b1:n*e*2+t*r*2,b2:1-n*n*2-t*t*2,b3:e*t*2-n*r*2,c1:n*t*2-e*r*2,c2:e*t*2+n*r*2,c3:1-n*n*2-e*e*2}}toString(){return JSON.stringify(this.toJSON())}toCSSVars(n,e){return _i(n,this.toJSON(),e)}};wi(Dr);Co(Dr);var Vu=class extends Dr{set(n,e,t,r){n instanceof Dr?this[ae]=[...n[ae]]:(this[ae]=Po(n,e,t,r),Lo(this[ae]))}set x(n){this[ae][st]=n}set y(n){this[ae][at]=n}set z(n){this[ae][ot]=n}set w(n){this[ae][lt]=n}get x(){return this[ae][st]}get y(){return this[ae][at]}get z(){return this[ae][ot]}get w(){return this[ae][lt]}};function Si(n,e,t){let r=n[e];return r||(r=t(),n[e]=r),r}var Mo=class extends Dr{get left(){return Si(this,Nu,()=>this.multiplyVector(da))}get dir(){return Si(this,Bu,()=>this.multiplyVector(Ro))}get up(){return Si(this,Lu,()=>this.multiplyVector(Wo))}get inverse(){return Si(this,Pu,()=>{let{x:n,y:e,z:t,w:r}=this;return this.constructor(n*-1,e*-1,t*-1,r)})}};new Vu;var Uu=us((n,e,t,r)=>new Mo(n,e,t,r)),ju=(n,e,t,r)=>Uu(n,e,t,r);new Mo(da,Ru(90));ju(0,0,0,1);var Gu=0,Hu=1,Yu=2,Xu=3,Ye=Symbol("axes"),ha=class{constructor(n,e,t,r){typeof n=="function"?Se(n,(i,s,a,o)=>{this[Ye]=[i,s,a,o]}):ss(n)?this[Ye]=[...n]:n&&At(n.x)?this[Ye]=[n.x||0,n.y||0,n.z||0,n.w||0]:this[Ye]=[n||0,e||0,t||0,r||0]}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w}valueOf(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")}toArray(){return[this.x,this.y,this.z,this.w]}calc(n){throw new Error("calc() not implemented")}clone(){throw new Error("clone() not implemented")}equals(n){return this.x===n.x&&this.y===n.y&&this.z===n.z&&this.w===n.w}toJSON(){return{x:this.x,y:this.y,z:this.z,w:this.w}}toString(){return JSON.stringify(this.toJSON())}toCSSVars(n,e){return _i(n,this.toJSON(),e)}get x(){return this[Ye][Gu]}set x(n){throw new Error("set x() not implemented")}get y(){return this[Ye][Hu]}set y(n){throw new Error("set y() not implemented")}get z(){return this[Ye][Yu]}set z(n){throw new Error("set z() not implemented")}get w(){return this[Ye][Xu]}set w(n){throw new Error("set w() not implemented")}[Symbol.iterator](){return this[Ye].values()}};wi(ha);ls(ha,4);_e(ha,"toArray");var Zn=Symbol("data"),ma=class{constructor(...n){this[Zn]=n}get[0](){return this[Zn][0]}set[0](n){throw new Error("set [0] not implemented")}get[1](){return this[Zn][1]}set[1](n){throw new Error("set [1] not implemented")}get[2](){return this[Zn][2]}set[2](n){throw new Error("set [2] not implemented")}multiplyMat(n){return yu(this,n)}multiplyVec(n){return Du(this,n)}multiply(n){if(n instanceof ma)return this.multiplyMat(n);let{x:e,y:t,z:r}=n;if(e===void 0||t===void 0||r===void 0)throw new Error(`multiply only works with mat3 and vec3, not supported ${n}`);return this.multiplyVec(n)}[Symbol.iterator](){return this[Zn].values()}};wi(ma);Co(ma);var Ku=["addListener","removeListener"],qu=["addEventListener","removeEventListener"],Zu=["on","off"];function Ns(n,e,t,r){if(K(t)&&(r=t,t=void 0),r)return Ns(n,e,t).pipe(uu(r));var i=tn(ec(n)?qu.map(function(o){return function(l){return n[o](e,l,t)}}):Qu(n)?Ku.map(Na(n,e)):Ju(n)?Zu.map(Na(n,e)):[],2),s=i[0],a=i[1];if(!s&&wo(n))return Io(function(o){return Ns(o,e,t)})(pi(n));if(!s)throw new TypeError("Invalid event target");return new He(function(o){var l=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return o.next(1<c.length?c:c[0])};return s(l),function(){return a(l)}})}function Na(n,e){return function(t){return function(r){return n[t](e,r)}}}function Qu(n){return K(n.addListener)&&K(n.removeListener)}function Ju(n){return K(n.on)&&K(n.off)}function ec(n){return K(n.addEventListener)&&K(n.removeEventListener)}const $o="default",ar={default:{title:"Theme Default",colors:["#FFFFFF","#000","#FFAA55","#0055AA"],filter:"invert(100%)"},theme1:{title:"Theme 1",colors:["#000000","#FFFFFF","#4466aa","#919191"],filter:"invert(100%)"},theme2:{title:"Theme 2",colors:["#FFFFFF","#000000","#dd99aa","#8080a0"],filter:"invert(100%)"},theme3:{title:"Theme 3",colors:["#FFFFFF","#000000","#a8a0a0","#406080"],filter:"invert(100%)"},theme4:{title:"Theme 4",colors:["#FFFFFF","#50473f","#a08070","#b0a090"],filter:"invert(100%)"},themeGreen:{title:"Theme Green",colors:["#00f900","#008f11","#00Bb00","#000000"],filter:"brightness(50%)"},themeRed:{title:"Theme Red",colors:["#ee0000","#660000","#990000","#330000"],filter:"brightness(50%)"}};function zo(n){return n=n||["#FFF","#000","#FFAA55","#0055AA"],{boot:{sequence_error:"#000",sequence_ready:n[3],sequence_no_disk:"#fff",sequence_0:"#000",sequence_1:"#ccc",sequence_2:"#fff",sequence_3:n[3]},symbol:{primary:n[0],secondary:n[1],tertiary:n[2],quaternary:n[3]},screen:{background:n[3]},header:{background:n[0],coverBackground:n[0],coverTitle:n[3],title:n[3]},windowHeader:{background:n[0],stripes:n[3],title:n[3],buttonBackground:n[3],buttonPrimary:n[0],buttonSecondary:n[1]},contextMenu:{border:n[3]},contextMenuItem:{background:n[0],label:n[3],indicatorContext:n[3],hotkey:n[3]},contextMenuSeparator:{background:n[3]},window:{text:n[0],background:n[3],border:n[0],borderScaling:n[2],helper__scaleBackground:n[0],helper__scaleIcon:n[3],helper__scaleIconActive:n[1]},storageBar:{background:n[1],border:n[0],sizeHelper:n[2],icon:n[0]},scrollContent:{scrollbarCorner:n[0],scrollbarSpacer:n[0],scrollbarBackground:n[3],scrollbarHelperBackground:n[0],scrollbarHelper:n[3],scrollbarHelperActive:n[1],scrollbarRange:n[0]},symbolWrapperItem:{text:n[0]},button:{label:n[0],primary:{label:n[3],background:n[0],border:n[0],outline:n[3]},secondary:{label:n[0],background:n[3],border:n[0]},dialog:{label:n[3],background:n[0],border:n[2],outline:n[3]}},checkboxGroupItem:{disabled:{icon:n[0],background:n[0]},background:n[3],checkbox:{icon:n[0]},radio:{icon:n[0]}},textbox:{text:n[0],background:n[3],border:n[3],outline:n[0],dialog:{text:n[3],background:n[0],border:n[0],outline:n[3]},disabledReadonlyText:n[3],disabledReadonlyBackground:n[0]},textarea:{text:n[0],background:n[3],border:n[3],outline:n[0],resizeBackground:n[3],resizeIcon:n[0]},dropdown:{disabled:{text:n[3],background:n[0]},text:n[0],background:n[3],border:n[3],outline:n[0],scrollbarPrimary:n[0],scrollbarSecondary:n[3],expander:{icon:n[3],border:n[3],background:n[0]}},itemSelect:{border:n[0]},itemSelectItem:{border:n[0],background:n[3],disabledLabelText:n[0],disabledLabelbackground:n[1]},inputText:{selected:n[3],pointer:n[2]},markdown:{typo:{selection:n[1],headlinePrimary:n[0],headlineSecondary:n[2],strong:n[2],strongEm:n[0],link:n[2],linkHover:n[0],del:n[1],line:n[0],blockquoteBackground:n[2],blockquoteText:n[1],codeBackground:n[0],codeText:n[1],codeSelection:n[2]}},dialogContent:{backgroundPrimary:n[0],backgroundSecondary:n[0],text:n[3]},form:{fieldsetBorder:n[2]},console:{text:n[0],typo:{fieldsetBorder:n[2],line:n[0],strong:n[2],strongEm:n[0]}},core:{text:n[0]},workbench13:{calculator:{background:n[1],button:{text:n[0],border:n[0]},result:{border:n[0]}}}}}function Vo(n){return{default:n||"invert(100%)"}}class tc{constructor(e,t){b(this,"name","wb13");const{colors:r,filters:i}=Object.assign({colors:{},filters:{}},t);this.name=e||this.name,this.colors=Object.assign(zo(),r),this.filters=Object.assign(Vo(),i)}toCSSVars(){return Object.assign({},Ls(Object.assign({color:this.colors,filter:this.filters})),Ls())}}function Ls(n,e="",t={}){return typeof n=="object"?(Object.keys(n).map(r=>Ls(n[String(r)],(e?e+"__":"")+r,t)),t):(t[`--${e}`]=n,t)}class nc extends tc{constructor(e,t){const{colors:r,filter:i}=Object.assign({colors:null,filter:null},t);super(e,{colors:zo(r),filters:Vo(i)})}}const ub=2e3,cb={NO_DISK:"no_disk",ERROR:"error",READY:"ready",SEQUENCE_1:0,SEQUENCE_2:1,SEQUENCE_3:2},L={SCREEN_1084_FRAME:"core_screen1084Frame",SCREEN_REAL_LOOK:"core_screenRealLook",SCREEN_SCAN_LINES:"core_screenScanlines",SCREEN_ACTIVE_ANIMATION:"core_screenActiveAnimation",BOOT_WITH_SEQUENCE:"core_bootWithSequence",BOOT_WITH_WEBDOS:"core_bootWithWebDos",THEME:"core_theme",FILE_EXTENSION_ASSIGNMENT:"core_fileExtensionAssignment"},La={[L.SCREEN_1084_FRAME]:!0,[L.SCREEN_REAL_LOOK]:!0,[L.SCREEN_SCAN_LINES]:!0,[L.SCREEN_ACTIVE_ANIMATION]:!0,[L.BOOT_WITH_SEQUENCE]:!0,[L.BOOT_WITH_WEBDOS]:!0,[L.THEME]:ar[String($o)],[L.FILE_EXTENSION_ASSIGNMENT]:[["md","DF0:DocumentReader.app"],["bas","DF1:WebBasic.app"],["basic","DF1:WebBasic.app"]]},rc="web_workbench_CONFIG",db=new Promise(n=>{/complete|interactive|loaded/.test(document.readyState)?n():document.addEventListener("DOMContentLoaded",n,!1)});var xr;class ic{constructor(){p(this,xr,void 0);window.requestAnimationFrame(()=>{document.documentElement.style.overflowY="scroll",g(this,xr,window.innerWidth-document.body.offsetWidth),document.documentElement.style.overflowY=null})}get size(){return u(this,xr)}}xr=new WeakMap;const hb=new ic;function sc(n,e){return n===e?!0:n.parentElement?n.parentElement!==e?sc(n.parentElement,e):!0:!1}window.requestAnimationFrame(()=>{document.documentElement.style.overflowY="scroll",window.innerWidth-document.body.offsetWidth,document.documentElement.style.overflowY=null});function Ci(n){if(n.touches&&n.touches.length>0){const e=n.touches[0];n.clientX=e.clientX,n.clientY=e.clientY}return"x"in n||(n.x=n.clientX,n.y=n.clientY),n}var gt;class ac{constructor(){p(this,gt,new Map);b(this,"capsLockActive",!1);b(this,"shiftLeftActive",!1);b(this,"shiftRightActive",!1);b(this,"cmdLeftActive",!1);b(this,"cmdRightActive",!1);b(this,"altLeftActive",!1);b(this,"altRightActive",!1);b(this,"pointerDown",null);b(this,"pointerUp",null);b(this,"pointerMove",null);b(this,"keyDown",null);b(this,"keyUp",null);this.resize=this.get("resize",window).pipe(Wt()),this.pointerDown=this.getPointerDown(),this.pointerUp=this.getPointerUp(),this.pointerMove=this.getPointerMove(),this.keypress=this.get("keypress").pipe(Wt()),this.keydown=this.keyDown=this.get("keydown").pipe(Wt()),this.keyup=this.keyUp=this.get("keyup").pipe(Wt()),this.keyDown.subscribe(({keyCode:e,location:t})=>{switch(e){case 91:this.cmdLeftActive=!0;break;case 93:this.cmdRightActive=!0;break;case 16:t===2?this.shiftRightActive=!0:this.shiftLeftActive=!0;break;case 18:t===2?this.altRightActive=!0:this.altLeftActive=!0;break;case 20:this.capsLockActive=!this.capsLockActive;break}}),this.keyUp.subscribe(({keyCode:e,location:t})=>{switch(e){case 91:this.cmdLeftActive=!1;break;case 93:this.cmdRightActive=!1;break;case 16:t===2?this.shiftRightActive=!1:this.shiftLeftActive=!1;break;case 18:t===2?this.altRightActive=!1:this.altLeftActive=!1;break}})}getPointerDown(e){return this.get("pointerdown",e).pipe(hr(t=>Ci(t))).pipe(Wt())}getPointerUp(e){return this.get("pointerup",e).pipe(hr(t=>Ci(t))).pipe(Wt())}getPointerMove(e){return this.get("pointermove",e).pipe(hr(t=>Ci(t))).pipe(Wt())}get(e,t){t=t||document,u(this,gt).has(t)||u(this,gt).set(t,new Map);const r=u(this,gt).get(t);if(!r.has(e)){const i={passive:!0,capture:!1};r.set(e,Ns(t,e,i))}return r.get(e)}reset(){Array.from(u(this,gt).values).forEach(e=>e.unsubscribe()),u(this,gt).reset()}get cmdActive(){return this.cmdLeftActive||this.cmdRightActive}get altActive(){return this.altLeftActive||this.altRightActive}get shiftActive(){return this.shiftLeftActive||this.shiftRightActive}}gt=new WeakMap;let Pa;const _s=Pa||(Pa=new ac);let Ii;const oc=new Uint8Array(16);function lc(){if(!Ii&&(Ii=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ii))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ii(oc)}const le=[];for(let n=0;n<256;++n)le.push((n+256).toString(16).slice(1));function uc(n,e=0){return(le[n[e+0]]+le[n[e+1]]+le[n[e+2]]+le[n[e+3]]+"-"+le[n[e+4]]+le[n[e+5]]+"-"+le[n[e+6]]+le[n[e+7]]+"-"+le[n[e+8]]+le[n[e+9]]+"-"+le[n[e+10]]+le[n[e+11]]+le[n[e+12]]+le[n[e+13]]+le[n[e+14]]+le[n[e+15]]).toLowerCase()}const cc=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ma={randomUUID:cc};function Hn(n,e,t){if(Ma.randomUUID&&!e&&!n)return Ma.randomUUID();n=n||{};const r=n.random||(n.rng||lc)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return uc(r)}class G{constructor(e,t){this.name=e,this.value=t}}const dc=I(0,0);var wt;class Er{constructor({title:e,sidebarComponent:t,sidebarComponentData:r,component:i,componentData:s,options:a,symbolWrapper:o,wrapper:l,layout:c}){p(this,wt,new Pe);b(this,"id",Hn());b(this,"component");b(this,"componentData");b(this,"sidebarComponent");b(this,"sidebarComponentData");b(this,"options",Le({title:"Unnamed",scale:!0,scrollX:!0,scrollY:!0,clampX:!0,clampY:!1,freeze:!1,focused:!1,center:!0,close:!0,overlay:!0,embed:!1,borderless:!1,hideRootHeader:!1}));b(this,"symbolWrapper",null);b(this,"group",null);b(this,"wrapper",null);b(this,"layout",Le({focused:!1,position:I(0,0),size:dc,scrollOffset:I(0,0)}));this.options.title=e,t&&(this.sidebarComponent=$(t)),r&&(this.sidebarComponentData=$(r)),this.component=$(i),this.componentData={...s,window:this},o&&(this.symbolWrapper=$(o)),l&&(this.wrapper=$(l)),this.options=Object.assign(this.options,a),this.layout=Object.assign(this.layout,c)}ready(){this.options.ready=!0,u(this,wt).next(new G("ready"))}focus(){this.options.focused=!0,u(this,wt).next(new G("focus"))}unfocus(){this.options.focused=!1,u(this,wt).next(new G("unfocus"))}close(e){this.wrapper&&(u(this,wt).next(new G("close",e)),this.wrapper.remove(this.id),this.wrapper=null)}setWrapper(e){this.wrapper=$(e)}setGroup(e){this.group=e}get events(){return u(this,wt)}}wt=new WeakMap;var bn;class hc{constructor(){p(this,bn,new Map)}get items(){return u(this,bn)}add(e,t){Array.isArray(e)?e.forEach(r=>{this.add(...r)}):u(this,bn).set(e,[].concat(t))}get(...e){const t=e.shift();return u(this,bn).get(t).map(r=>e.reduce((i,s)=>i.replace(/%\d+/,s),r))}}bn=new WeakMap;const B=new hc;B.add("bad_args","Bad args");B.add("cant_find","Can't find %1");const mc="/",ys="ROOT",fc="CLOUD";function Ce(n){return typeof n=="object"&&"id"in n?n.id:n.replace(/.*[\\/:]{1,1}([^:\\/]+)$/,"$1")}function pc(n){return/^[a-zA-Z0-9_-]+:/.test(n)}function fa(...n){return n.reduce((e,t)=>(e.push(...t.replace(/[\\/]+/,"/").replace(/^\//,"").replace(/\/$/,"").split("/")),e),[]).join("/").replace(/\/$/,"")}function bc(n){return n.replace(/(.*)[:/]([^\\/:]+)/,"$1")}function gc(n){return n.replace(/(.*)\/([^\\/]+)/,"$2")}function Qn(n){return n.replace(/(.*[\\/:]{1,1})[^:\\/]+$/,"$1")}function Ti(n){return n.length&&/^[\w .\\/:-]+$/.test(n)}function wc(n){return Ti(n)&&!!(n.includes("/")||n.match(/^([^:]+):.*/))}function _c(n){return n*1e3}function pa(n){return n.replace(/^(.*)\.[^.]+$/,"$1")}function vr(n){const e=n.match(/^.*\.([^.]*)$/);return e?e[1]:""}function Uo(n){return n.replace(/[^.a-zA-Z0-9_-]/g,"_")}function Pi(n,e){return e?`${pa(n)}.${e}`:n}function jo(n,e,t){let r=n;return e.hasItem(Pi(r,t))?(r=`copy_${n}`,e.hasItem(Pi(r,t))?jo(r,e,t):r):r}function Xe(n){if(n.getStorageItem()){if(n.getStorageItem().locked)throw B.get("FileSystem_permissionsNeeded");return n}return n}async function we(n,e){return(e||n.getStorageItem())&&(await n.save(),await(e||n.getStorageItem()).save()),n}async function yc(n,e){const t=await e.remove(n);return Array.isArray(t)?t:[t]}const D={DEFAULT:"default",DIRECTORY:"directory",DIRECTORY_PREFS:"directory_prefs",CLOUD_DISK:"cloud_disk",HARD_DISK:"hard_disk",RAM_DISK:"ram_disk",TMP_DISK:"tmp_disk",DISK_1:"disk_1",DISK_2:"disk_2",DISK_WORKBENCH13:"disk_workbench13",DISK_MARKDOWN:"disk_markdown",DISK_BASIC:"disk_basic",WORK:"work",CONSOLE:"console",SETTINGS:"settings",TRASHCAN:"trashcan",COMPUTER_1:"computer_1",TELEPHONE:"telephone",CURSOR:"cursor",PREFERENCE:"preference",WEB_BASIC:"web_basic",WEB_PAINTING:"web_painting",COLORS:"colors",PRINT_1:"print_1",PRINT_2:"print_2",NOTEPAD:"notepad",BASIC:"basic",IMAGE:"image",NOTE:"note",NOTE_BLANK:"note_blank",LARGE_NOTE:"large_note",LARGE_NOTE_RICH:"large_note_rich",FULLSCREEN:"fullscreen",CALCULATOR:"calculator",CLOCK:"clock",KEYBOARD_QUESTION:"keyboard_question",LARGE_NOTEPAD:"large_notepad",LARGE_NOTEPAD_HELP:"large_notepad_help",RABBIT:"rabbit",MORE:"more",SAY:"say",GITHUB:"github",LAMMPEE:"lammpee",CUBY:"cuby",NUXT:"nuxt",CLOWN:"clown",DISALLOW_1:"disallow_1",COPY_1:"copy_1",COPY_2:"copy_2",DISPLAY_KEYBOARD:"display_keyboard",PALETTE:"palette",SIGN_1:"sign_1",DOCUMENT_EDITOR:"document_editor",DOCUMENT_READER:"document_reader"};function Go(n){return/^"([^"]*)"$/.test(n)}function Dc(n){return Go(n)?n:(n=J(n),`"${n}"`)}function $a(n){return n.replace(/[ ]*(.+)[ ]+/)}function J(n){return typeof n!="string"?n:n.replace(/^[ ]*"(.*)"[ ]*$/,"$1").replace(/\\"/g,'"')}function or(n){return!isNaN(n)}let ba;ba=Promise.resolve({atob:n=>window.decodeURIComponent(window.atob(n)),btoa:n=>window.btoa(window.encodeURIComponent(n))});async function Ps(n){const{atob:e}=await ba;return e(n)}async function Ec(n){const{btoa:e}=await ba;return e(n)}const A={SYMBOL:"symbol",VISIBLE:"visible",POSITION:"position",WINDOW_SYMBOL_REARRANGE:"window_symbol_rearrange",WINDOW_SIZE:"window_size",WINDOW_POSITION:"window_position",WINDOW_SCALE:"window_scale",WINDOW_SCROLL_X:"window_scroll_x",WINDOW_SCROLL_Y:"window_scroll_y",WINDOW_FULL_SIZE:"window_full_size",WEB_URL:"web_url",IGNORE_SYMBOL_REARRANGE:"ignore_symbol_rearrange"},vc={basic:D.BASIC,bas:D.BASIC,markdown:D.DISK_MARKDOWN,md:D.DISK_MARKDOWN,image:D.IMAGE,img:D.IMAGE};function xc(n,e=D.NOTE_BLANK){const t=vr(n).toLowerCase();return vc[String(t)]||e}var Sr,gn,Lt,wn,_n,ze,Pt,yn,Ve,Ir;const fr=class{constructor({locked:e=!1,id:t=null,name:r=null,meta:i=[],data:s=null,action:a=null,createdDate:o=Date.now(),editedDate:l=null}){p(this,Sr,void 0);p(this,gn,!1);p(this,Lt,null);p(this,wn,void 0);p(this,_n,void 0);p(this,ze,void 0);p(this,Pt,void 0);p(this,yn,void 0);p(this,Ve,void 0);p(this,Ir,void 0);if(g(this,Sr,new Pe),g(this,wn,o),g(this,_n,l||o),g(this,gn,e),g(this,ze,t),g(this,Pt,r),g(this,yn,new Map([[A.SYMBOL,xc(t||"",this.constructor.SYMBOL)],[A.VISIBLE,!0]].concat(i||[]))),typeof s=="string")try{s=JSON.parse(s)}catch(c){throw console.log(s),new Error(c)}g(this,Ir,a),this.data=s||{}}async remove(e){const{silent:t}=Object.assign({silent:!1},e);let r;const i=this.isLocked();if(!i)r={type:this.constructor.NAME,id:this.id,name:this.name,path:await this.getPath(),size:this.size,storage:this.getStorageItem()};else if(!t)return B.get("FileSystemItem_itemLocked",await this.getPath());return(t||!i)&&(this.events.next(new G("remove",this)),this.events.unsubscribe(),this.parent.removeItem(this)),r}isLocked(e){return e?!1:this.parent&&this.parent.locked&&this.parent.id!==ys?!0:u(this,gn)}getStorageItem(){return"storage"in this?this:this.parent?this.parent.getStorageItem():null}async copy(){const e=this.constructor;let t=await this.export({encodeData:!1});return t=new e(t),Promise.resolve(t)}rename(e,t){const{name:r=!1,ignore:i=!1}=Object.assign({name:!1,ignore:!1},t);if(!this.isLocked(i)){if(r)return this.name=e,this;{const s=this.id;g(this,ze,Uo(e)),this.parent&&s!==this.id&&this.parent.changeItemId(this,s,this.id)}this.events.next(new G("rename",{name:r,id:e}))}return this}save(){this.events.next(new G("save",this))}get type(){return this.constructor.NAME}async export(e){const{encodeData:t}=Object.assign({encodeData:!0},e),r=new Map(u(this,yn));return Array.from(r.keys()).forEach(i=>{r.get(i)instanceof ln&&r.set(i,r.get(i).toJSON())}),{type:this.type,id:u(this,ze),name:u(this,Pt),createdDate:u(this,wn),editedDate:u(this,_n),data:t?await Ec(u(this,Ve)):u(this,Ve),meta:Array.from(r)}}get createdDate(){return u(this,wn)}get editedDate(){return u(this,_n)}get data(){if(typeof u(this,Ve)=="string")try{return JSON.parse(u(this,Ve))}catch{return{data:u(this,Ve)}}return u(this,Ve)}set data(e){typeof e=="object"&&(e=JSON.stringify(e)),g(this,Ve,e)}get action(){return u(this,Ir)}get events(){return u(this,Sr)}get parent(){return u(this,Lt)}setId(e){g(this,ze,e)}setParent(e){g(this,Lt,e)}get locked(){return u(this,Lt)?u(this,Lt).locked:u(this,gn)}get id(){return u(this,ze)}get name(){return u(this,Pt)||u(this,ze)}set name(e){g(this,Pt,e)}get extension(){return vr(u(this,ze))}get meta(){return u(this,yn)}get size(){return new Blob([Object.values(this.data)]).size}get maxSize(){return new Blob([Object.values(this.data)]).size}getBase(){return fr.getBaseRecursive({item:this},!1)}getPath(){return fr.getBaseRecursive({item:this})}static getBaseRecursive({item:e,path:t=[]},r=!0){if(r&&t.push(e.id),e.parent)return fr.getBaseRecursive({item:e.parent,path:t});if(t=t.reverse(),t[0]===ys&&t.shift(),t.length>0){let i=t[0];return/\./.test(i)||(i+=":"),`${i}${t.slice(1,t.length).join(mc)}`}else return ys}};let fe=fr;Sr=new WeakMap,gn=new WeakMap,Lt=new WeakMap,wn=new WeakMap,_n=new WeakMap,ze=new WeakMap,Pt=new WeakMap,yn=new WeakMap,Ve=new WeakMap,Ir=new WeakMap;B.add([["FileSystemItem_itemLocked",["Item Locked","Item is locked, can't be edit %1"]]]);const mt={CENTER:0,ORDER_HORIZONTAL:1,ORDER_VERTICAL:2,ORDER_DIAGONAL_LEFT:3,ORDER_DIAGONAL_RIGHT:4,SPLIT_HORIZONTAL:5,SPLIT_VERTICAL:6,FULL:7};var Dn,Js,En,Mt,$t;class za{constructor(e,t=[]){p(this,Dn,new Pe);p(this,Js,Hn());p(this,En,void 0);b(this,"layout",{size:I(0,0),position:I(0,0)});p(this,Mt,new Map);p(this,$t,new Map);b(this,"models",Wi([]));g(this,En,e),t.forEach(r=>this.add(r))}getActiveWindow(){return this.models.value.find(e=>e.options.focused)}setActiveWindow(e){this.models.value.forEach(t=>{t.options.focused=e===t.id,e===t.id&&u(this,Dn).next(new G("setActiveWindow",t))})}hasEmbbedWindow(){return!!this.models.value.find(e=>e.options.embed)}isHeaderVsible(){return!this.models.value.find(e=>e.options.embed&&e.options.hideRootHeader)}add(e,t){const{full:r,active:i,group:s}={full:!1,active:!0,group:null,...t};if(e instanceof Er||(e=new Er(e)),e.setWrapper(this),r&&(console.log("full",this.layout.size.toJSON()),e.layout.size=this.layout.size),s){let a;u(this,Mt).has(s)?(a=u(this,Mt).get(s),a.windows.push(e)):(a={primary:e,windows:[],name:s},u(this,Mt).set(s,a)),e.setGroup(a)}return e.layout.zIndex=this.models.value.length,this.models.value.push(e),u(this,Dn).next(new G("add",e)),u(this,$t).set(e.id,e),i&&this.setActiveWindow(e.id),e}remove(e){typeof e=="string"&&(e=this.get(e)),e.group&&(e.group.primary===e?(e.group.windows.forEach(t=>t.close()),u(this,Mt).delete(e.group.name)):e.group.primary.focus()),this.models.value.splice(this.models.value.indexOf(e),1),u(this,$t).delete(e.id)}get(e){return u(this,$t).get(e)}clear(){this.models=Wi([].splice(0,this.models.value.length)),u(this,$t).clear()}setWindowUpDown(e,t){const r=this.models.value,i=r.indexOf(this.get(e));if(!t&&i+1<r.length||t&&i-1>=0){const s=t?i-1:i+1,a=r[Number(s)].layout.zIndex;r[Number(s)].layout.zIndex=r[Number(i)].layout.zIndex,r[Number(i)].layout.zIndex=a}}centerWindow(e){typeof e=="string"&&(e=this.get(e)),Ms(e,this.layout)}setWindowPositions(e,t=[]){switch(t.length<1&&t.push(...this.models.value),e){case mt.FULL:t.forEach(r=>{Sc(r,this.layout)});break;case mt.CENTER:t.forEach(r=>{Ms(r,this.layout)});break;case mt.ORDER_DIAGONAL_LEFT:case mt.ORDER_DIAGONAL_RIGHT:Ic(t,this.layout,mt.ORDER_DIAGONAL_RIGHT===e);break;case mt.SPLIT_HORIZONTAL:case mt.SPLIT_VERTICAL:Fc(t,this.layout,mt.SPLIT_VERTICAL===e);break}}saveSize(e,t){if(this.get(e).symbolWrapper&&this.get(e).symbolWrapper.fsItem){const r=this.get(e).symbolWrapper.fsItem;r.meta.set(A.WINDOW_SIZE,t),u(this,En).modules.files.fs.saveItem(r)}}savePosition(e,t){if(this.get(e).symbolWrapper&&this.get(e).symbolWrapper.fsItem){const r=this.get(e).symbolWrapper.fsItem;r.meta.set(A.WINDOW_POSITION,t),u(this,En).modules.files.fs.saveItem(r)}}get events(){return u(this,Dn)}}Dn=new WeakMap,Js=new WeakMap,En=new WeakMap,Mt=new WeakMap,$t=new WeakMap;function Sc(n,e){n.layout.size=e.size}function Ms(n,e){n.layout.position=I(()=>(e.size-n.layout.size)/2)}function Ic(n,e,t){const r=1/n.length;n.forEach((i,s)=>{Ms(i,e),s=-Math.floor(n.length/2)+s;const a=I(i.layout.position.x+(t?-1:1)*(r*i.layout.size.x)*s,i.layout.position.y+r*i.layout.size.y*s),o=I(()=>e.size-i.layout.size);i.layout.position=I(()=>Math.max(Math.min(a,o),0))})}function Fc(n,e,t){let r;const i=n.length;t?(r=I(e.size.x,e.size.y/i),n.forEach((s,a)=>{s.layout.position=I(0,a*r.y),s.layout.size=r})):(r=I(e.size.x/i,e.size.y),n.forEach((s,a)=>{s.layout.position=I(a*r.x,0),s.layout.size=r}))}var zt,Vt,Fr;class Ac{constructor(e){p(this,zt,[]);p(this,Vt,new Map);p(this,Fr,void 0);g(this,Fr,e)}add(e){e.forEach(t=>{[].concat(t[u(this,Fr)]).forEach(r=>{u(this,Vt).set(r,t)})}),u(this,zt).push(...e)}remove(e){e.forEach(t=>{u(this,zt).splice(u(this,zt).indexOf(t),1)})}has(e){return u(this,Vt).has(e)}get(e){return u(this,Vt).get(e)}get items(){return u(this,zt)}get itemsMapping(){return u(this,Vt)}}zt=new WeakMap,Vt=new WeakMap,Fr=new WeakMap;class kc extends Ac{constructor(){super("name")}}const Bt=new kc;function Cc(n){return n.toLowerCase()}var Tc=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Oc=/[^A-Z0-9]+/gi;function Ho(n,e){e===void 0&&(e={});for(var t=e.splitRegexp,r=t===void 0?Tc:t,i=e.stripRegexp,s=i===void 0?Oc:i,a=e.transform,o=a===void 0?Cc:a,l=e.delimiter,c=l===void 0?" ":l,d=Va(Va(n,r,"$1\0$2"),s,"\0"),m=0,h=d.length;d.charAt(m)==="\0";)m++;for(;d.charAt(h-1)==="\0";)h--;return d.slice(m,h).split("\0").map(o).join(c)}function Va(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,i){return r.replace(i,t)},n)}function Yo(n,e){var t=n.charAt(0),r=n.substr(1).toLowerCase();return e>0&&t>="0"&&t<="9"?"_"+t+r:""+t.toUpperCase()+r}function Rc(n,e){return e===void 0&&(e={}),Ho(n,gr({delimiter:"",transform:Yo},e))}function Wc(n,e){return e===0?n.toLowerCase():Yo(n,e)}function hn(n,e){return e===void 0&&(e={}),Rc(n,gr({transform:Wc},e))}function Bc(n){return n.charAt(0).toUpperCase()+n.substr(1)}function Nc(n){return Bc(n.toLowerCase())}function Xo(n,e){return e===void 0&&(e={}),Ho(n,gr({delimiter:" ",transform:Nc},e))}var Ar,kr,vn,Cr;class Lc{constructor({name:e,description:t,args:r,action:i}){p(this,Ar,void 0);p(this,kr,void 0);p(this,vn,[]);p(this,Cr,void 0);g(this,Ar,[].concat(e)),g(this,kr,t),g(this,vn,r||u(this,vn)),g(this,Cr,i)}action(...e){return u(this,Cr).call(this,...e)}get description(){return u(this,kr)}get name(){return u(this,Ar)}get args(){return u(this,vn)}}Ar=new WeakMap,kr=new WeakMap,vn=new WeakMap,Cr=new WeakMap;function Ko(n){return n.map(e=>new Lc(e))}function Pc(n,e){return n.args.reduce((t,r)=>{const i=[].concat(r.name);i.length<1&&(i.push=`argument-${r.index}`);const s=hn(r.name[0]);if("index"in r&&r.index!==void 0&&Number(r.index)in e.args){const a=r.index;let o=e.args[Number(a)];o=o===void 0?!0:o,t[Number(a)]=o,t.unresolved[Number(a)]=e.unresolved.args[Number(a)],t[String(s)]=o,t.unresolved[String(s)]=e.unresolved.args[Number(a)]}return i.forEach(a=>{if(a in e.kwargs){const o=e.kwargs[String(a)];t[String(s)]=o===void 0?!0:o,t.unresolved[String(s)]=e.kwargs[String(a)]===void 0?!0:o}}),t},{unresolved:{}})}var Tr,Or,Rr,Wr;class y{constructor({name:e,index:t,flag:r,description:i}){p(this,Tr,void 0);p(this,Or,void 0);p(this,Rr,void 0);p(this,Wr,void 0);g(this,Tr,[].concat(e)),g(this,Or,t),g(this,Rr,r),g(this,Wr,i)}get name(){return u(this,Tr)}get index(){return u(this,Or)}get flag(){return u(this,Rr)}get description(){return u(this,Wr)}}Tr=new WeakMap,Or=new WeakMap,Rr=new WeakMap,Wr=new WeakMap;const $e={DEFAULT:0,CHECKBOX:1,RADIO:2};class Ua{constructor({type:e=$e.DEFAULT,model:t,options:r,action:i,command:s,url:a,order:o=-1,title:l=null,items:c=[],name:d=null,value:m=null,hotKey:h,keyCode:f,separator:E=!1,onInit:w}){b(this,"options",{disabled:!1,checked:!1});this.id=Hn(),this.type=e,this.model=t,this.options=Object.assign(r||{},this.options,Object.assign({},r)),e===$e.RADIO&&(this.options.checked=this.options.checked=this.options.checked?m:!1),this.action=i,this.command=s,this.url=a,this.name=d,this.value=m,this.order=o,this.title=l,this.items=qo(c),this.hotKey=h,this.keyCode=f,this.separator=E,w&&w(this)}}function qo(n){return n.map(e=>e instanceof Ua?e:new Ua(e))}class jn{constructor(e,t){b(this,"id",Hn());b(this,"items",[]);e&&(this.items=qo(e(t)))}add(e){e instanceof jn&&this.items.push(...e.items)}}var qe,_t,Br,Ze;class cs{constructor({config:e={},commands:t,contextMenu:r=null,core:i}){p(this,qe,[]);p(this,_t,[]);p(this,Br,{});p(this,Ze,void 0);g(this,Ze,i),g(this,Br,e),g(this,qe,t),g(this,_t,r)}beforeSetup(){const e=u(this,Ze);e.config.setDefaults(u(this,Br)),typeof u(this,qe)=="function"&&(g(this,qe,Ko(u(this,qe).call(this,{core:e,module:this}))),Bt.add(u(this,qe))),typeof u(this,_t)=="function"&&(g(this,_t,new jn(u(this,_t),{core:e,module:this})),u(this,Ze).modules.windows.contextMenu.addDefaultItems(u(this,_t)))}setup(e){this.log(this.name)}destroy(){u(this,Ze).removeCommands(u(this,qe))}get core(){return u(this,Ze)}log(e){u(this,Ze).logger.add(e,{namespace:this.constructor.NAME})}get name(){return this.constructor.NAME}}qe=new WeakMap,_t=new WeakMap,Br=new WeakMap,Ze=new WeakMap;var Mc=({onlyFirst:n=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,n?void 0:"g")};const $c=Mc;var zc=n=>typeof n=="string"?n.replace($c(),""):n,ga={exports:{}},Zo={exports:{}};(function(n){var e=function(){function t(l,c,d,m){typeof c=="object"&&(d=c.depth,m=c.prototype,c.filter,c=c.circular);var h=[],f=[],E=typeof qn.Buffer<"u";typeof c>"u"&&(c=!0),typeof d>"u"&&(d=1/0);function w(k,R){if(k===null)return null;if(R==0)return k;var S,N;if(typeof k!="object")return k;if(t.__isArray(k))S=[];else if(t.__isRegExp(k))S=new RegExp(k.source,o(k)),k.lastIndex&&(S.lastIndex=k.lastIndex);else if(t.__isDate(k))S=new Date(k.getTime());else{if(E&&qn.Buffer.isBuffer(k))return qn.Buffer.allocUnsafe?S=qn.Buffer.allocUnsafe(k.length):S=new qn.Buffer(k.length),k.copy(S),S;typeof m>"u"?(N=Object.getPrototypeOf(k),S=Object.create(N)):(S=Object.create(m),N=m)}if(c){var oe=h.indexOf(k);if(oe!=-1)return f[oe];h.push(k),f.push(S)}for(var H in k){var Q;N&&(Q=Object.getOwnPropertyDescriptor(N,H)),!(Q&&Q.set==null)&&(S[H]=w(k[H],R-1))}return S}return w(l,d)}t.clonePrototype=function(c){if(c===null)return null;var d=function(){};return d.prototype=c,new d};function r(l){return Object.prototype.toString.call(l)}t.__objToStr=r;function i(l){return typeof l=="object"&&r(l)==="[object Date]"}t.__isDate=i;function s(l){return typeof l=="object"&&r(l)==="[object Array]"}t.__isArray=s;function a(l){return typeof l=="object"&&r(l)==="[object RegExp]"}t.__isRegExp=a;function o(l){var c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),c}return t.__getRegExpFlags=o,t}();n.exports&&(n.exports=e)})(Zo);var Vc=Zo.exports,Uc=Vc,jc=function(n,e){return n=n||{},Object.keys(e).forEach(function(t){typeof n[t]>"u"&&(n[t]=Uc(e[t]))}),n},Gc=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],Hc=jc,Jn=Gc,Qo={nul:0,control:0};ga.exports=function(e){return Jo(e,Qo)};ga.exports.config=function(n){return n=Hc(n||{},Qo),function(t){return Jo(t,n)}};function Jo(n,e){if(typeof n!="string")return ja(n,e);for(var t=0,r=0;r<n.length;r++){var i=ja(n.charCodeAt(r),e);if(i<0)return-1;t+=i}return t}function ja(n,e){return n===0?e.nul:n<32||n>=127&&n<160?e.control:Yc(n)?0:1+(n>=4352&&(n<=4447||n==9001||n==9002||n>=11904&&n<=42191&&n!=12351||n>=44032&&n<=55203||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65135||n>=65280&&n<=65376||n>=65504&&n<=65510||n>=131072&&n<=196605||n>=196608&&n<=262141))}function Yc(n){var e=0,t=Jn.length-1,r;if(n<Jn[0][0]||n>Jn[t][1])return!1;for(;t>=e;)if(r=Math.floor((e+t)/2),n>Jn[r][1])e=r+1;else if(n<Jn[r][0])t=r-1;else return!0;return!1}var Xc=ga.exports,Kc=zc,qc=Xc,el=function(n){return qc(Kc(n))},on={},ut=el;function Mi(n,e){return Array.apply(null,{length:e+1}).join(n).slice(0,e)}function Zc(n,e,t){n=n??"",n=String(n);var r=e-ut(n);return r<=0?n:n+Mi(t||" ",r)}function Qc(n,e,t){n=n??"",n=String(n);var r=e-ut(n);if(r<=0)return n;var i=Math.floor(r/2),s=r-i;return Mi(t||" ",i)+n+Mi(t||" ",s)}function Jc(n,e,t){n=n??"",n=String(n);var r=e-ut(n);return r<=0?n:Mi(t||" ",r)+n}function ed(n,e){function t(r,i){return r.trim().split(" ").reduce(function(s,a){var o=s[s.length-1];return o&&ut(o.join(" "))+ut(a)<i?s[s.length-1].push(a):s.push([a]),s},[]).map(function(s){return s.join(" ")})}return n.split(`
`).map(function(r){return t(r,e)}).reduce(function(r,i){return r.concat(i)},[])}function td(n,e,t){n=n.trim();for(var r=[],i=n.split(" "),s="",a=ut(t);s||i.length;){if(s){var o=s;s=""}else var o=i.shift();if(ut(o)>e){for(var l=0,c=0,d=e-a;l<o.length;){var m=ut(o.charAt(l));if(m+c>d)break;c+=m,++l}s=o.slice(l),o=o.slice(0,l),o+=t}r.push(o)}return r.join(" ")}function nd(n,e){if(n=n??"",n=String(n),e==1/0)return n;for(var t=0,r=0;t<n.length;){var i=ut(n.charAt(t));if(i+r>e)break;r+=i,++t}return n.slice(0,t)}on.padRight=Zc;on.padCenter=Qc;on.padLeft=Jc;on.splitIntoLines=ed;on.splitLongWords=td;on.truncateString=nd;var Ds=el,Yn=on,rd=Yn.padRight,id=Yn.padCenter,sd=Yn.padLeft,Ga=Yn.splitIntoLines,ad=Yn.splitLongWords,od=Yn.truncateString,tl=function(e){return e.toUpperCase()},ld=function(e,t,r){return e},ud=Object.freeze({maxWidth:1/0,minWidth:0,columnSplitter:" ",truncate:!1,truncateMarker:"",preserveNewLines:!1,paddingChr:" ",showHeaders:!0,headingTransform:tl,dataTransform:ld}),cd=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.config||{};delete e.config;var r=e.maxLineWidth||1/0;r==="auto"&&(r=Al.stdout.columns||1/0),delete e.maxLineWidth,e=Ha({},ud,e),e.config=e.config||Object.create(null),e.spacing=e.spacing||`
`,e.preserveNewLines=!!e.preserveNewLines,e.showHeaders=!!e.showHeaders,e.columns=e.columns||e.include;var i=e.columns||[];n=fd(n,i),i.length||n.forEach(function(l){for(var c in l)i.indexOf(c)===-1&&i.push(c)});var s=i.reduce(function(l,c){var d=Object.create(e);return l[c]=Ha(d,t[c]),l},Object.create(null));i.forEach(function(l){var c=s[l];c.name=l,c.maxWidth=Math.ceil(c.maxWidth),c.minWidth=Math.ceil(c.minWidth),c.truncate=!!c.truncate,c.align=c.align||"left"}),n=n.map(function(l){var c=Object.create(null);return i.forEach(function(d){c[d]=l[d]!=null?l[d]:"",c[d]=""+c[d],s[d].preserveNewLines?c[d]=c[d].replace(/[^\S\n]/gmi," "):c[d]=c[d].replace(/\s/gmi," ")}),c}),i.forEach(function(l){var c=s[l];n=n.map(function(d,m){var h=Object.create(c);d[l]=c.dataTransform(d[l],h,m);var f=Object.keys(h);if(f.indexOf("name")!==-1){if(c.headingTransform!==tl)return;c.headingTransform=function(E){return E}}return f.forEach(function(E){return c[E]=h[E]}),d})});var a={};e.showHeaders&&(i.forEach(function(l){var c=s[l];if(!c.showHeaders){a[l]="";return}a[l]=c.headingTransform(c.name)}),n.unshift(a)),i.forEach(function(l){var c=s[l];c.width=n.map(function(d){return d[l]}).reduce(function(d,m){return d>=c.maxWidth?d:Math.max(d,Math.min(c.maxWidth,Math.max(c.minWidth,Ds(m))))},0)}),i.forEach(function(l){var c=s[l];n=n.map(function(d){return d[l]=ad(d[l],c.width,c.truncateMarker),d})}),i.forEach(function(l){var c=s[l];n=n.map(function(d,m){var h=d[l];if(d[l]=Ga(h,c.width),c.truncate&&d[l].length>1){d[l]=Ga(h,c.width-Ds(c.truncateMarker));var f=d[l][0];md(f,c.truncateMarker)||(d[l][0]+=c.truncateMarker),d[l]=d[l].slice(0,1)}return d})}),i.forEach(function(l){var c=s[l];c.width=n.map(function(d){return d[l].reduce(function(m,h){return m>=c.maxWidth?m:Math.max(m,Math.min(c.maxWidth,Math.max(c.minWidth,Ds(h))))},0)}).reduce(function(d,m){return d>=c.maxWidth?d:Math.max(d,Math.min(c.maxWidth,Math.max(c.minWidth,m)))},0)});var o=dd(n,s,i,e.paddingChr);return o.reduce(function(l,c){return l.concat(c.reduce(function(d,m){return d.concat(m.join(e.columnSplitter))},[]))},[]).map(function(l){return od(l,r)}).join(e.spacing)};function dd(n,e,t,r){return n.map(function(i){var s=[],a=0;t.forEach(function(c){a=Math.max(a,i[c].length)});for(var o=function(d){s[d]=s[d]||[],t.forEach(function(m){var h=e[m],f=i[m][d]||"";h.align==="right"?s[d].push(sd(f,h.width,r)):h.align==="center"||h.align==="centre"?s[d].push(id(f,h.width,r)):s[d].push(rd(f,h.width,r))})},l=0;l<a;l++)o(l);return s})}function Ha(){return Object.assign?Object.assign.apply(Object,arguments):hd.apply(void 0,arguments)}function hd(n,e){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(n),r=!1,i,s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null){for(var o=Object.keys(Object(a)),l=0,c=o.length;l<c;l++){var d=o[l];try{var m=Object.getOwnPropertyDescriptor(a,d);m!==void 0&&m.enumerable&&(t[d]=a[d])}catch(h){r||(r=!0,i=h)}}if(r)throw i}}return t}function md(n,e,t){t=t||n.length,t=t-e.length;var r=n.lastIndexOf(e);return r!==-1&&r===t}function fd(n,e){if(Array.isArray(n))return n;var t=[];for(var r in n){var i={};i[e[0]||"key"]=r,i[e[1]||"value"]=n[r],t.push(i)}return t}const $s=Fl(cd);var Nr,Lr,Pr,xn;class Jt{constructor(e){p(this,Nr,0);p(this,Lr,!0);p(this,Pr,[]);p(this,xn,[]);const{showHeader:t,headerPadding:r,columns:i}=Object.assign({showHeader:!0,headerPadding:0,columns:[]},e);g(this,Lr,t),g(this,Nr,r),this.addColumn(i)}addColumn(e){Array.isArray(e)?u(this,xn).push(...[].concat(e)):u(this,xn).push(Object.assign({value:null,align:"left",minWidth:0,maxWidth:0,spacerChar:" "},e))}addRow(e){u(this,Pr).push(...[].concat(e))}static createSpacer(e,t,r){if(e.length<t){t=t-e.length;for(let i=0;i<t;i++)e+=r}return e}get columns(){return u(this,xn)}get rows(){return u(this,Pr)}get showHeader(){return u(this,Lr)}get headerPadding(){return u(this,Nr)}toColumnify(){const e=this.columns.map(i=>i.value),t=this.rows.reduce((i,s,a)=>(a<1&&this.showHeader&&this.headerPadding&&i.push(...Array(this.headerPadding).fill("")),i.push(this.columns.reduce((o,l,c)=>(o[l.value]=s[Number(c)],o),{})),i),[]),r=this.columns.reduce((i,s)=>(i[s.value]={},s.align&&(i[s.value].align=s.align),s.minWidth&&(i[s.value].minWidth=s.minWidth),s.maxWidth&&(i[s.value].maxWidth=s.maxWidth),i[s.value].headingTransform=a=>a,i),{});return $s(t,{showHeaders:this.showHeader,preserveNewLines:!0,config:r,columns:e}).replace(/\xC2/g," ")}}Nr=new WeakMap,Lr=new WeakMap,Pr=new WeakMap,xn=new WeakMap;var Mr,$r,zr;class pd{constructor(e){p(this,Mr,void 0);p(this,$r,!1);p(this,zr,void 0);const{core:t,debug:r,consoleInterface:i}=Object.assign({core:null,debug:!1,consoleInterface:null},e);g(this,Mr,t),g(this,$r,r),g(this,zr,i)}add(e,t){}get core(){return u(this,Mr)}get debug(){return u(this,$r)}get consoleInterface(){return u(this,zr)}}Mr=new WeakMap,$r=new WeakMap,zr=new WeakMap;var Vr,Xi,Ur;const Ki=class extends pd{constructor(t){const{silent:r,color:i}=t=Object.assign({silent:!1,color:!1},t);super(t);p(this,Vr,void 0);p(this,Xi,[]);p(this,Ur,!1);g(this,Vr,r),g(this,Ur,i)}add(t,r){const{namespace:i,type:s}=Object.assign({namespace:null,type:Ki.TYPE.INFO},r);u(this,Xi).push(t),!u(this,Vr)&&s!==Ki.TYPE.DEBUG&&(i?u(this,Ur)?console.log("%c[ %s ]%c[ %s ]","background: #000; color: #008000",s,"background: #000; color: #90ee90",i,t):console.log(`[ ${s.toUpperCase()} ][ ${i} ]`,t):t instanceof Jt?this.consoleInterface.table(t):this.consoleInterface.log(t))}};let fn=Ki;Vr=new WeakMap,Xi=new WeakMap,Ur=new WeakMap,b(fn,"TYPE",{DEBUG:"debug",INFO:"info",OUTPUT:"output"});var Sn,Ut,jr,Qe,co;let wa=(co=class{constructor(e){p(this,Sn,!1);p(this,Ut,void 0);p(this,jr,void 0);p(this,Qe,{});e=Object.assign({locked:u(this,Sn),storage:void 0,name:void 0},e),g(this,Sn,e.locked),g(this,Ut,e.storage),g(this,jr,e.name)}get locked(){return u(this,Sn)}get name(){return u(this,jr)}get storage(){return u(this,Ut)}get data(){return u(this,Qe)}set data(e){g(this,Qe,e)}mount(){return new Promise(e=>{e(this)})}unmount(){return new Promise(e=>{e(this)})}load(){if(!u(this,Ut))throw new Error("no storage");return Promise.resolve(u(this,Qe))}save(e){if(!u(this,Ut))throw new Error("no storage");return g(this,Qe,e||u(this,Qe)),Promise.resolve(u(this,Qe))}},Sn=new WeakMap,Ut=new WeakMap,jr=new WeakMap,Qe=new WeakMap,co);var jt;class nl{constructor(){p(this,jt,new Map)}getItem(e){return u(this,jt).get(e)}setItem(e,t){u(this,jt).set(e,t)}removeItem(e){u(this,jt).delete(e)}clear(){u(this,jt).clear()}}jt=new WeakMap;class bd extends wa{constructor(e){e=Object.assign({storage:new nl},e),super(e)}}class rl extends wa{mount(){return new Promise(e=>{try{let t;try{if(t=this.storage.getItem(this.name),t){if(t=JSON.parse(t),!t||!(t instanceof Object))throw new Error("json invalid")}else throw new Error("json invalid")}catch{t={}}this.storage.setItem(this.name,JSON.stringify(t)),e(this)}catch(t){throw new Error(t)}})}load(){return new Promise(e=>{if(this.storage)try{this.data=JSON.parse(this.storage.getItem(this.name)),e(this.data)}catch(t){throw new Error(t)}})}save(e){return new Promise(t=>{if(this.storage)try{this.data=e||this.data,this.storage.setItem(this.name,JSON.stringify(this.data)),t(this.data)}catch(r){throw new Error(r)}})}}class gd extends rl{constructor(e){e=Object.assign({storage:window.localStorage},e),super(e)}}class wd extends rl{constructor(e){e=Object.assign({storage:window.sessionStorage||new nl},e),super(e)}}class il extends wa{}const ce={NONE:0,AUTO:1,TEMP:3,LOCAL:4,SESSION:5,CLOUD:6};function sl(n){switch(n){case ce.TEMP:return bd;case ce.LOCAL:return gd;case ce.SESSION:return wd;case ce.CLOUD:return il;default:return Storage}}var Be,Gt,In,Gr;class _d{constructor(e,t){p(this,Be,new Map);p(this,Gt,Le({}));p(this,In,void 0);p(this,Gr,void 0);g(this,In,new(sl(t||ce.NONE))({name:e})),g(this,Gr,u(this,In).load().then(r=>(g(this,Be,new Map(r)),Object.assign(u(this,Gt),Object.fromEntries(u(this,Be))),this)).catch(r=>{throw r}))}setDefaults(e){Object.keys(e).forEach(t=>{this.has(t)||this.set(t,e[String(t)])})}get(e){return u(this,Be).get(e)}has(e){return u(this,Be).has(e)}set(e,t){return typeof e=="object"&&!(e instanceof Map)?Object.keys(e).forEach(r=>{t=e[String(r)],u(this,Be).set(r,t),u(this,Gt)[String(r)]=t}):(u(this,Be).set(e,t),u(this,Gt)[String(e)]=t),u(this,In).save(Array.from(u(this,Be)))}get observable(){return u(this,Gt)}get entries(){return u(this,Be)}get ready(){return u(this,Gr)}}Be=new WeakMap,Gt=new WeakMap,In=new WeakMap,Gr=new WeakMap;var Hr;class yd{constructor(e){p(this,Hr,void 0);g(this,Hr,e)}get core(){return u(this,Hr)}ready(){}prompt(e){}log(...e){console.log(...e)}clear(...e){}destroy(){}}Hr=new WeakMap;class Dd extends yd{prompt(e){const t=["openDialog","--prompt"];return e&&t.push(`--message="${J(e)}"`),this.core.executeCommand(t.join(" "))}}const Ed=`# Project Changelog

## [1.3.20-beta.1](https://github.com/ThornWalli/web-workbench/compare/v1.3.19...v1.3.20-beta.1) (2023-07-30)


### Bug Fixes

* **public:** added public dir ([e41c241](https://github.com/ThornWalli/web-workbench/commit/e41c24180cc88ecdb17571d5aad68d07f3eee3c5))
* **update:** improvements ([63d967d](https://github.com/ThornWalli/web-workbench/commit/63d967d0c9855dcf45716db61d4d804e59918310))
* **update:** update nuxt 3 ([7915791](https://github.com/ThornWalli/web-workbench/commit/79157918a52dcea3a4ec2a9366727ec385a0eac0))

## [1.3.19](https://github.com/ThornWalli/web-workbench/compare/v1.3.18...v1.3.19) (2023-07-28)


### Bug Fixes

* **update:** more updates ([6c02598](https://github.com/ThornWalli/web-workbench/commit/6c025981b4e73951da53fc809b14afb54bba965b))
* **update:** update project ([1550039](https://github.com/ThornWalli/web-workbench/commit/15500390ad8164d9be2a854801f6249b1336f688))

## [1.3.18](https://github.com/ThornWalli/web-workbench/compare/v1.3.17...v1.3.18) (2022-06-05)


### Bug Fixes

* **core:** fix font style ([6c33584](https://github.com/ThornWalli/web-workbench/commit/6c33584a88a2e8d2f172339eab36d2c8a0684301))
* **math-parser:** add hex functions ([c0a0e76](https://github.com/ThornWalli/web-workbench/commit/c0a0e76dc51beb25a1e5a95ddcc58b6f7d2f875d))
* **refactor:** improve \`Core.vue\`; improve event subscribes ([167336e](https://github.com/ThornWalli/web-workbench/commit/167336e4354103b48fe2653aac5adcedc83bf215))

## [1.3.18-beta.2](https://github.com/ThornWalli/web-workbench/compare/v1.3.18-beta.1...v1.3.18-beta.2) (2022-06-05)


### Bug Fixes

* **core:** fix font style ([6c33584](https://github.com/ThornWalli/web-workbench/commit/6c33584a88a2e8d2f172339eab36d2c8a0684301))
* **math-parser:** add hex functions ([c0a0e76](https://github.com/ThornWalli/web-workbench/commit/c0a0e76dc51beb25a1e5a95ddcc58b6f7d2f875d))

## [1.3.18-beta.1](https://github.com/ThornWalli/web-workbench/compare/v1.3.17...v1.3.18-beta.1) (2022-06-03)


### Bug Fixes

* **refactor:** improve \`Core.vue\`; improve event subscribes ([167336e](https://github.com/ThornWalli/web-workbench/commit/167336e4354103b48fe2653aac5adcedc83bf215))

## [1.3.17](https://github.com/ThornWalli/web-workbench/compare/v1.3.16...v1.3.17) (2022-05-31)


### Bug Fixes

* **firebase:** update firebase; improve firebaseWrapper tests ([094cc50](https://github.com/ThornWalli/web-workbench/commit/094cc504b2b3904525ea113dd513591eb1246ae5))

## [1.3.16](https://github.com/ThornWalli/web-workbench/compare/v1.3.15...v1.3.16) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger ([9b93f6b](https://github.com/ThornWalli/web-workbench/commit/9b93f6b248fe525c3fd9be35b9c5e7d61854116c))
* **ci:** fix deploy trigger ([3971268](https://github.com/ThornWalli/web-workbench/commit/397126821e1613c989b02f69a1f4a0d2fc995ad9))
* **ci:** fix deploy trigger 1 ([9242e25](https://github.com/ThornWalli/web-workbench/commit/9242e25dcf80073e1ff9f0bd90e2a19dece744d5))
* **ci:** fix missing base path ([af2bc8b](https://github.com/ThornWalli/web-workbench/commit/af2bc8bc8d6d8eaaf2bc037d31fe4628bcc3c6b5))
* **ci:** removed unused ifs & test version env ([a92f7b7](https://github.com/ThornWalli/web-workbench/commit/a92f7b7e7e09c530add416b62c3ffeea2e8f5e05))
* **ci:** test 2 ([4df68a4](https://github.com/ThornWalli/web-workbench/commit/4df68a42f1ce9232407cf8f7daf5313fe444a016))
* **ci:** test 3 ([ab43e14](https://github.com/ThornWalli/web-workbench/commit/ab43e148991f0e85b8cb4c185e23b115217241a3))
* **ci:** test env version ([1c9086c](https://github.com/ThornWalli/web-workbench/commit/1c9086c158d0b25eacff6888168a3f25e9f6e46b))

## [1.3.16-beta.7](https://github.com/ThornWalli/web-workbench/compare/v1.3.16-beta.6...v1.3.16-beta.7) (2022-05-30)


### Bug Fixes

* **ci:** test 2 ([4df68a4](https://github.com/ThornWalli/web-workbench/commit/4df68a42f1ce9232407cf8f7daf5313fe444a016))
* **ci:** test 3 ([ab43e14](https://github.com/ThornWalli/web-workbench/commit/ab43e148991f0e85b8cb4c185e23b115217241a3))

## [1.3.16-beta.6](https://github.com/ThornWalli/web-workbench/compare/v1.3.16-beta.5...v1.3.16-beta.6) (2022-05-30)


### Bug Fixes

* **ci:** test env version ([1c9086c](https://github.com/ThornWalli/web-workbench/commit/1c9086c158d0b25eacff6888168a3f25e9f6e46b))

## [1.3.16-beta.5](https://github.com/ThornWalli/web-workbench/compare/v1.3.16-beta.4...v1.3.16-beta.5) (2022-05-30)


### Bug Fixes

* **ci:** fix missing base path ([af2bc8b](https://github.com/ThornWalli/web-workbench/commit/af2bc8bc8d6d8eaaf2bc037d31fe4628bcc3c6b5))

## [1.3.16-beta.4](https://github.com/ThornWalli/web-workbench/compare/v1.3.16-beta.3...v1.3.16-beta.4) (2022-05-30)


### Bug Fixes

* **ci:** removed unused ifs & test version env ([a92f7b7](https://github.com/ThornWalli/web-workbench/commit/a92f7b7e7e09c530add416b62c3ffeea2e8f5e05))

## [1.3.16-beta.3](https://github.com/ThornWalli/web-workbench/compare/v1.3.16-beta.2...v1.3.16-beta.3) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger 1 ([9242e25](https://github.com/ThornWalli/web-workbench/commit/9242e25dcf80073e1ff9f0bd90e2a19dece744d5))

## [1.3.16-beta.2](https://github.com/ThornWalli/web-workbench/compare/v1.3.16-beta.1...v1.3.16-beta.2) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger ([9b93f6b](https://github.com/ThornWalli/web-workbench/commit/9b93f6b248fe525c3fd9be35b9c5e7d61854116c))

## [1.3.16-beta.1](https://github.com/ThornWalli/web-workbench/compare/v1.3.15...v1.3.16-beta.1) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger ([3971268](https://github.com/ThornWalli/web-workbench/commit/397126821e1613c989b02f69a1f4a0d2fc995ad9))

## [1.3.15](https://github.com/ThornWalli/web-workbench/compare/v1.3.14...v1.3.15) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger ([617dd0e](https://github.com/ThornWalli/web-workbench/commit/617dd0e61f3380ed1f53a725ba602fd38ca0aee4))
* **ci:** fix deploy trigger ([13d4f21](https://github.com/ThornWalli/web-workbench/commit/13d4f2161b4f837774ea8ebbfabb6c5dd52da8a3))
* **ci:** fix deploy trigger ([d5b59e0](https://github.com/ThornWalli/web-workbench/commit/d5b59e0ff2940f70888cdd50f35a34bcb25084bd))
* **components:** added scoped attribute ([d69867d](https://github.com/ThornWalli/web-workbench/commit/d69867dfa9a27236abf624955e04b3b63f402a09))
* **update:** update dependecies ([d41cebc](https://github.com/ThornWalli/web-workbench/commit/d41cebc43b03c2276d42800fa3098ecdfc559463))

## [1.3.15-beta.4](https://github.com/ThornWalli/web-workbench/compare/v1.3.15-beta.3...v1.3.15-beta.4) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger ([617dd0e](https://github.com/ThornWalli/web-workbench/commit/617dd0e61f3380ed1f53a725ba602fd38ca0aee4))

## [1.3.15-beta.3](https://github.com/ThornWalli/web-workbench/compare/v1.3.15-beta.2...v1.3.15-beta.3) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger ([13d4f21](https://github.com/ThornWalli/web-workbench/commit/13d4f2161b4f837774ea8ebbfabb6c5dd52da8a3))

## [1.3.15-beta.2](https://github.com/ThornWalli/web-workbench/compare/v1.3.15-beta.1...v1.3.15-beta.2) (2022-05-30)


### Bug Fixes

* **ci:** fix deploy trigger ([d5b59e0](https://github.com/ThornWalli/web-workbench/commit/d5b59e0ff2940f70888cdd50f35a34bcb25084bd))

## [1.3.15-beta.1](https://github.com/ThornWalli/web-workbench/compare/v1.3.14...v1.3.15-beta.1) (2022-05-30)


### Bug Fixes

* **components:** added scoped attribute ([d69867d](https://github.com/ThornWalli/web-workbench/commit/d69867dfa9a27236abf624955e04b3b63f402a09))
* **update:** update dependecies ([d41cebc](https://github.com/ThornWalli/web-workbench/commit/d41cebc43b03c2276d42800fa3098ecdfc559463))

## [1.3.14](https://github.com/ThornWalli/web-workbench/compare/v1.3.13...v1.3.14) (2020-12-18)


### Bug Fixes

* **lint:** fixing ([255f7b6](https://github.com/ThornWalli/web-workbench/commit/255f7b62e8be1777e98b66b3860d40a7f37e33ac))
* **pwa-reports:** fix workbox and renamed reports dir ([1d9ce88](https://github.com/ThornWalli/web-workbench/commit/1d9ce881ddd2ea97792a9f732257510cdb131b3c))

## [1.3.13](https://github.com/ThornWalli/web-workbench/compare/v1.3.12...v1.3.13) (2020-05-29)


### Bug Fixes

* **deps:** update dependency @babel/plugin-proposal-private-methods to v7.10.1 ([03e4e9c](https://github.com/ThornWalli/web-workbench/commit/03e4e9c8b33388e31f1439928599030aaeddc80a))
* **deps:** update dependency firebase to v7.14.6 ([389d9b3](https://github.com/ThornWalli/web-workbench/commit/389d9b3b35e6da6c515b905c82733d8d9ffe5eab))
* **deps:** update dependency snyk to v1.327.0 ([b0d378e](https://github.com/ThornWalli/web-workbench/commit/b0d378e0d877cf3c3a358b9cf0cf3aece025cfd1))
* **deps:** update dependency snyk to v1.328.0 ([64a7b9a](https://github.com/ThornWalli/web-workbench/commit/64a7b9ac87515f29d94dfcb2a121140789be47a2))
* **deps:** update dependency snyk to v1.329.0 ([f41c3a5](https://github.com/ThornWalli/web-workbench/commit/f41c3a5a568874f5f17235133d5d97084119381d))
* **deps:** update dependency snyk to v1.330.0 ([b85857a](https://github.com/ThornWalli/web-workbench/commit/b85857aeb16aa426610b869fc21c81795016c097))
* **deps:** update dependency snyk to v1.330.2 ([773b8b5](https://github.com/ThornWalli/web-workbench/commit/773b8b56c15ff1dab9658c1f17cd4ddd490df15c))
* **deps:** update dependency snyk to v1.330.3 ([a096f1a](https://github.com/ThornWalli/web-workbench/commit/a096f1aabba849694c79f9126e129c76c0eebb48))
* **deps:** update dependency snyk to v1.330.4 ([bf458c4](https://github.com/ThornWalli/web-workbench/commit/bf458c49cb26e5f23f8758fe7b74ea1f5e2e9bd8))
* **deps:** update dependency snyk to v1.331.0 ([65eb49f](https://github.com/ThornWalli/web-workbench/commit/65eb49f8893e9a63affe3f999fa26faa6b133654))
* **deps:** update dependency snyk to v1.332.0 ([9efeea1](https://github.com/ThornWalli/web-workbench/commit/9efeea1076b9df7d6a87290236ec08e6e7024fad))
* **deps:** update dependency snyk to v1.332.1 ([af7532f](https://github.com/ThornWalli/web-workbench/commit/af7532fb12e6af8cb8b0848d4d7ec5b509f309a5))

## [1.3.12](https://github.com/ThornWalli/web-workbench/compare/v1.3.11...v1.3.12) (2020-05-24)


### Bug Fixes

* **deps:** update dependency snyk to v1.325.0 ([487b34a](https://github.com/ThornWalli/web-workbench/commit/487b34a85bd179d4393e86cc7ce3449753dfd499))

## [1.3.11](https://github.com/ThornWalli/web-workbench/compare/v1.3.10...v1.3.11) (2020-05-23)


### Bug Fixes

* **cursor:** fix cursor css vars ([775f45d](https://github.com/ThornWalli/web-workbench/commit/775f45d493f23284575a92ea73d28168acd1e137))
* **deps:** update dependency snyk to v1.324.0 ([63e8e38](https://github.com/ThornWalli/web-workbench/commit/63e8e38662af4f6bef2877d0f04272f7c845e893))

## [1.3.10](https://github.com/ThornWalli/web-workbench/compare/v1.3.9...v1.3.10) (2020-05-22)


### Bug Fixes

* **symbols:** add cuby symbol ([9d5fafd](https://github.com/ThornWalli/web-workbench/commit/9d5fafde29a29ab2112dde4369e6ac60e0dff949))

## [1.3.9](https://github.com/ThornWalli/web-workbench/compare/v1.3.8...v1.3.9) (2020-05-22)


### Bug Fixes

* **deps:** pin dependency requestidlecallback to 0.3.0 ([ab09838](https://github.com/ThornWalli/web-workbench/commit/ab09838f9b20bb353d12a3d3685c6428cb1cde2b))

## [1.3.8](https://github.com/ThornWalli/web-workbench/compare/v1.3.7...v1.3.8) (2020-05-22)


### Bug Fixes

* **deps:** update dependency firebase to v7.14.5 ([ab14486](https://github.com/ThornWalli/web-workbench/commit/ab14486dea95b15f2fc60bd735e667931f6a735a))

## [1.3.7](https://github.com/ThornWalli/web-workbench/compare/v1.3.6...v1.3.7) (2020-05-21)


### Bug Fixes

* **cursor:** optimize cursor ([8b5e649](https://github.com/ThornWalli/web-workbench/commit/8b5e649192c035cca667872517d8fdb704a7a3b2))
* **deps:** update dependency cross-blob to v1.2.3 ([4345980](https://github.com/ThornWalli/web-workbench/commit/43459804f347fdc6ec951ac941a3efec7649276a))
* **deps:** update dependency snyk to v1.323.2 ([885fae6](https://github.com/ThornWalli/web-workbench/commit/885fae627f6fe17cff1422e4da50f5bf389d213b))
* **deps:** update dependency uuid to v8.1.0 ([4a33abe](https://github.com/ThornWalli/web-workbench/commit/4a33abedb51b845d5ae1539427cd5ca2389835ad))
* **others:** fix document editor window sizes ([92e6f47](https://github.com/ThornWalli/web-workbench/commit/92e6f470ed30014d1bc238ea923f59131ba11472))
* **styling:** fix styles ([2122e40](https://github.com/ThornWalli/web-workbench/commit/2122e408063fbcbe76b66118a63aa861a1784e99))

## [1.3.6](https://github.com/ThornWalli/web-workbench/compare/v1.3.5...v1.3.6) (2020-05-20)


### Bug Fixes

* **deps:** update dependency snyk to v1.323.1 ([025bb7f](https://github.com/ThornWalli/web-workbench/commit/025bb7fcfd7822f5990b12a00b2e3eb66aa56343))
* **styling:** remove sub-pixel ([c7abf00](https://github.com/ThornWalli/web-workbench/commit/c7abf00216339977f21d42aa7baf9c428794d9d4))

## [1.3.5](https://github.com/ThornWalli/web-workbench/compare/v1.3.4...v1.3.5) (2020-05-19)


### Bug Fixes

* **optimize:** fix screen position, remove position sub-pixel ([b50b720](https://github.com/ThornWalli/web-workbench/commit/b50b72044321750b123941549f687f843067b419))

## [1.3.4](https://github.com/ThornWalli/web-workbench/compare/v1.3.3...v1.3.4) (2020-05-19)


### Bug Fixes

* **deps:** update dependency snyk to v1.323.0 ([6b09625](https://github.com/ThornWalli/web-workbench/commit/6b096258dd2910024d9981cef1e527e47f380fac))

## [1.3.3](https://github.com/ThornWalli/web-workbench/compare/v1.3.2...v1.3.3) (2020-05-19)


### Bug Fixes

* **deps:** update dependency snyk to v1.322.0 ([b233f87](https://github.com/ThornWalli/web-workbench/commit/b233f8769c718e83fe117a04fe37ecefc065b859))
* **position-color:** fix sub-pixel css var positions with round ([09c7633](https://github.com/ThornWalli/web-workbench/commit/09c7633786d9627bdf020abfc70dc465c314a710))

## [1.3.2](https://github.com/ThornWalli/web-workbench/compare/v1.3.1...v1.3.2) (2020-05-18)


### Bug Fixes

* **others:** pwa, nuxt.config, workflow ([6bc9c3a](https://github.com/ThornWalli/web-workbench/commit/6bc9c3a0a723fc35a1e94b9b784e7ffa1b8ba68b))

## [1.3.1](https://github.com/ThornWalli/web-workbench/compare/v1.3.0...v1.3.1) (2020-05-17)


### Bug Fixes

* **touch:** fix touch-action ([3b44d1c](https://github.com/ThornWalli/web-workbench/commit/3b44d1c5fe0dc9ad8edf9b4ddd76bda1c6958d5b))

# [1.3.0](https://github.com/ThornWalli/web-workbench/compare/v1.2.8...v1.3.0) (2020-05-17)


### Features

* **update:** some updates ([ac3d84c](https://github.com/ThornWalli/web-workbench/commit/ac3d84cb4c0f4b9308c14561694c0a558669c9d1))

## [1.2.8](https://github.com/ThornWalli/web-workbench/compare/v1.2.7...v1.2.8) (2020-05-17)


### Bug Fixes

* **cloud:** add nuxt disk ([b98769f](https://github.com/ThornWalli/web-workbench/commit/b98769fd2b24033ea49cc498a641d7e5174e5b6b))

## [1.2.7](https://github.com/ThornWalli/web-workbench/compare/v1.2.6...v1.2.7) (2020-05-17)


### Bug Fixes

* **windows:** add more options; fix others ([57716d5](https://github.com/ThornWalli/web-workbench/commit/57716d50cda9066275092dd4904c4ab6b09ba97e))

## [1.2.6](https://github.com/ThornWalli/web-workbench/compare/v1.2.5...v1.2.6) (2020-05-17)


### Bug Fixes

* **symbols:** add nuxt symbol ([5e4fedb](https://github.com/ThornWalli/web-workbench/commit/5e4fedb521234e04f8bb1dfc389a8e90308d241f))

## [1.2.5](https://github.com/ThornWalli/web-workbench/compare/v1.2.4...v1.2.5) (2020-05-17)


### Bug Fixes

* **deps:** update dependency @js-basics/vector to v1.48.0 ([f92bf7e](https://github.com/ThornWalli/web-workbench/commit/f92bf7ea52d8b938bcb9cbad9207356d00417764))

## [1.2.4](https://github.com/ThornWalli/web-workbench/compare/v1.2.3...v1.2.4) (2020-05-17)


### Bug Fixes

* **windows:** fix initial position; add center option ([a23bfc3](https://github.com/ThornWalli/web-workbench/commit/a23bfc3d2d058253b8a8d62d908e968609eea5a0))

## [1.2.3](https://github.com/ThornWalli/web-workbench/compare/v1.2.2...v1.2.3) (2020-05-17)


### Bug Fixes

* **file-edit:** add more window properties ([5407d5b](https://github.com/ThornWalli/web-workbench/commit/5407d5b818cce3ce2f9da6ee08d3c383168fd8ae))
* **windows:** update window ([9bda244](https://github.com/ThornWalli/web-workbench/commit/9bda2441e2063c2b9e4763c25a2060728ce7494e))

## [1.2.2](https://github.com/ThornWalli/web-workbench/compare/v1.2.1...v1.2.2) (2020-05-17)


### Bug Fixes

* **pages:** fix page commands ([55a51cc](https://github.com/ThornWalli/web-workbench/commit/55a51cc0db9c42698d2286b57831cd55273532b5))

## [1.2.1](https://github.com/ThornWalli/web-workbench/compare/v1.2.0...v1.2.1) (2020-05-17)


### Bug Fixes

* **fixes:** some fixes ([ef420e4](https://github.com/ThornWalli/web-workbench/commit/ef420e45389ce330aaf20100f28e58bf6319ffd5))
* **scroll-content:** add vars to change size and position ([b9461b2](https://github.com/ThornWalli/web-workbench/commit/b9461b236c5ac1f4e414bc2f2ca8a23f8dbe7f09))
* **window:** add meta window size support ([d7870e1](https://github.com/ThornWalli/web-workbench/commit/d7870e1c1c91e5f6266b67d22d73f940872c50d3))

# [1.2.0](https://github.com/ThornWalli/web-workbench/compare/v1.1.7...v1.2.0) (2020-05-16)


### Bug Fixes

* **components:** optimize ([ffca319](https://github.com/ThornWalli/web-workbench/commit/ffca31951d0701440d6bf965b8fa4b4c304cab4e))
* **markdown:** add bold support ([d87c12c](https://github.com/ThornWalli/web-workbench/commit/d87c12cbd745724a5df75a15903390fb4d31c7da))
* **svg:** update svgs ([dde215f](https://github.com/ThornWalli/web-workbench/commit/dde215fb3540899680225c5e39542e7d5aeda5b7))
* **symbols:** add symbol for document-reader ([f7f1b31](https://github.com/ThornWalli/web-workbench/commit/f7f1b317eb545159401ebc7d90738db4f7cae7ba))


### Features

* **update:** add font-size to document editor/reader ([000fae1](https://github.com/ThornWalli/web-workbench/commit/000fae1b00167944ec57b7af8a273b580a36b8a7))

## [1.1.7](https://github.com/ThornWalli/web-workbench/compare/v1.1.6...v1.1.7) (2020-05-16)


### Bug Fixes

* **deps:** update dependency marked to v1.1.0 ([a2f749c](https://github.com/ThornWalli/web-workbench/commit/a2f749c77408d60f8bbdca024d7005c8c5de464d))

## [1.1.6](https://github.com/ThornWalli/web-workbench/compare/v1.1.5...v1.1.6) (2020-05-16)


### Bug Fixes

* **detection:** fix browser detection force release ([42efe67](https://github.com/ThornWalli/web-workbench/commit/42efe675c314f1f2383027ef410bf08d00e143fe))

## [1.1.5](https://github.com/ThornWalli/web-workbench/compare/v1.1.4...v1.1.5) (2020-05-16)


### Bug Fixes

* **update:** update document apps and themes ([49ea182](https://github.com/ThornWalli/web-workbench/commit/49ea1821d81cea657b30afd7ea9e0f6f3b56efba))

## [1.1.4](https://github.com/ThornWalli/web-workbench/compare/v1.1.3...v1.1.4) (2020-05-16)


### Bug Fixes

* **pwa:** update caching ([a0c56b1](https://github.com/ThornWalli/web-workbench/commit/a0c56b16b0938f045e8d44e81c8f330b5bca2c60))

## [1.1.3](https://github.com/ThornWalli/web-workbench/compare/v1.1.2...v1.1.3) (2020-05-16)


### Bug Fixes

* **workflow:** fix workflows ([23d0d25](https://github.com/ThornWalli/web-workbench/commit/23d0d25dce4c713d92cea912e62f0ee34acd9324))

## [1.1.2](https://github.com/ThornWalli/web-workbench/compare/v1.1.1...v1.1.2) (2020-05-16)


### Bug Fixes

* **workflow:** split workflow, deploy, release, branch ([15c8daf](https://github.com/ThornWalli/web-workbench/commit/15c8daf337c53493af7a7e61cc181ff86723f39c))

## [1.1.1](https://github.com/ThornWalli/web-workbench/compare/v1.1.0...v1.1.1) (2020-05-16)


### Bug Fixes

* **dom-events:** change mouse/touch-events to pointer-events ([4b302f2](https://github.com/ThornWalli/web-workbench/commit/4b302f244c29a16fe271c9acdf1d88966b3ae314))

# [1.1.0](https://github.com/ThornWalli/web-workbench/compare/v1.0.1...v1.1.0) (2020-05-16)


### Features

* **update:** update file-execution and others ([671643d](https://github.com/ThornWalli/web-workbench/commit/671643df7fb705b6860b96a3a7731d575d21218d))

## [1.0.1](https://github.com/ThornWalli/web-workbench/compare/v1.0.0...v1.0.1) (2020-05-15)


### Bug Fixes

* **pwa:** change pwa version to package version ([403e0fa](https://github.com/ThornWalli/web-workbench/commit/403e0fac609418dc38f369c857a1194cd782a581))

# 1.0.0 (2020-05-15)


### Bug Fixes

* **clean:** clean lint errors ([a7c27f9](https://github.com/ThornWalli/web-workbench/commit/a7c27f9a757217351a68e3037a1ddaed78bd7374))
* **clean:** clean lint errors ([f3a54d6](https://github.com/ThornWalli/web-workbench/commit/f3a54d6ba3773e6db1cb3b1d79337d10a7c32bd4))
* **clean:** clean lint errors ([7c54f93](https://github.com/ThornWalli/web-workbench/commit/7c54f936afd7c08e1a25e16e68dc7723f6d7e327))
* **component:** fix symbolwrapper focus ([3feab0f](https://github.com/ThornWalli/web-workbench/commit/3feab0fef250667f68e575c27fbb94902441117b))
* **config:** fix default settings ([152798c](https://github.com/ThornWalli/web-workbench/commit/152798c354c44f46aa11a50471d415a01a37f1fe))
* **deps:** pin dependencies ([96ff36b](https://github.com/ThornWalli/web-workbench/commit/96ff36b558af0b90da46dfcfb25d0d1c85b7f781))
* **deps:** pin dependency nuxt-font-loader-strategy to 1.1.0 ([bf47c8b](https://github.com/ThornWalli/web-workbench/commit/bf47c8bc70f0f5a6fea4bb7c875c0dd2119d1958))
* **deps:** pin dependency pepjs to 0.5.2 ([72ec767](https://github.com/ThornWalli/web-workbench/commit/72ec767ca3bf35a696447514cf17dc7060d96713))
* **deps:** update dependency @js-basics/vector to v1.47.0 ([c44d7bd](https://github.com/ThornWalli/web-workbench/commit/c44d7bdd2b4d60f64d829df1aba9860b6ad14aae))
* **deps:** update dependency @nuxtjs/eslint-config to v3 ([598fd61](https://github.com/ThornWalli/web-workbench/commit/598fd61935556c59d13599c9220bf3d0e1d791ad))
* **deps:** update dependency firebase to v7.14.3 ([0e6b677](https://github.com/ThornWalli/web-workbench/commit/0e6b677214e986515b94a6e17dcf7fc43212c9c1))
* **deps:** update dependency firebase to v7.14.4 ([8580995](https://github.com/ThornWalli/web-workbench/commit/85809956cc062dde98e65fc0e1d8557da6074537))
* **deps:** update dependency marked to v1 ([e225c76](https://github.com/ThornWalli/web-workbench/commit/e225c76d605031bd6e1f8eb24c3e7887d8ad2675))
* **deps:** update dependency snyk to v1.317.0 ([b1a7cba](https://github.com/ThornWalli/web-workbench/commit/b1a7cba0de993b5573feabacb18a6b2266516ef3))
* **deps:** update dependency snyk to v1.318.0 ([f829cad](https://github.com/ThornWalli/web-workbench/commit/f829cadcca5cc56e195fe07ad198b25759748d8d))
* **deps:** update dependency snyk to v1.319.0 ([abea4f4](https://github.com/ThornWalli/web-workbench/commit/abea4f487ae8743362dad4b64a4a54551bb49171))
* **deps:** update dependency snyk to v1.319.1 ([c81e8b4](https://github.com/ThornWalli/web-workbench/commit/c81e8b45201df5af86d1dc9149b4d5fd638bb47e))
* **deps:** update dependency snyk to v1.319.2 ([a4a36c4](https://github.com/ThornWalli/web-workbench/commit/a4a36c43438b62511783653935863dcc561eb1a5))
* **deps:** update dependency snyk to v1.320.1 ([624fff2](https://github.com/ThornWalli/web-workbench/commit/624fff2ca9bb3715116dbb70e45487592dfe01db))
* **deps:** update dependency snyk to v1.320.2 ([30346f2](https://github.com/ThornWalli/web-workbench/commit/30346f2939ab113697f2f9f085e82c60d578d186))
* **deps:** update dependency snyk to v1.320.3 ([6fa6b71](https://github.com/ThornWalli/web-workbench/commit/6fa6b71691bd35d60c811ffde9d059804dbe2294))
* **deps:** update dependency snyk to v1.320.4 ([f894fc2](https://github.com/ThornWalli/web-workbench/commit/f894fc2bdb31f4c5a333f9f29d5d49d1d7cffc38))
* **deps:** update dependency snyk to v1.321.0 ([bc19424](https://github.com/ThornWalli/web-workbench/commit/bc194243da12bc9685dabf0f8b12ad33ac31c933))
* **deps:** update dependency uuid to v8 ([260d36d](https://github.com/ThornWalli/web-workbench/commit/260d36d34d613693ea20a1a8c4403a787aa0b117))
* **opt:** mobile optimizations & fix basic int ([87dedfb](https://github.com/ThornWalli/web-workbench/commit/87dedfba604a43041385495cdf9ccc79047abef3))
* **screen:** fix screen active content size ([0bc5996](https://github.com/ThornWalli/web-workbench/commit/0bc5996f0f00c7ae9c684578183eda6852594a38))
* **share-sitemap:** fix host url concat ([150210a](https://github.com/ThornWalli/web-workbench/commit/150210a050fe97d25885cbe656fcddf85603b2d3))
* **update:** customizations for lighthouse and firefox ([d7e42c8](https://github.com/ThornWalli/web-workbench/commit/d7e42c84aaa478f453ea536cc1fb008597ee187b))
* **update:** update components ([4c66ccb](https://github.com/ThornWalli/web-workbench/commit/4c66ccb7b61eb52cffaced6a84818f44a7a225a6))
* **window:** fix window-wrapper resize ([c1d15d5](https://github.com/ThornWalli/web-workbench/commit/c1d15d58984bdd176edb9cf5141ab0c276b3d769))
* **window:** fix window-wrapper size ([766284c](https://github.com/ThornWalli/web-workbench/commit/766284c6cc1ac07c5a33ee351f10ab2c40725b98))


### Features

* **actions:** add main.yml ([5150b0f](https://github.com/ThornWalli/web-workbench/commit/5150b0f87642c0232b52a9d57ba06b185f2ccc7d))
* **document:** update Document Reader & Editor ([46ee9ed](https://github.com/ThornWalli/web-workbench/commit/46ee9ed7c773614ec9ef3cb5a1de1e21295af631))
* **initial:** Initial Commit ([54b91dd](https://github.com/ThornWalli/web-workbench/commit/54b91dd060c00b1c56ec30069830b5cfb78f6c49))
* **reader:** add document-reader ([bb4f8ef](https://github.com/ThornWalli/web-workbench/commit/bb4f8ef1d6039dcc0861e57a80a7a1988544be16))
* **screen:** update panel ([8ca506b](https://github.com/ThornWalli/web-workbench/commit/8ca506b3253a441fad255d42c947adc5120bc0c0))
* **screen:** update screen ([7e2736b](https://github.com/ThornWalli/web-workbench/commit/7e2736b76caaa729c36a2463b900fd93cdf82397))
* **screen-svg:** update screen svg ([b885ce6](https://github.com/ThornWalli/web-workbench/commit/b885ce664ebba108975e391d0051ddbb4fc7de4e))
* **screen-svg:** update screen svg ([5a21ea9](https://github.com/ThornWalli/web-workbench/commit/5a21ea9b84ffb640a810c039840b3ca814a6b035))
* **screen-svg:** update screen svg ([21e160d](https://github.com/ThornWalli/web-workbench/commit/21e160d1dbaf3babd53a758112a8885f8857513d))
* **screen-svg:** update screen svg ([9c76d89](https://github.com/ThornWalli/web-workbench/commit/9c76d89e7882a03e8917c624c2761ee39bbea0f8))
* **update:** a lot of code ([fee4c49](https://github.com/ThornWalli/web-workbench/commit/fee4c49fa20919c6c7208caa00639d1a0659ba43))
* **update:** a lot of code ([91c14e0](https://github.com/ThornWalli/web-workbench/commit/91c14e04ef6e60e512e7d9bd0fbbbf795fca4b52))
* **update:** add pages; update svgs ([ec0f2b9](https://github.com/ThornWalli/web-workbench/commit/ec0f2b96dd55d59608f6573d703f857e7fb69d83))
* **update:** update screen ([4a1cf6f](https://github.com/ThornWalli/web-workbench/commit/4a1cf6fb3e5bbb875b9824ac51f0eea5a2c2996e))
* **update:** update screen ([2b5e9a2](https://github.com/ThornWalli/web-workbench/commit/2b5e9a2361da4cf92145bd387ff937a611311e30))
* **update:** update screen animation ([fcc41e8](https://github.com/ThornWalli/web-workbench/commit/fcc41e8b6204a630004ac2901120f00789f0e155))
* **update:** update screen animation ([4ed2806](https://github.com/ThornWalli/web-workbench/commit/4ed2806c9e3b7732701c24f21fe7527ab546096f))
* **update:** update screen animation ([5fd8dac](https://github.com/ThornWalli/web-workbench/commit/5fd8dac895afcd05bfbe4f272697fa718fc16ff1))
* **update:** update screen animations ([a202708](https://github.com/ThornWalli/web-workbench/commit/a2027080556e6a9adce29195e77c3db606de5eec))
* **update:** update screen-panel style ([1988a82](https://github.com/ThornWalli/web-workbench/commit/1988a8224b037ecaf15b3afdd94adc622070e179))
* **update:** update screen-panel style ([8ada21a](https://github.com/ThornWalli/web-workbench/commit/8ada21a4281c0791d1d8c89fda58b594ccbd2d79))
* **update:** update screen-panel style ([6db13ba](https://github.com/ThornWalli/web-workbench/commit/6db13ba8bbab177156bb7a374cecd579f1940f74))
* **update:** update screen-panel style ([25db457](https://github.com/ThornWalli/web-workbench/commit/25db4578e794677227b261839f3d66cd9e2a24a2))
* **update:** update screen; add no-disk ([585f6df](https://github.com/ThornWalli/web-workbench/commit/585f6dfc0a135c9382652c0c83c2ac34ce1c68dd))
* **update:** update symbols, styles, color-settings ([42d85d8](https://github.com/ThornWalli/web-workbench/commit/42d85d8e6fb1000288457a24cdee8016c6e65975))
* **update:** update/add symbols; add theme-color ([589ec6c](https://github.com/ThornWalli/web-workbench/commit/589ec6cc644be298cf45f3302d40c974a298d221))
`,vd={DOCUMENT_EDITOR_SHOW_PREVIEW:"workbench13_DOCUMENT_EDITOR_SHOW_PREVIEW"},fb={[vd.DOCUMENT_EDITOR_SHOW_PREVIEW]:!0},er={OUTPUT_TYPE:"type",OPEN_MAXIMIZED:"openMaximized",CONTENT:"content",FONT_FAMILY:"fontFamily",FONT_SIZE:"fontSize"},pb={BuiltIn:"Built-In",Serif:"Serif",SansSerif:"Sans-Serif",Monospace:"Monospace"},lr={BuiltIn:{"Amiga Topaz 13":'"Amiga Topaz 13"',"Amiga Topaz 13 Console":'"Amiga Topaz 13 Console", "Amiga Topaz 13", sans-serif'},Serif:{Georgia:"Georgia, serif","Palatino Linotype":'"Palatino Linotype", "Book Antiqua", Palatino, serif',"Times New Roman":'"Times New Roman", Times, serif'},SansSerif:{Arial:"Arial, Helvetica, sans-serif","Arial Black":'"Arial Black", Gadget, sans-serif',"Comic Sans MS":'"Comic Sans MS", cursive, sans-serif',Impact:"Impact, Charcoal, sans-serif","Lucida Sans Unicode":'"Lucida Sans Unicode", "Lucida Grande", sans-serif',Tahoma:"Tahoma, Geneva, sans-serif","Trebuchet MS":'"Trebuchet MS", Helvetica, sans-serif',Verdana:"Verdana, Geneva, sans-serif"},Monospace:{"Courier New":'"Courier New", Courier, monospace',"Lucida Console":'"Lucida Console", Monaco, monospace'}},bb=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],xd=lr.BuiltIn["Amiga Topaz 13"],al=16;function gb(){return{[er.OPEN_MAXIMIZED]:!1,[er.OUTPUT_TYPE]:"markdown",[er.CONTENT]:"",[er.FONT_FAMILY]:xd,[er.FONT_SIZE]:al}}var Yr,Xr;class Sd{constructor(e){p(this,Yr,void 0);p(this,Xr,[]);g(this,Yr,e)}command(e,t){u(this,Xr).push({value:e,targetValue:t})}run(){return Promise.all(u(this,Xr).map(({value:e,targetValue:t})=>u(this,Yr).executeCommand(e).then(r=>{const i=r===t;return i||console.warn(`[ ${e} ]; ${r} === ${t}`),{value:e,targetValue:t,result:r,success:i}})))}async start(){const e=await this.run();return[[e.length,"Tests processed"],[e.filter(t=>t.success).length,"Tests success"],[e.filter(t=>!t.success).length,"Tests failed"]]}}Yr=new WeakMap,Xr=new WeakMap;function Id(n,e,t){return"#"+((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)}function Ya(n){return n=n.replace(/ /g,""),n.length===7?["0x"+n[1]+n[2]|0,"0x"+n[3]+n[4]|0,"0x"+n[5]+n[6]|0]:["0x"+n[1]+n[1]|0,"0x"+n[2]+n[2]|0,"0x"+n[3]+n[3]|0]}const Fd={__name:"Form",emits:["submit"],setup(n,{emit:e}){const t=r=>{r.preventDefault(),e("submit",r)};return(r,i)=>(_(),O("form",{class:"wb-env-molecule-form",onSubmit:t},[Mn(r.$slots,"default",{},()=>[fo("Form Content")],!0)],32))}},Xn=j(Fd,[["__scopeId","data-v-839867ab"]]);const Ad={props:{labelTop:{type:Boolean,default:!1},tag:{type:String,default:"div"},label:{type:String,default:"FormField Label"}},computed:{styleClasses(){return{"form-field--label-top":this.labelTop}}}},kd={key:0,class:"field__label"};function Cd(n,e,t,r,i,s){return _(),U(Fs(t.tag),{class:ct(["wb-env-atom-form-field",s.styleClasses])},{default:X(()=>[t.label?(_(),O("span",kd,[Mn(n.$slots,"label",{},()=>[fo(Fe(t.label),1)],!0)])):z("",!0),Mn(n.$slots,"default",{},void 0,!0)]),_:3},8,["class"])}const Kn=j(Ad,[["render",Cd],["__scopeId","data-v-9344680e"]]);const Td={props:{model:{type:[Array,Object],default(){return{value:0}}},min:{type:Number,default(){return 0}},max:{type:Number,default(){return 1}},step:{type:Number,default(){return .1}},name:{type:String,default:"value"},handleSize:{type:Number,default(){return .2}},styleType:{type:String,default:"window"},directionVertical:{type:Boolean,default:!1}},data(){return{positions:{start:I(),move:I(),current:I()}}},computed:{style(){const n={"--value":this.model[this.name]/this.max,"--direction":this.directionVertical?1:0};return n["--size"]=this.handleSize*100+"%",n},styleClasses(){return{"range-slider--direction-x":!this.directionVertical,"range-slider--direction-y":this.directionVertical,[`style-type--${this.styleType}`]:this.styleType}}}},Od=n=>(ea("data-v-082e65ab"),n=n(),ta(),n),Rd=["orient","min","max","step"],Wd=Od(()=>v("i",null,null,-1));function Bd(n,e,t,r,i,s){return _(),O("div",{class:ct(["wb-env-atom-range-slider",s.styleClasses]),style:$n(s.style)},[sn(v("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.model[t.name]=a),orient:t.directionVertical?"vertical":"horizontal",type:"range",min:t.min,max:t.max,step:t.step},null,8,Rd),[[po,t.model[t.name]]]),Wd],6)}const Nd=j(Td,[["render",Bd],["__scopeId","data-v-082e65ab"]]);const Ld={components:{WbEnvAtomFormField:Kn,WbEnvAtomRangeSlider:Nd},props:{model:{type:[Array,Object],default(){return{}}},id:{type:String,default:null},name:{type:String,default:null},readonly:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:null},handleSize:{type:Number,default:null},disabled:{type:Boolean,default:!1},directionVertical:{type:Boolean,default:!1}},computed:{currentModel:{get(){return this.name?this.model[this.name]:this.model.value},set(n){this.name?this.model[this.name]=n:this.model.value=n}},rangeSlider(){return{name:this.name,min:this.min,max:this.max,step:this.step,handleSize:this.handleSize,readonly:this.readonly,disabled:this.disabled,directionVertical:this.directionVertical}}}};function Pd(n,e,t,r,i,s){const a=C("wb-env-atom-range-slider"),o=C("wb-env-atom-form-field");return _(),U(o,V({tag:"div",class:"wb-env-atom-form-range-slider"},n.$attrs),{default:X(()=>[Mn(n.$slots,"before",{},void 0,!0),W(a,V(s.rangeSlider,{model:t.model,"style-type":"form-field"}),null,16,["model"]),Mn(n.$slots,"after",{},void 0,!0)]),_:3},16)}const Md=j(Ld,[["render",Pd],["__scopeId","data-v-753dba33"]]),$d={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6"},zd=v("g",{class:"primary"},[v("path",{d:"M0 0h2v2H0zM2 2h2v2H2zM8 0h2v2H8zM4 4h2v2H4zM6 2h2v2H6z"})],-1),Vd=[zd];function Ud(n,e){return _(),O("svg",$d,Vd)}const jd={render:Ud};const Gd={components:{SvgControlTinyArrayDown:jd,WbEnvAtomFormField:Kn},props:{model:{type:Object,default(){return{value:"option-1"}}},label:{type:String,default:"Select Label"},id:{type:String,default:null},name:{type:String,default:null},size:{type:Number,default:null},multiple:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},options:{type:Array,default(){return[{title:"Option 1.",value:"option-1"},{title:"Option 2.",value:"option-2"},{title:"Option 3.",value:"option-3"},{title:"Option 4.",value:"option-4"},{title:"Option 5.",value:"option-5"}]}}},computed:{currentModel:{get(){return this.name?this.model[this.name]:this.model.value},set(n){this.name?this.model[this.name]=n:this.model.value=n}},input(){return{id:this.id,size:this.size>1?this.size:null,multiple:this.multiple,readonly:this.readonly,disabled:this.disabled}}}},Hd={class:"dropdown__wrapper"},Yd=["value"],Xd={key:0,class:"select__expander"};function Kd(n,e,t,r,i,s){const a=C("svg-control-tiny-array-down"),o=C("wb-env-atom-form-field");return _(),U(o,{tag:"label",class:"wb-env-atom-form-field-dropdown",label:t.label},{default:X(()=>[v("div",Hd,[sn(v("select",V({"onUpdate:modelValue":e[0]||(e[0]=l=>s.currentModel=l)},s.input),[(_(!0),O(St,null,It(t.options,(l,c)=>(_(),O("option",{key:c,value:l.value},Fe(l.title),9,Yd))),128))],16),[[kl,s.currentModel]]),!t.disabled&&!t.readonly?(_(),O("span",Xd,[W(a)])):z("",!0)])]),_:1},8,["label"])}const _a=j(Gd,[["render",Kd],["__scopeId","data-v-e6a291e1"]]);const qd={props:{disabled:{type:Boolean,default:!1},accept:{type:String,default:"application/json"},type:{type:String,default(){return"button"}},styleType:{type:String,default(){return"primary"}},id:{type:String,required:!1,default:null},name:{type:String,required:!1,default:null},label:{type:String,required:!1,default:"Primary Button"}},emits:["upload","click"],computed:{upload(){return this.type==="upload"},styleClasses(){return{"wb-env-atom-button--disabled":this.disabled,"wb-env-atom-button--upload":this.upload,["style-type--"+this.styleType]:this.styleType}}},methods:{onInput(n){this.$emit("upload",n.target.files)},onClick(){this.$emit("click")}}},Zd={class:"label"},Qd=["id","name","accept","disabled"],Jd=["type","disabled"],eh={class:"label"};function th(n,e,t,r,i,s){return s.upload?(_(),O("label",{key:0,class:ct(["wb-env-atom-button",s.styleClasses])},[v("span",Zd,Fe(t.label),1),v("input",{id:t.id,name:t.name,type:"file",accept:t.accept,disabled:t.disabled,onInput:e[0]||(e[0]=(...a)=>s.onInput&&s.onInput(...a))},null,40,Qd)],2)):(_(),O("button",{key:1,type:t.type,class:ct(["wb-env-atom-button",s.styleClasses]),disabled:t.disabled,onClick:e[1]||(e[1]=(...a)=>s.onClick&&s.onClick(...a))},[v("span",eh,Fe(t.label),1)],10,Jd))}const Ct=j(qd,[["render",th],["__scopeId","data-v-9e9561d0"]]);const nh={props:{full:{type:Boolean,required:!1,default:!1},align:{type:String,required:!1,default:"left"},direction:{type:String,required:!1,default:"horizontal"}},computed:{styleClasses(){return{[`button-wrapper--direction-${this.direction}`]:!0,[`button-wrapper--align-${this.align}`]:!0,"button-wrapper--full":this.full}}}};function rh(n,e,t,r,i,s){return _(),O("div",{class:ct(["wb-env-molecule-button-wrapper",s.styleClasses])},[v("div",null,[Mn(n.$slots,"default",{},void 0,!0)])],2)}const Tt=j(nh,[["render",rh],["__scopeId","data-v-bef82d82"]]),ht={props:{id:{type:String,default:""},parentFocused:{type:Boolean,default:!1},core:{type:Object,required:!0},window:{type:Object,required:!0}},emits:["ready"],data(){return{currentContextMenu:null}},computed:{embeddedWindow(){return this.window.options.embed}},watch:{parentFocused(n){Xa.bind(this)(n)}},mounted(){this.$nextTick(()=>{this.$emit("ready",this),Xa.bind(this)(!0)})},unmounted(){this.contextMenu&&this.core.modules.windows.isContextMenu(this.currentContextMenu)&&this.core.modules.windows.setActiveContextMenu(null)}};function Xa(n){this.contextMenu&&(n?this.currentContextMenu=this.core.modules.windows.setActiveContextMenu(this.contextMenu):this.core.modules.windows.getActiveContextMenu()===this.currentContextMenu&&!this.embeddedWindow&&this.core.modules.windows.setActiveContextMenu(null))}const ih={components:{WbForm:Xn,WbFormField:Kn,WbFormFieldRangeSlider:Md,WbFormFieldDropdown:_a,WbButton:Ct,WbButtonWrapper:Tt},mixins:[ht],emits:["close"],data(){const n=this.core.config.get(L.THEME)||ar[String($o)];return{screenModule:this.core.modules.screen,selectedColor:n.colors[1],colors:Ya(n.colors[1]),saveLabel:"Save",resetLabel:"Reset",model:n,preset:"",fields:{presets:{name:"preset",model:this,label:"Presets",options:[{title:"Select Theme",value:""},...Object.keys(ar).map(e=>({title:ar[String(e)].title,value:e}))]},colorPrimary:{name:"0",type:"color",label:"Primary"},colorSecondary:{name:"1",type:"color",label:"Secondary"},colorTertiary:{name:"2",type:"color",label:"Tertiary"},colorQuaternary:{name:"3",type:"color",label:"Quaternary"},filter:{name:"filter",label:"Filter",options:[{title:"Invert",value:"invert(100%)"},{title:"Brightness",value:"brightness(50%)"}]}}}},watch:{preset(n){const e=ar[String(n)];this.model={name:e.name,colors:e.colors,filter:e.filter},this.selectedColor=this.model.colors[0]},selectedColor(n){this.colors=Ya(n)},colors:{deep:!0,handler(n){this.selectedColor=this.model.colors[this.model.colors.indexOf(this.selectedColor)]=Id(...Object.values(n).map(e=>Number(e)))}}},methods:{onSubmit(n){const e=this.model;this.core.config.set(L.THEME,e),this.core.modules.screen.setTheme(new nc("custom",e)),this.$emit("close")}}},sh={class:"wb-module-core-color-settings"},ah={class:"col-1"},oh=["value"],lh={class:"col-1 color-settings__colors"},uh={class:"color-settings__color_controls"},ch={class:"color-settings__color_preview"};function dh(n,e,t,r,i,s){const a=C("wb-form-field-dropdown"),o=C("wb-form-field"),l=C("wb-form-field-range-slider"),c=C("wb-button"),d=C("wb-button-wrapper"),m=C("wb-form");return _(),O("div",sh,[W(m,{class:"color-settings__form",onSubmit:s.onSubmit},{default:X(()=>[v("div",null,[v("div",ah,[W(a,dr(bo(i.fields.presets)),null,16),W(o,{label:"Colors",class:"color-settings__color_select"},{default:X(()=>[(_(!0),O(St,null,It(i.model.colors,(h,f)=>(_(),O("label",{key:f,style:$n({"--color":h})},[sn(v("input",{"onUpdate:modelValue":e[0]||(e[0]=E=>i.selectedColor=E),type:"radio",name:"color",value:h},null,8,oh),[[Cl,i.selectedColor]])],4))),128))]),_:1}),W(a,V(i.fields.filter,{model:i.model}),null,16,["model"])]),v("div",lh,[v("div",uh,[v("div",ch,[v("i",{style:$n(`background-color: rgb(${i.colors.join(", ")});`)},null,4)]),v("div",null,[v("div",null,[W(l,{"style-type":"color-select",label:"Red",class:"color-settings__color_slider",model:i.colors,name:"0",max:255,min:0,step:1,"handle-size":.2},{after:X(()=>[v("span",null,Fe(i.colors[0].toString(16).toUpperCase()),1)]),_:1},8,["model"])]),v("div",null,[W(l,{"style-type":"color-select",label:"Green",class:"color-settings__color_slider",model:i.colors,name:"1",max:255,min:0,step:1,"handle-size":.2},{after:X(()=>[v("span",null,Fe(i.colors[1].toString(16).toUpperCase()),1)]),_:1},8,["model"])]),v("div",null,[W(l,{"style-type":"color-select",label:"Blue",class:"color-settings__color_slider",model:i.colors,name:"2",max:255,min:0,step:1,"handle-size":.2},{after:X(()=>[v("span",null,Fe(i.colors[2].toString(16).toUpperCase()),1)]),_:1},8,["model"])])])])])]),W(d,{align:"outer",full:""},{default:X(()=>[i.saveLabel?(_(),U(c,{key:0,"style-type":"primary",label:i.saveLabel,type:"submit"},null,8,["label"])):z("",!0)]),_:1})]),_:1},8,["onSubmit"])])}const hh=j(ih,[["render",dh],["__scopeId","data-v-b8c73bb7"]]),mh={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},fh=v("path",{d:"M0 0v16h16V0H0zm14 14H2V2h12v12z",class:"svg__primary"},null,-1),ph=v("path",{d:"M4 6v4h2v2h2v-2h2V8h2V4h-2v2H8v2H6V6z",class:"svg__secondary"},null,-1),bh=[fh,ph];function gh(n,e){return _(),O("svg",mh,bh)}const wh={render:gh},_h={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},yh=v("path",{d:"M0 0v16h16V0H0zm14 14H2V2h12v12z",class:"svg__primary"},null,-1),Dh=v("path",{d:"M4 4h8v8H4z",class:"svg__secondary"},null,-1),Eh=[yh,Dh];function vh(n,e){return _(),O("svg",_h,Eh)}const xh={render:vh};const Sh={components:{SvgControlInputCheckbox:wh,SvgControlInputRadio:xh},props:{label:{type:String,default:"Item Label"},model:{type:Object,default(){return{value:null}}},name:{type:String,default:null},value:{type:[String,Number],default:null},radio:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{currentModel:{get(){return this.name?this.model[this.name]:this.model.value},set(n){this.name?this.model[this.name]=n:this.model.value=n}},styleClasses(){return{"item--radio":this.radio,"item--checkbox":!this.radio}},input(){return{name:this.name,readonly:this.readonly,disabled:this.disabled,type:this.radio?"radio":"checkbox"}}}},Ih=["value"],Fh={key:2,class:"field__label"};function Ah(n,e,t,r,i,s){const a=C("svg-control-input-checkbox"),o=C("svg-control-input-radio");return _(),O("label",{class:ct(["wb-env-atom-form-field-checkbox-group-item",s.styleClasses])},[sn(v("input",V({"onUpdate:modelValue":e[0]||(e[0]=l=>s.currentModel=l)},s.input,{value:t.value}),null,16,Ih),[[na,s.currentModel]]),t.radio?z("",!0):(_(),U(a,{key:0})),t.radio?(_(),U(o,{key:1})):z("",!0),t.label?(_(),O("span",Fh,Fe(t.label),1)):z("",!0)],2)}const kh=j(Sh,[["render",Ah],["__scopeId","data-v-2d25ecc4"]]);const Ch={components:{WbEnvAtomFormField:Kn,WbEnvAtomFormFieldCheckboxGroupItem:kh},props:{label:{type:String,default:"Checkbox Group Title"},name:{type:String,default:"value"},radio:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},read:{type:Boolean,default:!1},model:{type:Object,default(){return{item1:!1,item2:!1}}},items:{type:Array,default(){return[{label:"Item 1",name:"item1"},{label:"Item 2",name:"item2"}]}}}};function Th(n,e,t,r,i,s){const a=C("wb-env-atom-form-field-checkbox-group-item"),o=C("wb-env-atom-form-field");return _(),U(o,{class:"wb-env-atom-form-field-checkbox-group",label:t.label,"label-top":""},{default:X(()=>[v("ul",null,[(_(!0),O(St,null,It(t.items,(l,c)=>(_(),O("li",{key:c},[W(a,V({radio:t.radio,name:l.name||t.name,model:t.model,readonly:l.readonly||t.readonly,disabled:l.disabled||t.disabled},l),null,16,["radio","name","model","readonly","disabled"])]))),128))])]),_:1},8,["label"])}const ol=j(Ch,[["render",Th],["__scopeId","data-v-2387cf16"]]),Oh={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},Rh=v("path",{d:"M2 14v2h14V2h-2v12",class:"svg__primary"},null,-1),Wh=v("path",{d:"M6 10v2h6V6h-2v4",class:"svg__primary"},null,-1),Bh=[Rh,Wh];function Nh(n,e){return _(),O("svg",Oh,Bh)}const Lh={render:Nh};const Ph={components:{SvgControlTextareaResize:Lh,WbEnvAtomFormField:Kn},props:{labelTop:{type:Boolean,default:!1},model:{type:Object,default(){return{}}},label:{type:String,default:"Textarea Label"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:"Textarea Placeholder"},rows:{type:Number,default:null},wrap:{type:Boolean,default:!0},resize:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!1},resizeVertical:{type:Boolean,default:!1}},computed:{currentModel:{get(){return this.name?this.model[this.name]:this.model.value},set(n){this.name?this.model[this.name]=n:this.model.value=n}},styleClasses(){return{"textarea--resize":this.resize,"textarea--resize-vertical":this.resizeVertical}},input(){return{id:this.id,name:this.name,placeholder:this.placeholder,rows:this.rows,wrap:this.wrap?"on":"off",resize:this.resize,readonly:this.readonly,disabled:this.disabled,autocomplete:this.autocomplete?"on":"off"}}}},Mh={class:"wrapper"},$h={class:"field__helper field__helper__resize"};function zh(n,e,t,r,i,s){const a=C("svg-control-textarea-resize"),o=C("wb-env-atom-form-field");return _(),U(o,{tag:"label",class:ct(["wb-env-atom-form-field-textarea",s.styleClasses]),label:t.label,"label-top":t.labelTop},{default:X(()=>[v("span",Mh,[v("span",null,[sn(v("textarea",V({"onUpdate:modelValue":e[0]||(e[0]=l=>s.currentModel=l)},s.input),null,16),[[po,s.currentModel]]),v("span",$h,[W(a)])])])]),_:1},8,["label","class","label-top"])}const Vh=j(Ph,[["render",zh],["__scopeId","data-v-1f3ccd0f"]]);const Uh={components:{WbForm:Xn,WbButton:Ct,WbButtonWrapper:Tt,WbFormFieldCheckboxGroup:ol,WbFormFieldTextarea:Vh},mixins:[ht],emits:["close"],data(){return{saveLabel:"Save",model:{[L.SCREEN_1084_FRAME]:this.core.config.get(L.SCREEN_1084_FRAME)||!1,[L.SCREEN_REAL_LOOK]:this.core.config.get(L.SCREEN_REAL_LOOK)||!1,[L.SCREEN_SCAN_LINES]:this.core.config.get(L.SCREEN_SCAN_LINES)||!1,[L.SCREEN_ACTIVE_ANIMATION]:this.core.config.get(L.SCREEN_ACTIVE_ANIMATION)||!1,[L.BOOT_WITH_SEQUENCE]:this.core.config.get(L.BOOT_WITH_SEQUENCE)||!1,[L.BOOT_WITH_WEBDOS]:this.core.config.get(L.BOOT_WITH_WEBDOS)||!1,[L.FILE_EXTENSION_ASSIGNMENT]:(this.core.config.get(L.FILE_EXTENSION_ASSIGNMENT)||[]).map(e=>e.join(" ")).join(`
`)}}},computed:{fileTypeAssignment(){return{model:this.model,name:L.FILE_EXTENSION_ASSIGNMENT,label:"File Extension assignment to Application",placeholder:"e.g. md openPreview"}},generalSettings(){return{model:this.model,label:null,items:[]}},screenSettings(){return{model:this.model,label:"Screen - Settings",items:[{label:"Use 1084 Frame with 640x480",name:L.SCREEN_1084_FRAME},{label:"Screen with Real-Look",name:L.SCREEN_REAL_LOOK},{label:"Screen with Scan-Lines",name:L.SCREEN_SCAN_LINES},{label:"Screen with On/Off Animation",name:L.SCREEN_ACTIVE_ANIMATION}]}},bootSettings(){return{model:this.model,label:"BOOT - Settings",items:[{label:"Boot with Sequence?",name:L.BOOT_WITH_SEQUENCE},{label:"Boot with WebDos?",name:L.BOOT_WITH_WEBDOS}]}}},methods:{onClickCancel(){this.$emit("close")},onSubmit(){this.model[String(L.FILE_EXTENSION_ASSIGNMENT)]=this.model[String(L.FILE_EXTENSION_ASSIGNMENT)].split(`
`).map(n=>n.match(/^([^ ]+) +(.*)$/).slice(1,3)),this.core.config.set(this.model),this.$emit("close")}}},jh={class:"wb-module-core-settings"},Gh={class:"cols"},Hh={class:"col-2"},Yh={class:"col-2"};function Xh(n,e,t,r,i,s){const a=C("wb-form-field-checkbox-group"),o=C("wb-form-field-textarea"),l=C("wb-button"),c=C("wb-button-wrapper"),d=C("wb-form");return _(),O("div",jh,[W(d,{class:"settings__form",onSubmit:s.onSubmit},{default:X(()=>[v("div",Gh,[v("div",Hh,[s.generalSettings.items.length>0?(_(),U(a,dr(V({key:0},s.generalSettings)),null,16)):z("",!0),s.screenSettings.items.length>0?(_(),U(a,dr(V({key:1},s.screenSettings)),null,16)):z("",!0),s.bootSettings.items.length>0?(_(),U(a,dr(V({key:2},s.bootSettings)),null,16)):z("",!0)]),v("div",Yh,[W(o,V(s.fileTypeAssignment,{"label-top":"",rows:10}),null,16)])]),W(c,{align:"outer",full:""},{default:X(()=>[i.saveLabel?(_(),U(l,{key:0,"style-type":"primary",label:i.saveLabel,type:"submit"},null,8,["label"])):z("",!0)]),_:1})]),_:1},8,["onSubmit"])])}const Kh=j(Uh,[["render",Xh],["__scopeId","data-v-8aedbe7a"]]),qh=({core:n})=>[{name:["execute"],description:"Execute file.",args:[new y({index:0,name:"path",description:"Path to the file"})],async action({path:e}){const t=new Map(n.config.get(L.FILE_EXTENSION_ASSIGNMENT));if(!e)throw B.get("bad_args");let r;if(t.has(vr(e))?r=await n.modules.files.fs.get(t.get(vr(e))):(r=await n.modules.files.fs.get(e),e=null),typeof r.action=="function")return r.action(n,e);if("type"in r.data){const i=[`openPreview "${r.getPath()}"`];return r.data.openMaximized&&i.push("-maximized"),n.executeCommand(i.join(" "))}}},{name:["openColorSettings"],action(){n.modules.windows.addWindow({title:"Color Settings",component:hh,componentData:{},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}})}},{name:["openSettings"],action(){n.modules.windows.addWindow({title:"Settings",component:Kh,componentData:{},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}})}},{name:["echo","print"],args:[new y({name:["newline","n"],flag:!0})],async action({newline:e},t){const r=i=>J(i).replace(/\\"/g,'"').replace(/\\n/g,`
`);if(e)t.message(t.commandArgs.map(i=>r(i)));else{let i=await t.core.executeCommand(t.commandValue);typeof i=="object"&&(i=JSON.stringify(i)),t.message(`${J(r(i))}`)}}},{name:"commands",action(e,t){const r=new Jt({headerPadding:1});return r.addColumn([{value:"Command(s)",align:"left",maxWidth:20},{value:"Description/Arguments",align:"left",maxWidth:60}]),r.addRow(Bt.items.reduce((i,s)=>{const a=s.args||[],o=[];s.description&&(o.push(s.description),o.push("")),a.length&&(o.push("Arguments:"),o.push(""));const{flagNames:l,kwargNames:c}=a.reduce((m,h)=>{const f=h.name.join(", ");return h.flag?m.flagNames.push({name:`-${f}`,description:h.description}):m.kwargNames.push({name:`--${f}`,description:h.description}),m},{flagNames:[],kwargNames:[]}),d={paddingChr:"",showHeaders:!1,config:{name:{minWidth:15},description:{minWidth:10,maxWidth:30}}};return o.push($s(l,Object.assign({},d))),l.length>0&&c.length>0&&o.push(""),o.push($s(c,Object.assign({},d))),i.push([s.name.join(", "),o.join(`
`)]),i},[])),t.message(["Commands:",r]),Promise.resolve()}},{name:["CLS","CLEAR"],action(){n.consoleInterface.clear()}},{name:["prompt","input","PROMPT","INPUT"],args:[new y({index:0,name:"text",description:"Text from prompt."}),new y({index:1,name:"variable",description:"Variable"})],action:({text:e,variable:t,unresolved:r},i)=>(r.text&&!r.variable?(t=r.text,e=null):t=r.variable,n.consoleInterface.prompt(e).then(s=>(or(s)&&(s=Number(s)),t&&n.modules.parser.memory.set(t,s),s)))},{name:["confirm","CONFIRM"],args:[new y({index:0,name:"text",description:"Text from confirm."})],action({text:e}){return n.consoleInterface.confirm(e)}},{name:["selfCheck"],async action(e,t){const r=new Jt;r.addColumn([{value:"Count",align:"left",minWidth:8},{value:"Description",align:"left",minWidth:15}]),r.addRow(await Zh(n)),t.message(["Command Tests:",r])}}];function Zh(n){const e=new Sd(n);return e.command('"foo" +"bar"','"foobar"'),e.command("(-3+-6)+1",-3+-6+1),e.command("(-3-+6)+1",-3-6+1),e.command("(-3*-6)+1",-3*-6+1),e.command("(-3/-6)+1",-3/-6+1),e.command("(-3+6)+1",-3+6+1),e.command("(-3-6)+1",-3-6+1),e.command("(-3*6) + 1",-3*6+1),e.command("(-3/6)+1",-3/6+1),e.command("INT(PI)",3),e.command("(POW(2,2)+1)",5),e.command('ASC("D")',68),e.command("CHR$(68)",'"D"'),e.command('LEN("ABC")',3),e.command('"a" + "b"','"ab"'),e.command("STRING$(3,0)",'"000"'),e.command("SQRT(2,2)",Math.sqrt(2,2)),e.command("128 >> (256 + 5)",128>>256+5),e.command("-2+4+SQRT(2,2)",-2+4+Math.sqrt(2,2)),e.command("-2- 2 * 2",-2-2*2),e.command("(1+1)",1+1),e.command("2*2",2*2),e.command("1+2+3+(POW(2,2)+1)+5*8-(50/2)",1+2+3+(2**2+1)+5*8-50/2),e.start()}const Qh=`# Impressum

## Angaben gem  5 TMG

Thorn Walli  
Karolinenstrae 29 Haus 3  
20357 Hamburg

## Kontakt

E-Mail: [lammpee@gmail.com](mailto:lammpee@gmail.com)

## Haftung fr Inhalte

Als Diensteanbieter sind wir gem  7 Abs.1 TMG fr eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. Nach  8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet, bermittelte oder gespeicherte fremde Informationen zu berwachen oder nach Umstnden zu forschen, die auf eine rechtswidrige Ttigkeit hinweisen.

Verpflichtungen zur Entfernung oder Sperrung der Nutzung von Informationen nach den allgemeinen Gesetzen bleiben hiervon unberhrt. Eine diesbezgliche Haftung ist jedoch erst ab dem Zeitpunkt der Kenntnis einer konkreten Rechtsverletzung mglich. Bei Bekanntwerden von entsprechenden Rechtsverletzungen werden wir diese Inhalte umgehend entfernen.

## Haftung fr Links

Unser Angebot enthlt Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb knnen wir fr diese fremden Inhalte auch keine Gewhr bernehmen. Fr die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich. Die verlinkten Seiten wurden zum Zeitpunkt der Verlinkung auf mgliche Rechtsverste berprft. Rechtswidrige Inhalte waren zum Zeitpunkt der Verlinkung nichterkennbar.

Eine permanente inhaltliche Kontrolle der verlinkten Seiten ist jedoch ohne konkrete Anhaltspunkte einer Rechtsverletzung nicht zumutbar. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Links umgehend entfernen.

## Urheberrecht

Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen Urheberrecht. Die Vervielfltigung, Bearbeitung, Verbreitung und jede Art der Verwertung auerhalb der Grenzen des Urheberrechtes bedrfen der schriftlichen Zustimmung des jeweiligen Autors bzw. Erstellers. Downloads und Kopien dieser Seite sind nur fr den privaten, nicht kommerziellen Gebrauch gestattet.

Soweit die Inhalte auf dieser Seite nicht vom Betreiber erstellt wurden, werden die Urheberrechte Dritter beachtet. Insbesondere werden Inhalte Dritter als solche gekennzeichnet. Sollten Sie trotzdem auf eine Urheberrechtsverletzung aufmerksam werden, bitten wir um einen entsprechenden Hinweis. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Inhalte umgehend entfernen.

Quelle: [eRecht24](https://www.e-recht24.de)
`,Jh=`# Datenschutzerklrung

## Datenschutz

Die Betreiber dieser Seiten nehmen den Schutz Ihrer persnlichen Daten sehr ernst. Wir behandeln Ihre personenbezogenen Daten vertraulich und entsprechend der gesetzlichen Datenschutzvorschriften sowie dieser Datenschutzerklrung.

Die Nutzung unserer Webseite ist in der Regel ohne Angabe personenbezogener Daten mglich. Soweit auf unseren Seiten personenbezogene Daten (beispielsweise Name, Anschrift oder E-Mail-Adressen) erhoben werden, erfolgt dies, soweit mglich, stets auf freiwilliger Basis. Diese Daten werden ohne Ihre ausdrckliche Zustimmung nicht an Dritte weitergegeben.

Wir weisen darauf hin, dass die Datenbertragung im Internet (z.B. bei der Kommunikation per E-Mail) Sicherheitslcken aufweisen kann. Ein lckenloser Schutz der Daten vor dem Zugriff durch Dritte ist nicht mglich.

## Cookies

Die Internetseiten verwenden teilweise so genannte Cookies. Cookies richten auf Ihrem Rechner keinen Schaden an und enthalten keine Viren. Cookies dienen dazu, unser Angebot nutzerfreundlicher, effektiver und sicherer zu machen. Cookies sind kleine Textdateien, die auf Ihrem Rechner abgelegt werden und die Ihr Browser speichert.

Die meisten der von uns verwendeten Cookies sind so genannte Session-Cookies. Sie werden nach Ende Ihres Besuchs automatisch gelscht. Andere Cookies bleiben auf Ihrem Endgert gespeichert, bis Sie diese lschen. Diese Cookies ermglichen es uns, Ihren Browser beim nchsten Besuch wiederzuerkennen.

Sie knnen Ihren Browser so einstellen, dass Sie ber das Setzen von Cookies informiert werden und Cookies nur im Einzelfall erlauben, die Annahme von Cookies fr bestimmte Flle oder generell ausschlieen sowie das automatische Lschen der Cookies beim Schlieen des Browser aktivieren. Bei der Deaktivierung von Cookies kann die Funktionalitt dieser Website eingeschrnkt sein.

## Kontaktformular

Wenn Sie uns per Kontaktformular Anfragen zukommen lassen, werden Ihre Angaben aus dem Anfrageformular inklusive der von Ihnen dort angegebenen Kontaktdaten zwecks Bearbeitung der Anfrage und fr den Fall von Anschlussfragen bei uns gespeichert. Diese Daten geben wir nicht ohne Ihre Einwilligung weiter.

## Google Analytics

Diese Website nutzt Funktionen des Webanalysedienstes Google Analytics. Anbieter ist die Google Inc., 1600 Amphitheatre Parkway Mountain View, CA 94043, USA.

Google Analytics verwendet so genannte "Cookies". Das sind Textdateien, die auf Ihrem Computer gespeichert werden und die eine Analyse der Benutzung der Website durch Sie ermglichen. Die durch den Cookie erzeugten Informationen ber Ihre Benutzung dieser Website werden in der Regel an einen Server von Google in den USA bertragen und dort gespeichert.

**Browser Plugin**

Sie knnen die Speicherung der Cookies durch eine entsprechende Einstellung Ihrer Browser-Software verhindern; wir weisen Sie jedoch darauf hin, dass Sie in diesem Fall gegebenenfalls nicht smtliche Funktionen dieser Website vollumfnglich werden nutzen knnen. Sie knnen darber hinaus die Erfassung der durch den Cookie erzeugten und auf Ihre Nutzung der Website bezogenen Daten (inkl. Ihrer IP-Adresse) an Google sowie die Verarbeitung dieser Daten durch Google verhindern, indem Sie das unter dem folgenden Link verfgbare Browser-Plugin herunterladen und installieren: [https://tools.google.com/dlpage/gaoptout?hl=de](https://tools.google.com/dlpage/gaoptout?hl=de)

**Widerspruch gegen Datenerfassung**

Sie knnen die Erfassung Ihrer Daten durch Google Analytics verhindern, indem Sie auf folgenden Link klicken. Es wird ein Opt-Out-Cookie gesetzt, der die Erfassung Ihrer Daten bei zuknftigen Besuchen dieser Website verhindert: [Google Analytics deaktivieren](javascript:gaOptout();)

Mehr Informationen zum Umgang mit Nutzerdaten bei Google Analytics finden Sie in der Datenschutzerklrung von Google: [https://support.google.com/analytics/answer/6004245?hl=de](https://support.google.com/analytics/answer/6004245?hl=de)

## SSL- Verschlsselung

Diese Seite nutzt aus Grnden der Sicherheit und zum Schutz der bertragung vertraulicher Inhalte, wie zum Beispiel der Anfragen, die Sie an uns als Seitenbetreiber senden, eine SSL-Verschlsselung. Eine verschlsselte Verbindung erkennen Sie daran, dass die Adresszeile des Browsers von "http://" auf "https://" wechselt und an dem Schloss-Symbol in Ihrer Browserzeile.

Wenn die SSL Verschlsselung aktiviert ist, knnen die Daten, die Sie an uns bermitteln, nicht von Dritten mitgelesen werden.

## Widerspruch Werbe-Mails

Der Nutzung von im Rahmen der Impressumspflicht verffentlichten Kontaktdaten zur bersendung von nicht ausdrcklich angeforderter Werbung und Informationsmaterialien wird hiermit widersprochen. Die Betreiber der Seiten behalten sich ausdrcklich rechtliche Schritte im Falle der unverlangten Zusendung von Werbeinformationen, etwa durch Spam-E-Mails, vor.

Quelle: [https://www.e-recht24.de](https://www.e-recht24.de)`,{version:em}=Tl().public;var qi,Kr,qr,Zr,Ht,Qr,Jr,ei;const pr=class{constructor(){p(this,qi,new Pe);p(this,Kr,new Pe);p(this,qr,!1);p(this,Zr,new wu(0));p(this,Ht,{});p(this,Qr,new Dd(this));p(this,Jr,new fn({core:this,debug:!1,consoleInterface:u(this,Qr)}));b(this,"executionCounter",0);p(this,ei,new _d(rc,ce.SESSION,La));this.log(`${pr.NAME}; ${pr.VERSION}`)}get version(){return pr.VERSION}addExecution(){return this.executionCounter++,()=>{this.executionCounter--}}get events(){return u(this,qi)}async setup(){if(u(this,qr))return console.warn("Setup is complete!"),this;g(this,qr,!0),Bt.add(Ko(qh({core:this}))),await u(this,ei).ready,this.config.setDefaults(La);const e=Object.values(u(this,Ht));return await Promise.all(e.map(t=>Promise.resolve(t.beforeSetup()))),await Promise.all(e.map(t=>Promise.resolve(t.setup()))),this.createContent(),u(this,Zr).next(this),this}destroy(){Bt.clear()}createContent(){const e=this.modules.files.fs,t=[{id:"Imprint.md",name:"Imprint",content:Qh,position:{x:0,y:390},fontFamily:lr.Monospace["Courier New"],fontSize:14},{id:"Disclaimer.md",name:"Disclaimer",content:Jh,position:{x:80,y:390},fontFamily:lr.Monospace["Courier New"],fontSize:14},{id:"Changelog.md",name:"Changelog",content:Ed,position:{x:0,y:305},fontFamily:lr.Monospace["Courier New"],fontSize:14}];Promise.all(t.map(({id:r,name:i,content:s,position:a,fontFamily:o,fontSize:l})=>e.createRootFile(r,i,{openMaximized:!0,type:"markdown",content:s,fontFamily:o||lr.SansSerif.Arial,fontSize:l||al},{meta:[[A.POSITION,a],[A.IGNORE_SYMBOL_REARRANGE,!0],[A.SYMBOL,D.LARGE_NOTE_RICH]]}))).catch(r=>{throw new Error(r)})}addModule(e,t){const r=new e(Object.assign({core:this},t));u(this,Ht)[hn(r.constructor.NAME)]=r}async removeModule(e){await e.destroy(),delete u(this,Ht)[e.constructor.NAME]}executeCommands(e){if(e.length>0){const t=e.shift();return this.executeCommand(t).then(()=>this.executeCommands(e))}}async executeCommand(e,t){typeof e=="string"&&(e=e.replace(/(.*[^\\])\n(\S*)/gm,"$1\\n$2")),t=Object.assign({show:!1,commandBucket:Bt,core:this,logger:this.logger},t);const r=[];t.message&&r.push(...r.concat(t.message));const i=t.show;t.message=a=>{i&&r.push(...[].concat(a))};let s;try{if(e){const a=await this.modules.parser.parseCommand(e);t.commandBucket.has(a.command)?s=await Ka(e,a,t.commandBucket,t):Bt.has(a.command)?s=await Ka(e,a,Bt,t):this.modules.parser.isMathValue(e)?s=await this.modules.parser.parseMath(e):/^\w+$/.test(e)&&console.warn(`can\\'t use variable or method "${e}"`)}}catch(a){let o=a;Array.isArray(a)&&(o=new Error(a[a.length-1])),u(this,Kr).next(o)}return s!==void 0&&s!=="undefined"&&typeof s=="string"&&t.show&&r.length<1&&r.push(s),r.forEach(a=>t.logger.add(a,{type:fn.TYPE.OUTPUT})),s}log(e){u(this,Jr).add(e,{namespace:"Core"})}get consoleInterface(){return u(this,Qr)}get errorObserver(){return u(this,Kr)}get ready(){return u(this,Zr)}get config(){return u(this,ei)}get logger(){return u(this,Jr)}get modules(){return u(this,Ht)}};let ur=pr;qi=new WeakMap,Kr=new WeakMap,qr=new WeakMap,Zr=new WeakMap,Ht=new WeakMap,Qr=new WeakMap,Jr=new WeakMap,ei=new WeakMap,b(ur,"VERSION",em||"0.0.0"),b(ur,"NAME","web-workbench");async function Ka(n,e,t,r){const i=t.get(e.command),s=r.show,a=await i.action(Pc(i,e),Object.assign({command:e.command,commandValue:e.commandValue,commandArgs:e.args},r));return s&&r.showCommand&&r.logger.add("> "+n,{type:fn.TYPE.OUTPUT}),a}function wb(n){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","\n":`&nbsp;
`," ":"&nbsp;"};return n.replace(/[&<>"'\n ]/g,function(t){return e[String(t)]})}function zs(n,e,t,r=" "){if(n.length<e)for(let i=n.length;i<=e-1;i++)t?n=r+n:n=n+r;return n}function cr(n){return n>2e3?(n=parseInt(n/1e3),n>1e3?(n=parseInt(n/1e3),n>1e3?(n=parseInt(n/1e3),`${n}g`):`${n}m`):`${n}k`):`${n}b`}function Vs(n,e){const t=new Date(e),r=[[/y/g,`${t.getFullYear()}`.slice(2)],[/Y/g,t.getFullYear()],[/dd/g,qa(t.getDate())],[/d/g,t.getDate()],[/DD/g,qa(t.getDate())],[/D/g,tr(t.getDate())],[/mm/g,Za(t.getMonth(),!0)],[/m/g,t.getMonth()+1],[/MM/g,Za(t.getMonth()+1,!1)],[/M/g,tr(t.getMonth()+1)],[/h/g,t.getHours()],[/H/g,tr(t.getHours())],[/i/g,t.getMinutes()],[/I/g,tr(t.getMinutes())],[/s/g,t.getSeconds()],[/S/g,tr(t.getSeconds())]];return r.forEach((i,s)=>{n=n.replace(i[0],`%${s}%`)}),r.forEach((i,s)=>{n=n.replace(`%${s}%`,i[1])}),n}const tm=[["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"],["Saturday","Sat"]];function qa(n,e){return tm[String(n)]}const nm=[["Januar","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May"],["June"],["July"],["August","Aug"],["September","Sept"],["October","Oct"],["November","Nov"],["December","Dec"]];function Za(n,e){return n=nm[n-1],n.length>1?e?n[1]:n[0]:n}function tr(n){return n=String(n),n.length<2?`0${n}`:n}function ll(n,e){return e<=0?"":e>String(n).length?n:String(n).substring(0,e)}function rm(n,e){if(e<=0)return"";if(e>String(n).length)return n;{const t=String(n).length;return String(n).substring(t,t-e)}}function Qa(n,e=" "){return Array(parseInt(n)).fill(e).join("")}const Te=class{static parse(e,t=[],r=0){let i=e;const s=am();let a=!1,o=0;for(;e.length>=o;){const l=e[Number(o-1)],c=e[Number(o+1)],d=e[Number(o)];if(d==="("&&s.clamp!==!1&&s.clamp++,/(^[$]{6}\d+\$)/.test(e.slice(o,e.length))&&!ft(s)){const[m]=e.slice(o,e.length).match(/(^[$]{6}\d+\$)/);o+=m.length-1}else if(/(^[$]{3}\d+)/.test(e.slice(o,e.length))&&!ft(s)){const[m]=e.slice(o,e.length).match(/(^[$]{3}\d+)/);s.startRecord=o,o+=m.length,s.stopRecord=o}else d==="-"&&(c==="-"||Te.REGEX_CHAR_WORD_NON_DIGIT.test(c))&&!ft(s)?(s.parameter=!0,s.startRecord=o):d==="("&&!ft(s)?(s.clamp=0,s.startRecord=o):Te.REGEX_NUMERIC.test(d)&&!ft(s)?(s.numeric=!0,s.startRecord=o):Te.REGEX_CHAR_WORD_NON_DIGIT.test(d)&&!ft(s)?(s.char=!0,s.startRecord=o):d==='"'&&!ft(s)?(s.doubleQuote=!0,s.startRecord=o):d==="'"&&!ft(s)?(s.singleQuote=!0,s.startRecord=o):s.startRecord!==!1&&(s.parameter?(d==="="||!Te.REGEX_CHAR_WORD_NON_DIGIT.test(c))&&(d==="="?(s.parameter=!1,s.char=!1,s.startOverride=s.startRecord):c!=="="&&!Te.REGEX_CHAR_WORD_NON_DIGIT.test(c)&&c!=="-"&&(s.stopRecord=o+1)):s.clamp!==!1?d===")"&&(s.clamp===0?s.stopRecord=o+1:s.clamp--):s.numeric?Te.REGEX_NUMERIC.test(l)&&!Te.REGEX_NUMERIC.test(d)&&(s.stopRecord=o):s.char?Te.REGEX_CHAR_WORD_NON_DIGIT.test(l)&&!(Te.REGEX_CHAR_WORD_NON_DIGIT.test(d)&&!/[$%]/.test(d))&&(/[ ]*\(/.test(e.slice(o,e.length))?(s.char=!1,s.clamp=0):s.stopRecord=o+1):s.doubleQuote?l!=="\\"&&d==='"'&&(s.stopRecord=o+1):s.singleQuote&&l!=="\\"&&d==="'"&&(s.stopRecord=o+1));if(!s.stopRecord&&o+1>e.length&&(s.stopRecord=o+1,a=!0),s.stopRecord&&s.startRecord===!1&&o+1!==e.length)a=!0;else if(s.stopRecord){let m=s.startRecord;s.startOverride!==void 0&&(m=s.startOverride),i=i.slice(0,m)+sm(t,i.slice(m,s.stopRecord))+i.slice(s.stopRecord,i.length),Te.DEBUG&&console.log("result",i),a||(this.parse(i,t,r),a=!0)}if(a)break;o++}return t.length>0?t.filter(l=>l.length>0):[e]}};let bt=Te;b(bt,"REGEX_CHAR_WORD_NON_DIGIT",/^[^\d\W$%]|[.].$/),b(bt,"REGEX_NUMERIC",/^[\d+\-*\\/.<>]$/),b(bt,"DEBUG",!1);function im(n){return`$$$$$$${n}$`}function sm(n,e){return n.push(e),im(n.length-1)}function ft(n){return n.singleQuote||n.doubleQuote||n.clamp!==!1||n.char||n.numeric||n.parameter}function am(){return{dollarCount:0,startRecord:!1,stopRecord:!1,char:!1,numeric:!1,singleQuote:!1,doubleQuote:!1,clamp:!1,parameter:!1}}var ti;const pe=class{constructor(e){p(this,ti,void 0);g(this,ti,e)}async parse(e){const t=e;let r=e;const i=e.match(pe.REGEX_COMMAND_REPLACE);i&&(r=i[1],e=i[2]);const s=e;let a=[],o={},l;if(r!==e){const c=this.parseParameter(e);l=c.unresolved,a=await Promise.all(c.args),o=c.kwargs,await Promise.all(Object.keys(o).map(d=>o[String(d)].then(m=>o[String(d)]=m)))}return{origin:t,unresolved:l,args:a,kwargs:o,command:r,commandValue:s}}parseParameter(e){return bt.parse(e).reduce((r,i)=>{if(pe.REGEX_PARAM_KWARG.test(i)){const[,s,a]=i.match(pe.REGEX_PARAM_KWARG);r.kwargs[hn(String(s))]=this.parseValue(a),r.unresolved.kwargs[hn(String(s))]=$a(a)}else pe.REGEX_PARAM_ARG.test(i)?(r.kwargs[hn(String(i.replace(pe.REGEX_PARAM_ARG,"$1")))]=Promise.resolve(!0),r.unresolved.kwargs[hn(String(i.replace(pe.REGEX_PARAM_ARG,"$1")))]=Promise.resolve(!0)):(r.args.push(this.parseValue(i)),r.unresolved.args.push($a(i)));return r},{unresolved:{kwargs:{},args:[]},kwargs:{},args:[]})}parseValue(e){return/.*(true|false).*/.test(e)?Promise.resolve(e.replace(/.*(true|false).*/,"$1")==="true"):/^".*"$/.test(e)?Promise.resolve(J(e)):/^\d+$/.test(e)?Promise.resolve(Number(e)):typeof e=="string"&&/ *([a-zA-Z_-]+) */.test(e)?u(this,ti).parse(e.replace(/ *([a-zA-Z_-]+) */,"$1")):Promise.resolve(e)}static extractStrings(e,t=" "){let r=!1,i;const s=[];let a=!1;for(let l=e.length-1;l>=0;l--){const c=e[Number(l)],d=e[l-1];!a&&c==='"'&&d!=="\\"?r?(r=!1,s.push(e.slice(l,i+1))):(a=!1,r=!0,i=l):(!r&&a||a)&&c==="'"&&d!=="\\"&&(r?(a=!1,r=!1,s.push(e.slice(l,i+1))):(a=!0,r=!0,i=l))}if(r)throw new Error("can't extract values; "+e);return{result:s.reduce((l,c,d)=>l.replace(c,pe.resolveKey(d)),e),values:s}}static extractValues(e,t=" "){let r=!1,i;const s=[];let a=!1;for(let l=e.length-1;l>=0;l--){const c=e[Number(l)],d=e[l-1];!a&&c==='"'&&d!=="\\"?r?(r=!1,s.push(e.slice(l,i+1))):(a=!1,r=!0,i=l):(!r&&a||a)&&c==="'"&&d!=="\\"&&(r?(a=!1,r=!1,s.push(e.slice(l,i+1))):(a=!0,r=!0,i=l))}if(r)throw new Error("can't extract values; "+e);return s.forEach((l,c)=>{e=e.replace(l,pe.resolveKey(c))}),{params:e.split(t).filter(l=>l),values:s}}static resolveKey(e){return`$$$$$$${e}`}static resolveValues({params:e,values:t}){return e.map(r=>pe.resolveValue(r,t))}static valueUnresolved(e){return pe.REGEX_VALUE_RESOLVE.test(e)}static resolveValue(e,t){if(pe.valueUnresolved(e)){if(e=e.match(/[$]{3}(\d+)/g).reduce((r,i)=>r.replace(i,t[Number(i.replace(pe.REGEX_VALUE_RESOLVE,"$1"))]),e),/[\w]+[$%]?[ ]*\(/.test(e))return e;if(typeof e=="string"){if(e==="undefined")return;if(lm(e))return e;if(om(e))return Number(e);if(!e.startsWith('"'))return Dc(e)}}return e}};let Z=pe;ti=new WeakMap,b(Z,"REGEX_VALUE_RESOLVE",/[$]{3}(\d+)/),b(Z,"REGEX_COMMAND_REPLACE",/^([a-zA-Z]+[a-zA-Z0-9_]+) (.*)$/),b(Z,"REGEX_PARAM_KWARG",/^[-]{0,2}([\\-\w]+)=(.*)$/),b(Z,"REGEX_PARAM_ARG",/^[-]{1,2}([\\-\w]+)$/);function om(n){return!isNaN(n)}function lm(n){return!isNaN(parseInt(n))}var ni,Fn,An,kn;class ul{constructor(e,t,r,i){p(this,ni,void 0);p(this,Fn,void 0);p(this,An,!1);p(this,kn,!1);g(this,ni,e),g(this,Fn,t),g(this,An,r||u(this,An)),g(this,kn,i||u(this,kn))}get name(){return u(this,ni)}get value(){return u(this,Fn)}set value(e){this.readonly||g(this,Fn,e)}get global(){return u(this,An)}get readonly(){return u(this,kn)}}ni=new WeakMap,Fn=new WeakMap,An=new WeakMap,kn=new WeakMap;class um extends ul{constructor(e,t,r){super(e,t,r,!0)}execute(e){return this.value.apply(this,e)}}class Ja extends ul{}var ue,yt,be;class ya{constructor(){p(this,ue,new Map);p(this,yt,new Map);p(this,be,[])}reset(){this.resetPrefixStack(),u(this,ue).clear(),u(this,yt).clear()}resetPrefixStack(){g(this,be,[])}get prefixStack(){return u(this,be)}get currentPrefixStack(){return u(this,be)[u(this,be).length-1]}has(e){return e=e.replace(/(.*[^ ])[ ]+$/,"$1"),e=e.replace(/[$%]$/,""),(!u(this,ue).get(e)||u(this,ue).get(e)&&!u(this,ue).get(e).global)&&(e=this.prepareName(e)),u(this,ue).has(e)}add(e,t,r=!1,i=!1){e=e.replace(/(.*[^ ])[ ]+$/,"$1"),/\$$/.test(e)?t===void 0&&(t=""):/\\%$/.test(e)&&t===void 0&&(t=0),e=e.replace(/[$%]$/,""),e=this.prepareName(e),this.has(e)||u(this,ue).set(e,new Ja(e,t,r,i))}get(e){e=e.replace(/(.*[^ ])[ ]+$/,"$1");const t=e;e=e.replace(/[$%]$/,""),(!u(this,ue).get(e)||u(this,ue).get(e)&&!u(this,ue).get(e).global)&&(e=this.prepareName(e));let r=u(this,ue).get(e);return r?(r=r.value,/\$$/.test(t)?r=String(r):/\\%$/.test(t)||/^\d+$/.test(r)?r=parseInt(r):/^[\d.]+$/.test(r)&&(r=parseFloat(r)),r):null}set(e,t,r=!1,i=!1){if(e=e.replace(/(.*[^ ])[ ]+$/,"$1"),typeof t!="object"&&(/[$]$/.test(e)?t===void 0?t="":t=String(t):/[%]$/.test(e)&&(t===void 0?t=0:t=parseInt(t))),e=e.replace(/[$%]$/,""),e=this.prepareName(e),this.has(e)){const s=u(this,ue).get(e);s instanceof Ja&&s&&(s.value=t)}else this.add(e,t,r,i)}addSub(e,t){e=this.prepareName(e,!1),this.has(e)||u(this,yt).set(e,new um(e,t))}executeSub(e,t,r=!1){return e=this.prepareName(e,!1),u(this,be).push({name:`${parseInt(Math.random()*1e4)}`,global:r}),u(this,yt).get(e).execute(t).then(i=>(u(this,ue).forEach(s=>{RegExp(`[$]{3}${u(this,be)[u(this,be).length-1].name}$`).test(s.name)&&u(this,ue).delete(s.name)}),u(this,be).pop(),i))}hasSub(e){return e=this.prepareName(e,!1),u(this,yt).has(e)}prepareName(e,t=!0){return typeof e=="string"&&(e=e.replace(/ /g,"")),t&&u(this,be).length&&!/[$]{3}/.test(e)&&(e=`${e}$$$${u(this,be)[u(this,be).length-1].name}`),e}get dims(){return u(this,ue)}get subs(){return u(this,yt)}}ue=new WeakMap,yt=new WeakMap,be=new WeakMap;var Yt,ri,re,De,Je,ii,si,Ee,ai,Xt,et,ge,Dt,ie,se,ho;let cm=(ho=class{constructor(e,t,r,i=null,s=null){p(this,Yt,void 0);p(this,ri,void 0);p(this,re,void 0);p(this,De,void 0);p(this,Je,void 0);p(this,ii,9999999999);p(this,si,0);p(this,Ee,null);p(this,ai,[]);p(this,Xt,0);p(this,et,[]);p(this,ge,-1);p(this,Dt,[]);p(this,ie,[]);p(this,se,-1);g(this,Je,e),g(this,De,t),g(this,re,r||new ya),g(this,Yt,i),g(this,ri,s)}get memory(){return u(this,re)}get lines(){return u(this,Je)}parse(e){e=e||[].concat(u(this,Je));const t=e.shift().replace(/^ */,"");return new Promise(r=>{if(u(this,Ee)&&t!=="END SUB"){u(this,Ee).lines.push(t),r();return}if(u(this,ii)>0&&u(this,si)>u(this,ii))throw new Error("BASIC INTERPRETER OVERFLOW");if(Ae(this,si)._++,u(this,se)>=0){if(u(this,ie).forEach(i=>{u(this,ie)[u(this,se)].count===0&&i.count===0&&i.lines.push(t)}),t==="WEND"||/NEXT /.test(t))return u(this,ie)[u(this,se)].condition().then(async i=>{if(u(this,ie)[u(this,se)].tmpLines=u(this,ie)[u(this,se)].tmpLines||e,i){const s=u(this,ie)[u(this,se)].lines;return u(this,ie)[u(this,se)].count++,"step"in u(this,ie)[u(this,se)]&&await u(this,ie)[u(this,se)].step(),s.length>0?this.parse([].concat(s)):(u(this,ie)[u(this,se)]=!1,Ae(this,se)._--,u(this,ie).pop(),null)}else return u(this,ie)[u(this,se)]=!1,Ae(this,se)._--,u(this,ie).pop(),null}).then(r);r()}else r()}).then(()=>{if(!u(this,Ee)&&u(this,ge)>=-1&&(u(this,Dt)[u(this,ge)]!==void 0&&u(this,et)[u(this,ge)]===void 0&&u(this,et).push(!u(this,Dt)[u(this,ge)]),t==="ELSE"&&u(this,Xt)<1&&(u(this,et)[u(this,ge)]=!u(this,et)[u(this,ge)])),u(this,et)[u(this,ge)])/^IF (\((.*)\)|(.*)) THEN$/.test(t)&&Ae(this,Xt)._++;else return this.parseLine(t,e);return null}).then(()=>(u(this,ge)>-1&&(t==="ENDIF"||t==="END IF")&&(u(this,Xt)<1?(Ae(this,ge)._--,u(this,Dt).pop(),u(this,et).pop()):Ae(this,Xt)._--),e.length?this.parse(e):u(this,ai)))}parseLine(e,t){return new Promise((r,i)=>{if(e=(e||"").replace(/^[ \t]+/g,""),/^ *[#/]+/.test(e)){r();return}if(/^SUB (.*) STATIC$/.test(e)){const s=e.match(/^SUB (.*) STATIC$/);return this.commandSubStatic(s[1]).then(r)}else{if(e==="END SUB")return this.commandEndSub().then(r);if(u(this,Ee)){r();return}}if(/^IF (\((.*)\)|(.*)) THEN$/.test(e)){const s=e.match(/^IF (\((.*)\)|(.*)) THEN$/),a=s[3]||s[2];return this.commandIfThen(a).then(r)}else if(e==="ELSE"||e==="ENDIF"||e==="END IF"){r();return}if(/^WHILE (.*)$/.test(e)){const s=e.match(/^WHILE (.*)$/);return this.commandWhile(s[1]).then(r)}else if(e==="WEND"){r();return}if(/^FOR (.*)$/.test(e)){const s=e.match(/^FOR (.*)$/);return this.commandFor(s[1]).then(r)}else if(e.startsWith("NEXT ")){r();return}if(/^([\w\d]+):$/.test(e)){r();return}if(/^GOTO +([\w\d]+)$/.test(e)){const s=e.match(/^GOTO +([\w\d]+)$/);this.commandGoto(t,s[1])}if(/^DIM( SHARED)? +(.*)$/.test(e)){const s=e.match(/^DIM( SHARED)? +(.*)$/);return this.commandDimShared(s[2],!!s[1]).then(r)}if(/^LET +([\w,$%]+)(\((.*)\))? *= *(.*)$/.test(e)){const s=e.match(/^LET +([\w,$%]+)(\((.*)\))? *= *(.*)$/);return this.commandLet(s[1],s[4],s[3]).then(()=>r())}if(/^READ +([\w, $%]+)$/.test(e)){const s=e.match(/^READ +([\w, $%]+)$/);return this.commandRead(s[1]).then(r)}if(/^END[ ]*$/.test(e))return this.commandEnd().then(r);if(/^(PAUSE|SLEEP) +(.+)/.test(e)){const a=e.match(/^(PAUSE|SLEEP) +(.+)/)[2];return this.commandPause(a).then(r)}if(/^CALL *(.*)/.test(e)){const s=e.match(/^CALL *(.*)/);return this.commandCall(s[1],t).then(r)}if(/^EXECUTE *(FILE|EVAL) *(.*)/.test(e)){const s=e.match(/^EXECUTE *(FILE|EVAL) *(.*)/);return this.commandExecute(s[1],s[2]).then(r).catch(i)}if(/^PRINT +USING +(.*);(.*)$/.test(e)){const s=e.match(/^PRINT +USING +(.*);(.*)$/);return this.commandPrintUsing(s[1],s[2]).then(r)}if(/^PRINT +(.*)$/.test(e)){const s=e.match(/^PRINT +(.*)$/);return this.commandPrint(s[1]).then(r)}if(/^DATA +(.*)$/.test(e)){const s=e.match(/^DATA +(.*)$/);return this.commandDataVar(s[1]).then(r)}u(this,De)?u(this,De).call(this,e,{show:!0}).then(s=>{s&&u(this,ai).push(s)}).then(r).catch(i):r()})}async setReadStack(e,t){let r=await this.parseValue(t,!0);return Fi(r)&&(r=parseFloat(r)),u(this,re).set(e,r,!0)}async addDataStack(e){let t=await this.parseValue(e,!0);return Fi(t)&&(t=parseFloat(t)),u(this,Yt).push(t)}async setStack({name:e,value:t,index:r,global:i}){let s=await this.parseValue(t,!0);return Fi(s)&&(s=parseFloat(s)),r!==void 0?(r=await this.parseValue(r,!0),u(this,re).get(e)[r-1]=s):u(this,re).set(e,s,i)}async setGotoMarkStack(e,t){u(this,ri).set(e,await this.parseValue(t,!0))}parseValue(e,t=!0){return e===void 0||Go(e)||Array.isArray(e)?Promise.resolve(e):typeof e=="boolean"||/^ *(true|false|TRUE|FALSE) *$/.test(e)?(typeof e!="boolean"&&(e=e.toLowerCase()==="true"),Promise.resolve(e)):/^ *@"((.|\n)*)" *$/.test(e)?Promise.resolve(e.replace(/^ *@"((.|\n)*)" *$/,'"$1"')):/^ *"((\\"|[^"])*)" *$/.test(e)?Promise.resolve(e.replace(/^ *"((\\"|[^"])*)" *$/,'"$1"')):/^ *[\d]+ *$/.test(e)||/^ *([\\-]?[\d.]+(e[-+]?\d+)?) *$/.test(e)?Promise.resolve(parseFloat(e)):e&&/^[^"]?(.*)[^"]? *$/.test(e.replace(/ /g,""))?(e=e.replace(/^ */g,""),u(this,re).has(e.replace(/ /g,""))?(e=e.replace(/ /g,""),this.parseValue(u(this,re).get(e),!0)):u(this,De).call(this,e,{message:t?void 0:e}).then(r=>r)):Promise.resolve(null)}async executeCondition(e,t,r){return e=await this.parseValue(e,!0),r=await this.parseValue(r,!0),/^[=]?==$/.test(t)?e===r:t==="<>"?e!==r:/^([<>][=]|[<>])?$/.test(t)?dm(e,t,r):/^!=[=]?$/.test(t)?e!==r:null}commandIfThen(e){const t=e.match(/([^<>]*) *(<>|<=|>=|<|>|[=!]{2,3}) *([^<>].*)/);return t?this.executeCondition(t[1],t[2],t[3]).then(r=>(u(this,Dt).push(r),Ae(this,ge)._++,r)):this.parseValue(e[1],!0).then(r=>(u(this,Dt).push("value"in r?r.value:r),Ae(this,ge)._++,r))}commandWhile(e){const t=e.match(/([^<>]*) *(<>|<=|>=|<|>|[=!]{2,3}) *([^<>].*)/);return t?this.executeCondition(t[1],t[2],t[3]).then(r=>{if(r)return u(this,ie).push({count:0,lines:[],condition:()=>this.executeCondition(t[1],t[2],t[3])}),Ae(this,se)._++,r}):Promise.resolve()}async commandFor(e){const t=e.match(/(.*) *= *(.*) +TO +(.*) +STEP[ ](.*)/)||e.match(/(.*) *= *(.*) +TO +(.*)/);if(t){const r=await this.parseValue(t[2],!0),i=await this.parseValue(t[3],!0);u(this,re).set(t[1],r),Ae(this,se)._++;const s=async(a=!0)=>{let o=1;return t[4]&&(o=await this.parseValue(t[4],!0)),a&&u(this,re).set(t[1],u(this,re).get(t[1])+o),o};return u(this,ie).push({step:s,count:0,lines:[],condition:async()=>{const a=await s(!1);return a===0?!1:this.executeCondition(`(${t[1]}  )`,a<0?">":"<",i)}})}}commandSubStatic(e){const t=e.match(/^([\w,$%]+)(\((.*)\))?$/),r=t[1],i=Z.resolveValues(Z.extractValues(t[3]||"",","));return g(this,Ee,{name:r,lines:[],args:i}),Promise.resolve()}commandEndSub(){if(u(this,Ee)){const e=u(this,Ee).lines,t=u(this,Ee).args;u(this,re).addSub(u(this,Ee).name,async(...r)=>{(await Promise.all(t.map((s,a)=>this.parseValue(r[Number(a)]).then(o=>({arg:s,value:o}))))).forEach(({arg:s,value:a})=>{u(this,re).add(s,a)}),await this.parse([].concat(e))}),g(this,Ee,null)}else throw new Error("has no active SUB");return Promise.resolve()}commandGoto(e,t){return e.splice(0,e.length),this.parse(u(this,Je).slice(u(this,Je).indexOf(`${t}:`),u(this,Je).length))}commandDimShared(e,t){return Z.resolveValues(Z.extractValues(e,",")).reduce((i,s)=>(s=s.match(/^([\w, $%]+)?(\((.*)\))?$/),u(this,re).has(s[1])||(s[3]&&(i=i.then(()=>this.parseValue(s[3],!0))),i=i.then(a=>this.setStack({name:s[1],value:a?Array(a):void 0,global:t}))),i),Promise.resolve())}commandLet(e,t,r){if(u(this,re).has(e))return this.setStack({name:e,value:t,index:r});throw new Error(`Variable ${e} not defined`)}async commandPrintUsing(e,t){const r=await this.parseValue(e,!0);try{t=[await this.parseValue(t,!0)]}catch{t=await Promise.all(Z.resolveValues(Z.extractValues(t,",")).reduce((a,o)=>(a.push(this.parseValue(o,!0)),a),[]))}const i=t.reduce((s,a)=>{const o=r.match(/((#+)(\.(#+))?)/);return a=String(a),/[\d.]+/.test(a)&&(a=a.split(/\./),o[4]&&a.length>1?a[1]=ll(zs(String(a[1]),o[4].length,!1,"0"),o[4].length):a.splice(1,1),a[0]=zs(String(a[0]),o[2].length,!0," "),a=a.join(".")),s.replace(/(#+(\.#+)?)/,J(a))},r);return u(this,De).call(this,null,{message:`"${J(i)}"`})}commandDataVar(e){if(u(this,Yt).length===0)return Promise.all(e.split(",").map(t=>this.addDataStack(t)));throw new Error("DATA has already been declared")}async commandPrint(e){if(/^((".*"|[^"]*);([^;]*))$/.test(e)){const t=e.match(/(.*);(.*)$/),r=await this.parseValue(t[1],!0);let i=await Promise.all(Z.resolveValues(Z.extractValues(t[2]," ")).reduce((s,a)=>(s.push(this.parseValue(a,!0)),s),[]));return i=i.map(s=>`${J(r)}${J(s)}`).join(" "),u(this,De).call(this,null,{message:`"${i}"`})}else{let t=await this.parseValue(e);return t=await Promise.all(Z.resolveValues(Z.extractValues(String(t)," ")).map(r=>this.parseValue(r,!0))),t=t.map(r=>J(r)),t=t.join(""),u(this,De).call(this,null,{message:Fi(t)?t:`"${t}"`})}}commandEnd(){return Promise.resolve()}async commandPause(e){const t=await this.parseValue(e);return new Promise(r=>window.setTimeout(()=>{r()},t))}commandRead(e){const t=e.split(",");return Promise.all(t.map(r=>{const i=u(this,Yt).shift();return this.setReadStack(r,i),Promise.resolve()}))}commandCall(e,t){const i=e.match(/([^(]+)\(.*\)/)[1];if(u(this,re).hasSub(i))return this.parseLine(e,t);throw new Error(`SUB ${i} NOT FOUND`)}async commandExecute(e,t){if(!u(this,De))throw new Error("No callback available for readfile");console.log("READFILE",e,t);let r;switch(e){case"FILE":try{r=await u(this,De).call(this,`READFILE ${t}`,{show:!1})}catch(i){throw new Error(i)}if(console.log("READFILE",r),r!==void 0)try{return u(this,De).call(this,r.value,{show:!0})}catch(i){throw new Error(i)}else throw new Error("File Content is empty");case"EVAL":try{return this.parseValue(t,{show:!0})}catch(i){throw new Error(i)}}}},Yt=new WeakMap,ri=new WeakMap,re=new WeakMap,De=new WeakMap,Je=new WeakMap,ii=new WeakMap,si=new WeakMap,Ee=new WeakMap,ai=new WeakMap,Xt=new WeakMap,et=new WeakMap,ge=new WeakMap,Dt=new WeakMap,ie=new WeakMap,se=new WeakMap,ho);function dm(n,e,t){switch(e.match(/^([<>][=]|[<>])$/)[1]){case"<":return parseFloat(n)<parseFloat(t);case">":return parseFloat(n)>parseFloat(t);case"<=":return parseFloat(n)<=parseFloat(t);case">=":return parseFloat(n)>=parseFloat(t);default:return null}}function Fi(n){return!isNaN(parseFloat(n))&&isFinite(n)}var Cn,Zi,Qi,Tn;class hm{constructor(e,t){p(this,Cn,new Map);p(this,Zi,new Map);p(this,Qi,[]);p(this,Tn,void 0);g(this,Tn,t),g(this,Cn,e)}get callback(){return u(this,Tn)}get memory(){return u(this,Cn)}async parse(e,t,r){if(e.length===0)return;e.length>1&&await this.readData(e);const i=[];return new cm(e,async(a,o)=>{o=Object.assign({},o,r);const l=await(t||u(this,Tn))(a,o);return o.show&&typeof l=="string"&&l!=="undefined"&&i.push(l),l},u(this,Cn),u(this,Qi),u(this,Zi)).parse().then(()=>i)}readData(e){let t=e.find(r=>/^[ ]*DATA[ +]/.test(r));return t?(t=e.splice(e.indexOf(t),1),this.parse(t)):Promise.resolve()}}Cn=new WeakMap,Zi=new WeakMap,Qi=new WeakMap,Tn=new WeakMap;function ke(...n){if(n.includes(void 0))throw new Error("invalid arguments")}let Us,js,Gs,Hs,Ys,Xs,Ks,cl;try{Us=/([^\w$%]?)\(([^\\(\\)]+)\)/,js=/^\((.*)\)$/,Gs=new RegExp("[^\\d$\\-\\w]?(?<a>([+-]?[\\w.]+e\\+\\d+)|([+-]?[\\w$%.]+)|(^[+-]?[\\w$%.]+)|([\\w$%.]+)|([$]{3}\\d+))[ ]*(?<operator>[\\^*%\\/]|MOD|XOR|AND|OR|<<|>>|>>>)[ ]*(?<b>([-]?[\\w.]+e\\+\\d+)|([-]?[\\w$%.]+)|(^[+-]?[\\w$%.]+)|([\\w$%.]+)|([$]{3}\\d+))"),Hs=/([+-]?[\w.]+e\+\d+|[+-]?[\w$%.]+|[$]{3}\d+)[ ]*([+-])[ ]*([+-]?[\w.]+e\+\d+|[+-]?[\w$%.]+|[$]{3}\d+)/,Ys=/([\w]+[a-zA-Z0-9_.]+[$%]?)[ ]*\(([^\\(\\)]*)\)/,Xs=/^([\w]+[a-zA-Z0-9_.]+[$%]?)[ ]*\(([^\\(\\)]*)\)/,Ks=/^([\w]+[a-zA-Z0-9_.]?[$%]?)/,cl=/^([+-]?[\d.]+e\+\d+|[+-]?[\d.])+($|$)/}catch{}var ne;class mm{constructor(e){p(this,ne,void 0);this.createMemory(e)}createMemory(e){g(this,ne,e||new ya),u(this,ne).addSub("RND",()=>Promise.resolve(Math.random())),u(this,ne).addSub("PI",()=>Promise.resolve(Math.PI)),u(this,ne).addSub("POW",(t,r)=>(ke(t,r),Promise.resolve(t**(r||2)))),u(this,ne).addSub("SQRT",(t,r)=>(ke(t,r),Promise.resolve(Math.sqrt(t,r||2)))),u(this,ne).addSub("INT",t=>(ke(t),this.parse(J(t)).then(r=>parseInt(r)))),u(this,ne).addSub("SPC",t=>(ke(t),Promise.resolve(`"${Qa(t)}"`))),u(this,ne).addSub("LEN",t=>(ke(t),Promise.resolve(J(String(t)).length))),u(this,ne).addSub("ASC",t=>(ke(t),Promise.resolve(J(t).charCodeAt(0)))),u(this,ne).addSub("CHR$",t=>(ke(t),Promise.resolve(String.fromCharCode(t)))),u(this,ne).addSub("LEFT$",(t,r)=>(ke(t,r),Promise.resolve(`"${ll(J(t),parseInt(r))}"`))),u(this,ne).addSub("RIGHT$",(t,r)=>(ke(t,r),Promise.resolve(`"${rm(J(t),parseInt(r))}"`))),u(this,ne).addSub("STRING$",(t,r)=>(ke(t,r),Promise.resolve(`"${Qa(J(t),J(r))}"`))),u(this,ne).addSub("TIME%",()=>Promise.resolve(Date.now())),u(this,ne).addSub("HEX_ENC$",t=>(ke(t),t=Number(J(t)).toString(16),Promise.resolve(t))),u(this,ne).addSub("HEX_DEC$",t=>(ke(t),t=parseInt(J(t),16),Promise.resolve(t)))}parse(e){return new pm(this).parse(e)}validInput(e){return/[/*\-+^()]?/.test(e)}get memory(){return u(this,ne)}}ne=new WeakMap;const fm=5e3;var he,tt,oi;class pm{constructor(e){p(this,he,void 0);p(this,tt,[]);p(this,oi,0);g(this,he,e)}get parser(){return u(this,he)}get parsedValues(){return u(this,tt)}async parse(e){if(u(this,oi)>fm)throw new Error(`Can't parse ${e}`);Ae(this,oi)._++;const{result:t,values:r}=Z.extractStrings(String(e));let i=bt.parse(t);g(this,tt,u(this,tt).concat(r)),i=i.map(o=>/^MOD|XOR|AND|OR$/.test(o)?` ${o} `:o);let s=i.join("");or(s)&&(s=Number(s));const a=s;return s=await this.action(s),s!==a&&!/^".*"$/.test(s)?this.parse(s):this.$v(s)}async action(e){if(js.test(e)){const[t,r]=e.match(js);e=e.replace(t,r)}if(Ys.test(e)){const[t,r,i,s]=e.match(Ys),a=r||s;let o=bt.parse(i||"");const l=i.includes(",")&&o.join("")!==i;if(l&&(o=i.split(",")),o=await Promise.all(o.map(c=>this.parse(c))),o=l?o:[await this.parse(o.join(""))],u(this,he).memory.has(a))return e.replace(t,u(this,he).memory.get(a)[Number(o[0])-1]);if(u(this,he).memory.hasSub(a))return e.replace(t,this.cacheValue(await u(this,he).memory.executeSub(a,o)))}if(Us.test(e)){const[t,r,i]=e.match(Us);return e.replace(t,r+await this.parse(i))}return Gs.test(e)?this.operation(e,Gs):Hs.test(e)?this.operation(e,Hs):this.$v(e)}async operation(e,t){const r=e.match(t);let i,s,a;const o=r[0];"groups"in r&&r.groups?(i=r.groups.a,s=r.groups.b,a=r.groups.operator):(i=r[1],a=r[2],s=r[3]);let l=e,c=await this.parse(i);or(c)||(c=J(c));let d=await this.parse(s);switch(or(d)||(d=J(d)),a){case"+":l=c+d;break;case"-":l=c-d;break;case"*":l=c*d;break;case"/":l=c/d;break;case">":l=c>d;break;case"<":l=c<d;break;case"^":l=c^d;break;case"%":l=c%d;break;case"MOD":l=c%d;break;case"AND":l=c&d;break;case"OR":l=c|d;break;case"XOR":l=c^d;break;case"<<":l=c<<d;break;case">>":l=c>>d;break;case">>>":l=c>>>d;break}return or(l)||(l=`"${l}"`),e.replace(o,o.replace(RegExp(`[${i}]{${String(i).length}}[ ]*[${a}]{${String(a).length}}[ ]*[${s}]{${String(s).length}}`),"")+this.cacheValue(l))}$v(e){if(Z.valueUnresolved(e))return e=Z.resolveValue(e,u(this,tt)),Promise.resolve(e);if(typeof e=="string"&&(e=e.replace(/^[ ]*([^ ].*[^ ])[ ]*$/,"$1")),cl.test(e))return Promise.resolve(Number(e));if(Xs.test(String(e))){const[,t,r]=e.match(Xs);if(u(this,he).memory.hasSub(t))return u(this,he).memory.executeSub(t,Z.resolveValues(Z.extractValues(r,",")));throw new Error(`can't find sub "${t}" in memory`)}else if(Ks.test(String(e))){const t=e.replace(Ks,"$1");if(u(this,he).memory.hasSub(t))return u(this,he).memory.executeSub(t);if(u(this,he).memory.has(t))return Promise.resolve(u(this,he).memory.get(t))}return Promise.resolve(e)}cacheValue(e){return u(this,tt).push(e),Z.resolveKey(u(this,tt).length-1)}}he=new WeakMap,tt=new WeakMap,oi=new WeakMap;const bm=["CLS","READ max","DIM fib%(max)","LET fib(1) = 1","LET fib(2) = 2","FOR i=3 TO max","LET fib(i) = fib(i - 2) + fib(i -1)","NEXT i","FOR i=1 TO max","PRINT fib(i)","NEXT i","DATA 10","END"],gm=["CLS","DIM w%,h%,a%","LET w%=12","LET h%=4","LET a%=w%*h%",'PRINT "With the width " + w%','PRINT " and the height " + h%','PRINT " you have the area " + a%'],wm=["CLS","DIM r,a","LET r=5","READ pi","LET a=r*r*pi",'PRINT USING "With the radius ##.##"; r','PRINT USING "we have the area ##.##"; a',"DATA 3.14","END"],_m=["GuessTheNumber","CLS","READ max%","DIM number%, guess%, guesses%",'PRINT "The number is between 1-1000."',"LET number% = INT(RND * max%) + 1","LET guess% = 1","LET guesses% = 0","WHILE guess%<>number%",'PRINT "Guess the number"',"INPUT guess%","IF (guess%<>number%) THEN","IF (guess%>number%) THEN",'PRINT "Your guess was too high"',"ELSE",'PRINT "Your guess was too low"',"ENDIF","ENDIF","LET guesses% = guesses% + 1","WEND",'PRINT USING "You found the number in # tries"; guesses%',"DATA 1000","END"],ym=["DIM result",'PRINT "Calculate the factorial of"',"INPUT n","LET result = 1","FOR i = n TO 1 STEP -1","LET result = result * i","NEXT i",'PRINT USING "#! = #"; n, result',"END"],Dm=["CLS","DIM stars$",'PRINT "Enter the height of the pyramid"',"INPUT height",'LET stars$ = ""',"FOR i = 1 TO height",'LET stars$ = ""',"FOR j = 1 TO (i+i-1)",'LET stars$ = stars$ + "*"',"NEXT j","PRINT SPC(height - i) + stars","NEXT i","END"],Em=['PRINT "Step 1"','PRINT "Step 2"','PRINT "Step 3"',"GOTO ignore",'PRINT "Step 4"',"ignore:",'PRINT "Step 5"'],vm=["DIM A, B","LET A = 2000",'LET B = "Hello World"','PRINT USING "A: #"; A','PRINT USING "B: #"; B'],xm=["DIM A, B","LET A = 1","LET B = 2","IF A == B THEN",'PRINT "true"',"ELSE",'PRINT "false"',"END","IF (A < B) THEN",'PRINT "true"',"END"],Sm=["DIM i%","FOR i% = 1 TO 5",'PRINT USING "For Number #"; i%',"NEXT i%"],Im=["DIM i%","LET i%=0","WHILE i% < 5",'PRINT USING "While Number #"; i%',"LET i% = i% + 1","WEND"],Fm=["DIM duration","LET duration = 2500",'PRINT USING "Start with Pause #ms"; duration',"PAUSE duration",'PRINT "End Pause"','PRINT USING "Start with Sleep #ms"; duration',"PAUSE duration",'PRINT "End Sleep"'],Am={Fibonacci:bm,Area:gm,Circle:wm,"Your Name":["CLS",'PRINT "What is your name?"',"INPUT n$",'PRINT "What is your shoe size?"',"INPUT size",'PRINT "Hello "; n$','PRINT USING "your shoe size is ##.##"; size',"END"],GuessTheNumber:_m,Factorial:ym,Pyramid:Dm,"Bubble Sort":["CLS","READ max","DIM SHARED numbers(max)","SUB CreateList(max) STATIC","FOR i=1 TO max","LET numbers(i) = INT(RND * 100)","NEXT i","END SUB","SUB PrintList(max) STATIC","FOR i=1 TO max","PRINT numbers(i)","NEXT i","END SUB","SUB SwapValues(i%, j%) STATIC","LET numbers(i%) = numbers(i%) XOR numbers(j%)","LET numbers(j%) = numbers(i%) XOR numbers(j%)","LET numbers(i%) = numbers(i%) XOR numbers(j%)","END SUB","SUB Sort(max) STATIC","FOR i%=1 TO (max - 1)","FOR j%=i% TO max","IF numbers(i%)>numbers(j%) THEN","CALL SwapValues(i%, j%)","END IF","NEXT j%","NEXT i%","END SUB","CreateList(max)","Sort(max)","PrintList(max)","DATA 10","END"],Goto:Em,Vars:vm,If:xm,For:Sm,"For Step":["CLS","FOR i% = 0 TO 6 STEP 2",'PRINT "For Step Number #"; i%',"NEXT i%"],While:Im,Pause:Fm},km=({module:n,core:e})=>{const{fileSystem:t}=e.modules.files;return[{name:["basic"],args:[new y({index:0,name:"path",description:"Path to basic script"})],async action({path:r},i){if(!r)throw B.get("bad_args");const s=await t.get(r);if("type"in s.data&&s.data.type==="basic"&&Array.isArray(s.data.content))return n.parseBasic(s.data.content,null,{logger:i.logger});throw new TypeError(`Can't read file ${r}`)}},{name:["basicExamples"],args:[new y({index:0,name:"name",description:"Name from example"})],action({name:r}){return n.parseBasic(Am[String(r)])}}]};var Ss,On,Rn,Wn,Ji;let Cm=(Ss=class extends cs{constructor({core:t}){super({commands:(...r)=>[...km(...r)],core:t});p(this,On,void 0);p(this,Rn,new ya);p(this,Wn,new mm(u(this,Rn)));p(this,Ji,new Z(u(this,Wn)));g(this,On,new hm(u(this,Rn),t.executeCommand.bind(t)))}get memory(){return u(this,Rn)}parse(...t){return u(this,On).parse(...t)}parseBasic(...t){return u(this,On).parse(...t)}parseCommand(...t){return u(this,Ji).parse(...t)}parseMath(...t){return u(this,Wn).parse(...t)}isMathValue(...t){return u(this,Wn).validInput(...t)}},On=new WeakMap,Rn=new WeakMap,Wn=new WeakMap,Ji=new WeakMap,b(Ss,"NAME","Parser"),Ss);var me,Kt;const es=class extends fe{constructor(t){t=Object.assign({},t);super(t);p(this,me,new Map);p(this,Kt,_c(1));this.addItems(t.items||u(this,me)),g(this,Kt,t.maxSize||u(this,Kt))}async export(...t){const r=await fe.prototype.export.apply(this,...t);return delete r.data,r.items=await Promise.all(Array.from(u(this,me).values()).map(i=>i.export())),r}async addItems(t,r=!1){return t instanceof Map&&(t=Array.from(t.values())),t=await Promise.all(t.map(async i=>(typeof i.data=="string"&&(i.data=await Ps(i.data)),i))),t=this.parseItems(t),Promise.all(t.map(i=>this.addItem(i,r)))}static normalizeItemData(t){return"info"in t&&(t.meta=[t.info],delete t.info),"items"in t&&(t.items instanceof Map||(t.items=new Map(t.items.map(r=>[r.id,r])))),"extension"in t&&(t.id+="."+t.extension,delete t.extension),"createTime"in t&&(t.createdDate=t.createTime,delete t.createTime),"editTime"in t&&(t.editedDate=t.editTime,delete t.editTime),"icon"in t&&delete t.icon,t}parseItems(t){return t.map(r=>{r=es.normalizeItemData(r);let i;return r.type?i=Es(r.type):r.items?i=Es("Directory"):i=Es(),new i(r)})}async addItem(t,r=!1){const i=t.parent;if(!r&&this.hasItem(t.id))throw new Error(`File ${t.id} exists`);if(i&&await i.removeItem(t),r){const s=vr(t.id),a=pa(t.id);t.setId(Pi(jo(a,this,s),s))}return u(this,me).set(t.id,t),t.setParent(this),t.events.next(new G("move",{item:t,lastParent:i})),this.events.next(new G("addItem",t)),t}removeItem(t){return t.setParent(null),u(this,me).delete(t.id),this.events.next(new G("removeItem",t)),Promise.resolve()}async remove(t){const{recursive:r}=Object.assign({recursive:!1},t);if(r){let i=await this.getItems();return i=await Promise.all(Array.from(i.values()).map(s=>s.remove(t))),i=i.reduce((s,a)=>s.concat(a),[]),i.push(await fe.prototype.remove.apply(this,[t])),i}else{if((await this.getItems()).size>0)throw new Error(B.get("FileSystemItem_itemContainerNotEmpty",await this.getPath()));return[await fe.prototype.remove.apply(this,arguments)]}}changeItemId(t,r,i){u(this,me).delete(r),u(this,me).set(i,t),this.parent&&console.log("changeItemId by parent",r,i,u(this.parent,me))}getItems(){return Promise.resolve(u(this,me))}getItem(t){return u(this,me).get(t)}hasItem(t){return u(this,me).has(t)}get items(){return u(this,me)}get size(){return Array.from(u(this,me).values()).reduce(function(t,r){return r instanceof es||(t+=r.size),t},0)}get maxSize(){return t(this);function t(r){return r.parent&&u(r,Kt)?t(r.parent):u(r,Kt)}}};let Y=es;me=new WeakMap,Kt=new WeakMap;B.add([["FileSystemItem_itemContainerNotEmpty",["ItemWrapp Not Empty","ItemContainer not empty %1"]]]);class Da extends Y{constructor(e){e=Object.assign({},e,{locked:!0,id:"ROOT"}),super(e)}}b(Da,"NAME","Root");var Is,nt;let dt=(Is=class extends Y{constructor(t){t=Object.assign({storage:null},t,{locked:!0});super(t);p(this,nt,void 0);g(this,nt,t.storage)}get storage(){return u(this,nt)}get locked(){return u(this,nt).locked}mount(...t){return u(this,nt).mount(...t)}unmount(...t){return u(this,nt).unmount(...t)}async save(){return u(this,nt).save(await this.export())}},nt=new WeakMap,b(Is,"NAME","Storage"),Is);class $i extends dt{constructor(...e){super(...e),this.meta.set(A.VISIBLE,!1)}}b($i,"NAME","TmpDisk"),b($i,"SYMBOL",D.TMP_DISK);class zi extends dt{}b(zi,"NAME","RamDisk"),b(zi,"SYMBOL",D.RAM_DISK);class Ea extends Y{}b(Ea,"NAME","FloppyDisk");class Vi extends dt{}b(Vi,"NAME","HardDisk"),b(Vi,"SYMBOL",D.HARD_DISK);class Ui extends dt{isLogged(){return this.storage.storage.isLogged()}}b(Ui,"NAME","CloudDisk"),b(Ui,"SYMBOL",D.CLOUD_DISK);class Ft extends Y{constructor(...e){super(...e),[A.WINDOW_SCALE,A.WINDOW_SCROLL_X,A.WINDOW_SCROLL_Y].forEach(t=>{this.meta.has(t,!0)||this.meta.set(t,!0)})}}b(Ft,"NAME","Directory"),b(Ft,"SYMBOL",D.DIRECTORY);class Re extends Y{}b(Re,"NAME","Trashcan"),b(Re,"SYMBOL",D.TRASHCAN);class yi extends fe{}b(yi,"NAME","File");var Bn;class va extends fe{constructor(t){t=Object.assign({refPath:null},t);super(t);p(this,Bn,void 0);g(this,Bn,t.refPath)}get refPath(){return u(this,Bn)}set refPath(t){g(this,Bn,t)}}Bn=new WeakMap,b(va,"NAME","Link");var li,Ue,ve,ui,Nn;const Oe=class{constructor(e){p(this,li,void 0);p(this,Ue,void 0);p(this,ve,void 0);p(this,ui,new Map);p(this,Nn,new Pe);g(this,li,e),this.setup()}get root(){return u(this,Ue)}setup(){g(this,Ue,new Da),g(this,ve,u(this,Ue));const e=[this.addStorage(Oe.RAM_DISK_TITLE,ce.SESSION,{id:Oe.RAM_DISK_NAME}),this.addStorage(Oe.HARD_DISK_NAME,ce.LOCAL,{trashcan:!0}),this.addStorage(Oe.TMP_DISK_TITLE,ce.TEMP,{id:Oe.TMP_DISK_NAME,trashcan:!1})];return Promise.all(e).catch(t=>{throw t})}createTmpFile(e,t,r,i){return this.createRootFile(`TMP:${e}`,t,r,i)}createRootFile(e,t,r,i){typeof t=="object"&&(r=t,t=null);const s=`${e}`;return this.makefile(s,t,r,Object.assign({},i,{override:!0}))}async get(e,t){if(e instanceof fe)return e;if(Ti(e))try{return await this.parsePath(e)}catch(r){if(t)return new fe({name:Ce(e)});throw r}else throw B.get("FileSystem_pathInvalid",Ce(e),Qn(e))}async parsePath(e){let t=e,r=u(this,ve);const i=e.match(/^([^:\\/]+):(.*)$/);if(i?(r=u(this,Ue).getItem(i[1]),t=i[2]):t[0]==="/"?(t=t.slice(1),r=u(this,ve).getStorageItem()):t==="ROOT"&&(r=u(this,Ue),t=""),t&&t.length>0&&(r=qs(t.split("/"),r)),r)return r;throw B.get("FileSystem_pathInvalid",e,await u(this,ve).getBase())}async addFloppyDisk(e){typeof e=="function"&&(e=e());const t=await e;return this.addStorage(t)}async removeFloppyDisk(e){await e.remove(!0)}async addStorage(e,t=ce.NONE,r){r=Object.assign({id:null},r);let i;typeof t=="function"&&(i=t,t=ce.CLOUD);const s={id:this.getFreeSlot(Oe.PREFIX.FLOPPY_DISK),itemClass:Ea};let a={};if(typeof e=="object"){const o=e;s.name=o.name,s.items=o.items,s.meta=Array.from(new Map([[A.SYMBOL,D.DISK_1]].concat(o.meta||[])))}else{switch(t){case ce.SESSION:s.id=Oe.PREFIX.RAM,s.itemClass=zi;break;case ce.TEMP:s.id=Oe.PREFIX.TMP,s.itemClass=$i;break;case ce.LOCAL:s.id=this.getFreeSlot(Oe.PREFIX.HARD_DISK),s.itemClass=Vi;break;case ce.CLOUD:s.id=this.getFreeSlot(Oe.PREFIX.CLOUD_DISK),s.itemClass=Ui;break}s.id=r.id||s.id,i=await this.registerStorage(s.id,i||t).mount(r);const o=await i.load();a=Y.normalizeItemData(o),s.storage=i,ce.NONE!==t&&(s.name=a.name||e)}return(s.meta=s.meta||[]).push(...a.meta||[]),this.addDisk(Object.assign(a,s),r)}removeStorage(e){return e.unmount().then(()=>(u(this,Nn).next(new G("removeStorage",{itemStorage:e})),e))}registerStorage(e,t){let r;typeof t=="function"?r=t:r=sl(t);const i=`${u(this,li)}_${e}`,s=new r({id:e,name:i});return u(this,ui).set(i,s),s}connect(e,t){return this.addStorage(fc,e,t).then(r=>r).catch(r=>{throw r})}async disconnect(e){return e=await this.removeStorage(e),e.remove({silent:!0,recursive:!0}),e}addDisk({id:e,name:t,meta:r,items:i,itemClass:s,storage:a},o){o=Object.assign({trashcan:!1},o),o.trashcan&&(!i||i&&!i.has(Re.NAME))&&(i=i||new Map,i.set(Re.NAME,{type:Re.NAME,id:Re.NAME,name:Re.NAME}));const l=s;if(!l)throw new Error("ItemClass is empty!");const c=new l({id:e,name:t,meta:r,items:i,storage:a});return u(this,Ue).addItem(c),u(this,Nn).next(new G("addDisk",{id:e,item:c})),c}get currentItem(){return u(this,ve)}get events(){return u(this,Nn)}get storages(){return u(this,ui)}getFreeSlot(e){let t=0;for(;u(this,Ue).hasItem(`${e}${t}`);)t++;return`${e}${t}`}async exist(e){try{return!!await this.get(e)}catch{return!1}}async changeDirectory(e){const t=await this.get(e);return g(this,ve,t),this.events.next(new G("changeDirectory",t)),t}async makedir(e,t,r){const{ignore:i}=Object.assign({ignore:!1,override:!1},r);let s;e&&wc(e)&&e!==t?s=await this.get(Qn(e)):s=u(this,ve);const a=new Ft({id:Ce(e),name:t||"",createdDate:Date.now()});if(await Xe(s),i||!s.getItem(a.id))s.addItem(a,i),this.events.next(new G("writeItem",a));else throw B.get("FileSystem_fileExist",a.id);return await we(s),a}async makefile(e,t,r,i){const{override:s,meta:a}=Object.assign({override:!1,meta:[]},i),o=new yi({id:Ce(e),name:t,data:r,meta:a,createdDate:Date.now()});if(!Ti(e))throw B.get("FileSystem_invalidPath",e);let l=bc(e);const c=gc(e);l===c&&(l=".");let d;if(pc(l)?d=await this.get(l):u(this,ve).id!=="ROOT"?d=await this.get(fa(await u(this,ve).getPath(),l)):d=await this.get(l),d.hasItem(c))if(s)await d.getItem(c).remove(),d.addItem(o);else throw B.get("FileSystem_fileExist",o.id);else d.addItem(o),this.events.next(new G("writeItem",o));return await we(d),o}async editfile(e,t){const r=await this.get(e).then(Xe);return await Xe(r),r.data=t,we(r)}async editfileMeta(e,t,r){const i=await this.get(e);return Array.isArray(t)?t.map(s=>({name:s[0],value:s[1]})):i.meta.set(t,r),we(i)}async saveItem(e){const t=await this.get(e);return we(t)}async makelink(e,t=null){const r=await this.get(e);await Xe(r);const i=u(this,ve),s=new va({id:pa(r.id)+".ref",name:`${t||r.name}`,refPath:await r.getPath(),createdDate:Date.now()});return await i.addItem(s),await we(r),s}async editlink(e,t){const r=await this.get(e);await Xe(r);const i=await this.get(t);return r.refPath=await i.getPath(),we(r)}async rename(e,t,{name:r=!1,removeName:i=!1}){let s;if(e instanceof fe)s=e;else if(Ti(e)||typeof e=="string")s=await this.get(e);else throw B.get("FileSystem_pathInvalid",Qn(e),e);return await Xe(s),i&&(r=!0,t=null),await s.rename(t,{ignore:!0,name:r}),we(s)}async copy(e,t,r){const{ignore:i}=Object.assign({ignore:!1},r);let s,a,o;if(e instanceof fe?(a=e,s=e.id):(a=await this.get(e),s=Ce(e)),t instanceof fe)t instanceof Y||(t=t.parent),o=t;else{s=Ce(t);const c=await this.get(t,!0);if(c instanceof Y?s=Ce(e):c.parent?o=c.parent:o=await this.get(Qn(t)),!(o instanceof Y))throw new TypeError("no ItemContainer")}await Xe(a);const l=await a.copy();if(i||!o.getItem(s))l.rename(s),o.addItem(l,i),this.events.next(new G("copyItem",l));else throw B.get("FileSystem_fileExist",s);return we(l)}async move(e,t,{override:r=!1}){let i,s,a;if(e instanceof fe)s=e,i=e.id;else{if(s=await this.get(e),s instanceof dt)throw B.get("FileSystem_cantMoveStorage",s.displayName);i=Ce(e)}if(t instanceof fe)t instanceof Y||(t=t.parent),a=t;else{if(i=Ce(t),a=await this.get(t),a instanceof Y)i=Ce(e);else return this.get(Qn(t));if(!(a instanceof Y))throw new TypeError("no ItemContainer")}let o;if(await Xe(s),r||!await a.getItem(i))o=s.getStorageItem(),await s.rename(i),await a.addItem(s,r),this.events.next(new G("moveItem",s));else throw B.get("FileSystem_fileExist",s.id,i);return await we(s),o?o.save().then(()=>s):s}async remove(e,t,r){const{ignore:i}=Object.assign({ignore:!1},r),s=await this.get(e);await Xe(s);try{const a=await yc(t,s);return a[a.length-1].storage&&await a[a.length-1].storage.save(),a}catch(a){if(!i)throw new Error(a)}}};let Ke=Oe;li=new WeakMap,Ue=new WeakMap,ve=new WeakMap,ui=new WeakMap,Nn=new WeakMap,b(Ke,"PREFIX",{FLOPPY_DISK:"DF",TMP:"TMP",RAM:"RAM",HARD_DISK:"HD",CLOUD_DISK:"CD"}),b(Ke,"TMP_DISK_NAME","TMP"),b(Ke,"TMP_DISK_TITLE","TMP DISK"),b(Ke,"RAM_DISK_NAME","RAM"),b(Ke,"RAM_DISK_TITLE","RAM DISK"),b(Ke,"HARD_DISK_NAME","HARD DISK");function qs(n,e){const t=n.shift();if(t===void 0)return e;if(t===".."){if(e.parent)return e.parent}else if(t==="."||t==="")return qs(n,e);if(e){const r=e.getItem(t);return n.length>0&&r instanceof Y?qs(n,r):r}}const Tm=[Ft,Re,dt,$i,zi,Vi,Ea,Ui,va,yi].reduce((n,e)=>(n[e.NAME]=e,n),{});function Es(n){return Tm[String(n)]||yi}B.add([["FileSystem_invalidPath",["Invalid File",'Invalid path "%1"']],["FileSystem_invalidFile",["Invalid File",'Invalid file "%1"']],["FileSystem_fileExist",["File Ready",'File already exists "%1"']],["FileSystem_pathInvalid",["Path Invalid",'Path invalid "%1"; base: "%2"']],["FileSystem_itemInvalid",["Item Invalid",'Item id invalid "%1" from "%2"']],["FileSystem_cantMoveStorage",["Can't Move",`Can't move Storage "%1"`]],["FileSystem_permissionsNeeded",["Permissions needed","Permissions needed"]]]);const Om={props:{label:{type:String,default:"Item Label"},model:{type:Object,default(){return{value:null}}},name:{type:String,default:null},value:{type:[String,Number],default:null},multiple:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{currentModel:{get(){return this.name?this.model[this.name]:this.model.value},set(n){this.name?this.model[this.name]=n:this.model.value=n}},input(){return{name:this.name,readonly:this.readonly,disabled:this.disabled,type:this.multiple?"checkbox":"radio"}}}},Rm={class:"wb-env-atom-form-field-item-select-item"},Wm=["value"],Bm=["innerHTML"];function Nm(n,e,t,r,i,s){return _(),O("label",Rm,[sn(v("input",V({"onUpdate:modelValue":e[0]||(e[0]=a=>s.currentModel=a)},s.input,{value:t.value}),null,16,Wm),[[na,s.currentModel]]),v("span",{class:"field__label",innerHTML:t.label||""},null,8,Bm)])}const Lm=j(Om,[["render",Nm],["__scopeId","data-v-ce10fd9b"]]);const Pm={components:{WbEnvAtomFormFieldFieldItemSelectItem:Lm},props:{title:{type:String,default:"Item Select Title"},multiple:{type:Boolean,default:!1},name:{type:String,default:"value"},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},model:{type:Object,default(){return{value:{}}}},items:{type:Array,required:!1,default(){return[{label:"Item 1",value:"item-1"},{label:"Item 2",value:"item-2"}]}}}},Mm={class:"wb-env-atom-form-field-item-select"},$m={key:0,class:"item-select__title"};function zm(n,e,t,r,i,s){const a=C("wb-env-atom-form-field-field-item-select-item");return _(),O("div",Mm,[t.title?(_(),O("div",$m,Fe(t.title),1)):z("",!0),v("ul",null,[(_(!0),O(St,null,It(t.items,(o,l)=>(_(),O("li",{key:l},[W(a,V(o,{name:o.name||t.name,model:t.model,multiple:t.multiple,readonly:o.readonly||t.readonly,disabled:o.disabled||t.disabled}),null,16,["name","model","multiple","readonly","disabled"])]))),128))])])}const Vm=j(Pm,[["render",zm],["__scopeId","data-v-358eed7f"]]);const Um={components:{WbButton:Ct,WbButtonWrapper:Tt,WbItemSelect:Vm},props:{fileSystem:{type:Object,default(){return null}},fsItem:{type:Object,default(){return null}},name:{type:String,default(){return"fsItem"}},model:{type:Object,default(){return{fsItem:null}}},backLabel:{type:String,default(){return"../"}},upLabel:{type:String,default(){return"Up"}},downLabel:{type:String,default(){return"Down"}},maxVisibleItems:{type:Number,default(){return 5}}},emits:["select","refresh"],data(){return{currentFsItem:this.fsItem||$(this.fileSystem.root),fsItems:[],currentIndex:0}},computed:{disableds(){return{back:!this.currentFsItem.parent,up:this.currentIndex-1<0,down:this.currentIndex+1>this.fsItems.length-this.maxVisibleItems}},currentPath(){return this.model[this.name]},items(){const n=this.fsItems.slice(this.currentIndex,this.currentIndex+this.maxVisibleItems).map(e=>({label:e.id,value:e.getPath()})).concat(Array(Math.max(this.maxVisibleItems-this.fsItems.length,0)).fill({label:"&nbsp;",disabled:!0}));return this.fsItems.length<1&&(n[Math.floor(n.length/2)]={label:"Empty",disabled:!0}),n}},watch:{async currentPath(){this.currentFsItem=$(await this.fileSystem.get(this.model[this.name])),this.currentFsItem instanceof Y&&(this.fsItems=Array.from((await this.currentFsItem.getItems()).values()).map($),this.currentIndex=0),this.$emit("select",this.currentFsItem)}},async mounted(){this.fsItems=Array.from((await this.currentFsItem.getItems()).values()).map($),this.$nextTick(()=>{this.$emit("refresh",{reset:!0,resize:!1,scroll:!1})})},methods:{onClicBack(){this.currentFsItem instanceof Y?this.model[this.name]=this.currentFsItem.parent.getPath():this.model[this.name]=this.currentFsItem.parent.parent.getPath()},onClickUp(){this.currentIndex=Math.max(this.currentIndex-1,0)},onClickDown(){this.currentIndex=Math.min(this.currentIndex+1,this.fsItems.length-this.maxVisibleItems)}}},jm={class:"wb-module-files-atoms-file-select"};function Gm(n,e,t,r,i,s){const a=C("wb-item-select"),o=C("wb-button"),l=C("wb-button-wrapper");return _(),O("div",jm,[v("div",null,[W(a,{title:null,items:s.items,name:t.name,model:t.model},null,8,["items","name","model"])]),v("div",null,[W(l,{align:"outer",full:"",direction:"vertical"},{default:X(()=>[W(o,{class:"file-select__back-button","style-type":"secondary",label:t.backLabel,disabled:s.disableds.back,onClick:s.onClicBack},null,8,["label","disabled","onClick"]),W(o,{"style-type":"secondary",label:t.upLabel,disabled:s.disableds.up,onClick:s.onClickUp},null,8,["label","disabled","onClick"]),t.downLabel?(_(),U(o,{key:0,"style-type":"secondary",label:t.downLabel,disabled:s.disableds.down,onClick:s.onClickDown},null,8,["label","disabled","onClick"])):z("",!0)]),_:1})])])}const dl=j(Um,[["render",Gm],["__scopeId","data-v-6b52ddf1"]]);const Hm={components:{WbEnvAtomFormField:Kn},props:{model:{type:[Array,Object],default(){return{}}},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:"Placeholder"},pattern:{type:String,default:null},readonly:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},disabled:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!1}},computed:{currentModel:{get(){return this.name?this.model[this.name]:this.model.value},set(n){this.name?this.model[this.name]=n:this.model.value=n}},styleClasses(){return{["textbox--type-"+this.type]:!0}},input(){return{name:this.name,type:this.type,placeholder:this.placeholder,pattern:this.pattern,min:this.min,max:this.max,readonly:this.readonly,disabled:this.disabled,autocomplete:this.autocomplete?"on":"off"}}}};function Ym(n,e,t,r,i,s){const a=C("wb-env-atom-form-field");return _(),U(a,V({tag:"div",class:"wb-env-atom-form-textbox"},n.$attrs,{class:s.styleClasses}),{default:X(()=>[sn(v("input",V({ref:"input","onUpdate:modelValue":e[0]||(e[0]=o=>s.currentModel=o)},s.input),null,16),[[na,s.currentModel]])]),_:1},16,["class"])}const Di=j(Hm,[["render",Ym],["__scopeId","data-v-a0c58796"]]);const Xm={components:{WbForm:Xn,WbButton:Ct,WbButtonWrapper:Tt,WbFormFieldTextbox:Di,WbFileSelect:dl},mixins:[ht],props:{core:{type:Object,default(){return null}},fsItem:{type:Object,default(){return null}},id:{type:String,default(){return null}},model:{type:Object,default(){return Le({path:null,filename:null,file:null})}}},emits:["close"],data(){return{filesModule:$(this.core.modules.files),cancelLabel:"Cancel",saveLabel:"Save",fields:{path:{name:"path",label:null,placeholder:"Path"},filesSelect:{title:null,name:"item"},filename:{name:"filename",label:null,placeholder:"Filename"}},currentFsItem:this.fsItem||$(this.core.modules.files.fs.root)}},computed:{fileSelectFsItem(){return this.fsItem||$(this.core.modules.files.fs.root)},isLocked(){return this.currentFsItem?this.currentFsItem.locked:!1},saveDisabled(){return!this.model.filename}},mounted(){this.id&&(this.model.filename=this.id)},methods:{onSelect(n){this.currentFsItem=n,n instanceof Y?this.model.path=n.getPath():(this.model.path=n.getBase(),this.model.filename=n.id)},onClickCancel(){this.$emit("close")},onSubmit(n){const e=fa(this.model.path,this.model.filename);this.$emit("close",e)}}},Km={class:"wb-module-files-save"};function qm(n,e,t,r,i,s){const a=C("wb-form-field-textbox"),o=C("wb-file-select"),l=C("wb-button"),c=C("wb-button-wrapper"),d=C("wb-form");return _(),O("div",Km,[W(d,{onSubmit:s.onSubmit},{default:X(()=>[W(a,V(i.fields.path,{model:t.model,readonly:""}),null,16,["model"]),W(o,{"file-system":i.filesModule.fileSystem,"fs-item":s.fileSelectFsItem,model:t.model,name:"file",onSelect:s.onSelect},null,8,["file-system","fs-item","model","onSelect"]),W(a,V(i.fields.filename,{model:t.model}),null,16,["model"]),W(c,{align:"outer",full:""},{default:X(()=>[i.cancelLabel?(_(),U(l,{key:0,"style-type":"secondary",label:i.cancelLabel,onClick:s.onClickCancel},null,8,["label","onClick"])):z("",!0),i.saveLabel?(_(),U(l,{key:1,"style-type":"primary",label:i.saveLabel,type:"submit",disabled:s.isLocked||s.saveDisabled},null,8,["label","disabled"])):z("",!0)]),_:1})]),_:1},8,["onSubmit"])])}const Zm=j(Xm,[["render",qm],["__scopeId","data-v-f6ede8aa"]]);const Qm={components:{WbForm:Xn,WbButton:Ct,WbButtonWrapper:Tt,WbFormFieldTextbox:Di,WbFileSelect:dl},mixins:[ht],props:{core:{type:Object,default(){return null}},fsItem:{type:Object,default(){return null}},model:{type:Object,default(){return Le({path:null})}}},emits:["close"],data(){return{filesModule:$(this.core.modules.files),cancelLabel:"Cancel",openLabel:"Open",fields:{path:{name:"path",label:null,placeholder:"Path"},fileSelect:{name:"path"},filename:{name:"filename",label:null,placeholder:"Filename"}},currentFsItem:this.fsItem||$(this.core.modules.files.fs.root)}},computed:{isItemContainer(){return this.currentFsItem instanceof Y},fileSelectFsItem(){return this.fsItem||$(this.core.modules.files.fs.root)}},methods:{onSelect(n){console.log("onSelect",n),this.currentFsItem=$(n),n instanceof Y&&(this.model.path=n.getPath())},onClickCancel(){this.$emit("close")},onSubmit(n){this.$emit("close",this.model.path)}}},Jm={class:"wb-module-files-open"};function ef(n,e,t,r,i,s){const a=C("wb-form-field-textbox"),o=C("wb-file-select"),l=C("wb-button"),c=C("wb-button-wrapper"),d=C("wb-form");return _(),O("div",Jm,[W(d,{onSubmit:s.onSubmit},{default:X(()=>[W(a,V(i.fields.path,{model:t.model,readonly:""}),null,16,["model"]),W(o,V(i.fields.fileSelect,{"file-system":i.filesModule.fileSystem,"fs-item":s.fileSelectFsItem,model:t.model,onSelect:s.onSelect}),null,16,["file-system","fs-item","model","onSelect"]),W(c,{align:"outer",full:""},{default:X(()=>[i.cancelLabel?(_(),U(l,{key:0,"style-type":"secondary",label:i.cancelLabel,onClick:s.onClickCancel},null,8,["label","onClick"])):z("",!0),i.openLabel?(_(),U(l,{key:1,"style-type":"primary",label:i.openLabel,type:"submit",disabled:s.isItemContainer},null,8,["label","disabled"])):z("",!0)]),_:1})]),_:1},8,["onSubmit"])])}const tf=j(Qm,[["render",ef],["__scopeId","data-v-698d8881"]]);function xa(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ot=xa();function hl(n){Ot=n}const ml=/[&<>"']/,nf=new RegExp(ml.source,"g"),fl=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,rf=new RegExp(fl.source,"g"),sf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eo=n=>sf[n];function de(n,e){if(e){if(ml.test(n))return n.replace(nf,eo)}else if(fl.test(n))return n.replace(rf,eo);return n}const af=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function pl(n){return n.replace(af,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const of=/(^|[^\[])\^/g;function M(n,e){n=typeof n=="string"?n:n.source,e=e||"";const t={replace:(r,i)=>(i=i.source||i,i=i.replace(of,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}const lf=/[^\w:]/g,uf=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function to(n,e,t){if(n){let r;try{r=decodeURIComponent(pl(t)).replace(lf,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!uf.test(t)&&(t=mf(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Ai={},cf=/^[^:]+:\/*[^/]*$/,df=/^([^:]+:)[\s\S]*$/,hf=/^([^:]+:\/*[^/]*)[\s\S]*$/;function mf(n,e){Ai[" "+n]||(cf.test(n)?Ai[" "+n]=n+"/":Ai[" "+n]=Oi(n,"/",!0)),n=Ai[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(df,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(hf,"$1")+e:n+e}const ji={exec:function(){}};function no(n,e){const t=n.replace(/\|/g,(s,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),r=t.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Oi(n,e,t){const r=n.length;if(r===0)return"";let i=0;for(;i<r;){const s=n.charAt(r-i-1);if(s===e&&!t)i++;else if(s!==e&&t)i++;else break}return n.slice(0,r-i)}function ff(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let r=0,i=0;for(;i<t;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])r++;else if(n[i]===e[1]&&(r--,r<0))return i;return-1}function pf(n,e){!n||n.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(n.sanitize||n.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(n.highlight||n.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),n.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),n.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),n.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),n.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(n.headerIds||n.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function ro(n,e,t,r){const i=e.href,s=e.title?de(e.title):null,a=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const o={type:"link",raw:t,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,o}return{type:"image",raw:t,href:i,title:s,text:de(a)}}function bf(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}class Gi{constructor(e){this.options=e||Ot}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Oi(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=bf(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=Oi(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,i,s,a,o,l,c,d,m,h,f,E,w=t[1].trim();const k=w.length>1,R={type:"list",raw:"",ordered:k,start:k?+w.slice(0,-1):"",loose:!1,items:[]};w=k?`\\d{1,9}\\${w.slice(-1)}`:`\\${w}`,this.options.pedantic&&(w=k?w:"[*+-]");const S=new RegExp(`^( {0,3}${w})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(E=!1,!(!(t=S.exec(e))||this.rules.block.hr.test(e)));){if(r=t[0],e=e.substring(r.length),d=t[2].split(`
`,1)[0].replace(/^\t+/,oe=>" ".repeat(3*oe.length)),m=e.split(`
`,1)[0],this.options.pedantic?(a=2,f=d.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,f=d.slice(a),a+=t[1].length),l=!1,!d&&/^ *$/.test(m)&&(r+=m+`
`,e=e.substring(m.length+1),E=!0),!E){const oe=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),H=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Q=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),Rt=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(h=e.split(`
`,1)[0],m=h,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Q.test(m)||Rt.test(m)||oe.test(m)||H.test(e)));){if(m.search(/[^ ]/)>=a||!m.trim())f+=`
`+m.slice(a);else{if(l||d.search(/[^ ]/)>=4||Q.test(d)||Rt.test(d)||H.test(d))break;f+=`
`+m}!l&&!m.trim()&&(l=!0),r+=h+`
`,e=e.substring(h.length+1),d=m.slice(a)}}R.loose||(c?R.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(f),i&&(s=i[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),R.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:f}),R.raw+=r}R.items[R.items.length-1].raw=r.trimRight(),R.items[R.items.length-1].text=f.trimRight(),R.raw=R.raw.trimRight();const N=R.items.length;for(o=0;o<N;o++)if(this.lexer.state.top=!1,R.items[o].tokens=this.lexer.blockTokens(R.items[o].text,[]),!R.loose){const oe=R.items[o].tokens.filter(Q=>Q.type==="space"),H=oe.length>0&&oe.some(Q=>/\n.*\n/.test(Q.raw));R.loose=H}if(R.loose)for(o=0;o<N;o++)R.items[o].loose=!0;return R}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):de(t[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:no(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=t[0];let i=r.align.length,s,a,o,l;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=no(r.rows[s],r.header.length).map(c=>({text:c}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=this.lexer.inline(r.header[a].text);for(i=r.rows.length,a=0;a<i;a++)for(l=r.rows[a],o=0;o<l.length;o++)l[o].tokens=this.lexer.inline(l[o].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:de(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):de(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=Oi(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=ff(t[2],"()");if(a>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],s=a[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),ro(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return ro(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=i[0].length-1;let o,l,c=a,d=0;const m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+a);(i=m.exec(t))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=o.length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&a%3&&!((a+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);const h=e.slice(0,a+i.index+l+1);if(Math.min(a,l)%2){const E=h.slice(1,-1);return{type:"em",raw:h,text:E,tokens:this.lexer.inlineTokens(E)}}const f=h.slice(2,-2);return{type:"strong",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=de(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=de(this.options.mangle?t(r[1]):r[1]),s="mailto:"+i):(i=de(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=de(this.options.mangle?t(r[0]):r[0]),s="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=de(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):de(r[0]):r[0]:i=de(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const T={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ji,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};T._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;T._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;T.def=M(T.def).replace("label",T._label).replace("title",T._title).getRegex();T.bullet=/(?:[*+-]|\d{1,9}[.)])/;T.listItemStart=M(/^( *)(bull) */).replace("bull",T.bullet).getRegex();T.list=M(T.list).replace(/bull/g,T.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+T.def.source+")").getRegex();T._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";T._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;T.html=M(T.html,"i").replace("comment",T._comment).replace("tag",T._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();T.lheading=M(T.lheading).replace(/bull/g,T.bullet).getRegex();T.paragraph=M(T._paragraph).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex();T.blockquote=M(T.blockquote).replace("paragraph",T.paragraph).getRegex();T.normal={...T};T.gfm={...T.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};T.gfm.table=M(T.gfm.table).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex();T.gfm.paragraph=M(T._paragraph).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",T.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex();T.pedantic={...T.normal,html:M(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",T._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ji,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(T.normal._paragraph).replace("hr",T.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",T.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ji,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ji,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};x._punctuation="\\p{P}$+<=>`^|~";x.punctuation=M(x.punctuation,"u").replace(/punctuation/g,x._punctuation).getRegex();x.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;x.anyPunctuation=/\\[punct]/g;x._escapes=/\\([punct])/g;x._comment=M(T._comment).replace("(?:-->|$)","-->").getRegex();x.emStrong.lDelim=M(x.emStrong.lDelim,"u").replace(/punct/g,x._punctuation).getRegex();x.emStrong.rDelimAst=M(x.emStrong.rDelimAst,"gu").replace(/punct/g,x._punctuation).getRegex();x.emStrong.rDelimUnd=M(x.emStrong.rDelimUnd,"gu").replace(/punct/g,x._punctuation).getRegex();x.anyPunctuation=M(x.anyPunctuation,"gu").replace(/punct/g,x._punctuation).getRegex();x._escapes=M(x._escapes,"gu").replace(/punct/g,x._punctuation).getRegex();x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;x.autolink=M(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex();x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;x.tag=M(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex();x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;x._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;x.link=M(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex();x.reflink=M(x.reflink).replace("label",x._label).replace("ref",T._label).getRegex();x.nolink=M(x.nolink).replace("ref",T._label).getRegex();x.reflinkSearch=M(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex();x.normal={...x};x.pedantic={...x.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()};x.gfm={...x.normal,escape:M(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};x.gfm.url=M(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex();x.breaks={...x.gfm,br:M(x.br).replace("{2,}","*").getRegex(),text:M(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function gf(n){return n.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function io(n){let e="",t,r;const i=n.length;for(t=0;t<i;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class je{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ot,this.options.tokenizer=this.options.tokenizer||new Gi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:T.normal,inline:x.normal};this.options.pedantic?(t.block=T.pedantic,t.inline=x.pedantic):this.options.gfm&&(t.block=T.gfm,this.options.breaks?t.inline=x.breaks:t.inline=x.gfm),this.tokenizer.rules=t}static get rules(){return{block:T,inline:x}}static lex(e,t){return new je(t).lex(e)}static lexInline(e,t){return new je(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,c)=>l+"    ".repeat(c.length));let r,i,s,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(r=o.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(d){c=d.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=t[t.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),a=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,s,a=e,o,l,c;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,o.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,a,c)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,io)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,io))){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const m=e.slice(1);let h;this.options.extensions.startInline.forEach(function(f){h=f.call({lexer:this},m),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(s=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(s,gf)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),l=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class Hi{constructor(e){this.options=e||Ot}code(e,t,r){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+de(i)+'">'+(r?e:de(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:de(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${t} id="${s}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,r){const i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(e=to(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(e,t,r){if(e=to(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class Sa{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Ia{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=i,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Ge{constructor(e){this.options=e||Ot,this.options.renderer=this.options.renderer||new Hi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Sa,this.slugger=new Ia}static parse(e,t){return new Ge(t).parse(e)}static parseInline(e,t){return new Ge(t).parseInline(e)}parse(e,t=!0){let r="",i,s,a,o,l,c,d,m,h,f,E,w,k,R,S,N,oe,H,Q;const Rt=e.length;for(i=0;i<Rt;i++){if(f=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(Q=this.options.extensions.renderers[f.type].call({parser:this},f),Q!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){r+=Q||"";continue}switch(f.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(f.tokens),f.depth,pl(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(f.text,f.lang,f.escaped);continue}case"table":{for(m="",d="",o=f.header.length,s=0;s<o;s++)d+=this.renderer.tablecell(this.parseInline(f.header[s].tokens),{header:!0,align:f.align[s]});for(m+=this.renderer.tablerow(d),h="",o=f.rows.length,s=0;s<o;s++){for(c=f.rows[s],d="",l=c.length,a=0;a<l;a++)d+=this.renderer.tablecell(this.parseInline(c[a].tokens),{header:!1,align:f.align[a]});h+=this.renderer.tablerow(d)}r+=this.renderer.table(m,h);continue}case"blockquote":{h=this.parse(f.tokens),r+=this.renderer.blockquote(h);continue}case"list":{for(E=f.ordered,w=f.start,k=f.loose,o=f.items.length,h="",s=0;s<o;s++)S=f.items[s],N=S.checked,oe=S.task,R="",S.task&&(H=this.renderer.checkbox(N),k?S.tokens.length>0&&S.tokens[0].type==="paragraph"?(S.tokens[0].text=H+" "+S.tokens[0].text,S.tokens[0].tokens&&S.tokens[0].tokens.length>0&&S.tokens[0].tokens[0].type==="text"&&(S.tokens[0].tokens[0].text=H+" "+S.tokens[0].tokens[0].text)):S.tokens.unshift({type:"text",text:H}):R+=H),R+=this.parse(S.tokens,k),h+=this.renderer.listitem(R,oe,N);r+=this.renderer.list(h,E,w);continue}case"html":{r+=this.renderer.html(f.text,f.block);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{for(h=f.tokens?this.parseInline(f.tokens):f.text;i+1<Rt&&e[i+1].type==="text";)f=e[++i],h+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);r+=t?this.renderer.paragraph(h):h;continue}default:{const Fa='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(Fa);return}else throw new Error(Fa)}}}return r}parseInline(e,t){t=t||this.renderer;let r="",i,s,a;const o=e.length;for(i=0;i<o;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(a=this.options.extensions.renderers[s.type].call({parser:this},s),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=a||"";continue}switch(s.type){case"escape":{r+=t.text(s.text);break}case"html":{r+=t.html(s.text);break}case"link":{r+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{r+=t.image(s.href,s.title,s.text);break}case"strong":{r+=t.strong(this.parseInline(s.tokens,t));break}case"em":{r+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{r+=t.codespan(s.text);break}case"br":{r+=t.br();break}case"del":{r+=t.del(this.parseInline(s.tokens,t));break}case"text":{r+=t.text(s.text);break}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}class mr{constructor(e){this.options=e||Ot}preprocess(e){return e}postprocess(e){return e}}b(mr,"passThroughHooks",new Set(["preprocess","postprocess"]));var ci,Zs,ts,bl;class wf{constructor(...e){p(this,ci);p(this,ts);b(this,"defaults",xa());b(this,"options",this.setOptions);b(this,"parse",vi(this,ci,Zs).call(this,je.lex,Ge.parse));b(this,"parseInline",vi(this,ci,Zs).call(this,je.lexInline,Ge.parseInline));b(this,"Parser",Ge);b(this,"parser",Ge.parse);b(this,"Renderer",Hi);b(this,"TextRenderer",Sa);b(this,"Lexer",je);b(this,"lexer",je.lex);b(this,"Tokenizer",Gi);b(this,"Slugger",Ia);b(this,"Hooks",mr);this.use(...e)}walkTokens(e,t){let r=[];for(const i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{for(const s of i.header)r=r.concat(this.walkTokens(s.tokens,t));for(const s of i.rows)for(const a of s)r=r.concat(this.walkTokens(a.tokens,t));break}case"list":{r=r.concat(this.walkTokens(i.items,t));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{r=r.concat(this.walkTokens(i[s],t))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,t)))}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const a=t.renderers[s.name];a?t.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:t.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[s.level]?t[s.level].unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),r.renderer){const s=this.defaults.renderer||new Hi(this.defaults);for(const a in r.renderer){const o=s[a];s[a]=(...l)=>{let c=r.renderer[a].apply(s,l);return c===!1&&(c=o.apply(s,l)),c}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new Gi(this.defaults);for(const a in r.tokenizer){const o=s[a];s[a]=(...l)=>{let c=r.tokenizer[a].apply(s,l);return c===!1&&(c=o.apply(s,l)),c}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new mr;for(const a in r.hooks){const o=s[a];mr.passThroughHooks.has(a)?s[a]=l=>{if(this.defaults.async)return Promise.resolve(r.hooks[a].call(s,l)).then(d=>o.call(s,d));const c=r.hooks[a].call(s,l);return o.call(s,c)}:s[a]=(...l)=>{let c=r.hooks[a].apply(s,l);return c===!1&&(c=o.apply(s,l)),c}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens;i.walkTokens=function(a){let o=[];return o.push(r.walkTokens.call(this,a)),s&&(o=o.concat(s.call(this,a))),o}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}ci=new WeakSet,Zs=function(e,t){return(r,i,s)=>{typeof i=="function"&&(s=i,i=null);const a={...i};i={...this.defaults,...a};const o=vi(this,ts,bl).call(this,i.silent,i.async,s);if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(pf(i,s),i.hooks&&(i.hooks.options=i),s){const l=i.highlight;let c;try{i.hooks&&(r=i.hooks.preprocess(r)),c=e(r,i)}catch(h){return o(h)}const d=h=>{let f;if(!h)try{i.walkTokens&&this.walkTokens(c,i.walkTokens),f=t(c,i),i.hooks&&(f=i.hooks.postprocess(f))}catch(E){h=E}return i.highlight=l,h?o(h):s(null,f)};if(!l||l.length<3||(delete i.highlight,!c.length))return d();let m=0;this.walkTokens(c,h=>{h.type==="code"&&(m++,setTimeout(()=>{l(h.text,h.lang,(f,E)=>{if(f)return d(f);E!=null&&E!==h.text&&(h.text=E,h.escaped=!0),m--,m===0&&d()})},0))}),m===0&&d();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(l=>e(l,i)).then(l=>i.walkTokens?Promise.all(this.walkTokens(l,i.walkTokens)).then(()=>l):l).then(l=>t(l,i)).then(l=>i.hooks?i.hooks.postprocess(l):l).catch(o);try{i.hooks&&(r=i.hooks.preprocess(r));const l=e(r,i);i.walkTokens&&this.walkTokens(l,i.walkTokens);let c=t(l,i);return i.hooks&&(c=i.hooks.postprocess(c)),c}catch(l){return o(l)}}},ts=new WeakSet,bl=function(e,t,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+de(i.message+"",!0)+"</pre>";if(t)return Promise.resolve(s);if(r){r(null,s);return}return s}if(t)return Promise.reject(i);if(r){r(i);return}throw i}};const rn=new wf(Ot);function P(n,e,t){return rn.parse(n,e,t)}P.options=P.setOptions=function(n){return rn.setOptions(n),P.defaults=rn.defaults,hl(P.defaults),P};P.getDefaults=xa;P.defaults=Ot;P.use=function(...n){return rn.use(...n),P.defaults=rn.defaults,hl(P.defaults),P};P.walkTokens=function(n,e){return rn.walkTokens(n,e)};P.parseInline=rn.parseInline;P.Parser=Ge;P.parser=Ge.parse;P.Renderer=Hi;P.TextRenderer=Sa;P.Lexer=je;P.lexer=je.lex;P.Tokenizer=Gi;P.Slugger=Ia;P.Hooks=mr;P.parse=P;P.options;P.setOptions;P.use;P.walkTokens;P.parseInline;Ge.parse;je.lex;const _f=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g,yf=Object.hasOwnProperty;class Df{constructor(){this.occurrences,this.reset()}slug(e,t){const r=this;let i=Ef(e,t===!0);const s=i;for(;yf.call(r.occurrences,i);)r.occurrences[s]++,i=s+"-"+r.occurrences[s];return r.occurrences[i]=0,i}reset(){this.occurrences=Object.create(null)}}function Ef(n,e){return typeof n!="string"?"":(e||(n=n.toLowerCase()),n.replace(_f,"").replace(/ /g,"-"))}let so;function vf({prefix:n=""}={}){return{headerIds:!1,hooks:{preprocess(e){return so=new Df,e}},renderer:{heading(e,t,r){return r=r.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,""),`<h${t} id="${n}${so.slug(r)}">${e}</h${t}>
`}}}}const xf=["innerHTML"],Sf={__name:"Markdown",props:{content:{type:String,required:!1,default:"# Headline  <p>Hello World</p>"},fontFamily:{type:String,required:!1,default:null}},setup(n){const e=n,t={prefix:"prefix-"};P.use(vf(t)),P.use({mangle:!1});const r=Ol(()=>P(e.content));return(i,s)=>(_(),O("div",{class:"wb-env-atom-markdown",innerHTML:r.value},null,8,xf))}},gl=j(Sf,[["__scopeId","data-v-a1aa65d6"]]);const If={components:{WbMarkdown:gl},mixins:[ht],props:{type:{type:String,default:null},content:{type:[String,Array],default:null}},data(){return{lines:[]}},mounted(){this.type==="basic"&&window.requestAnimationFrame(()=>{this.lines=[],this.core.modules.parser.parseBasic(this.content,async(n,e)=>{const t=await this.core.executeCommand(n,e);return e.message&&this.lines.push(J(e.message)),t})})}},Ff={class:"wb-module-files-preview"},Af={key:0,class:"basic"},kf=["innerHTML"],Cf=["src"];function Tf(n,e,t,r,i,s){const a=C("wb-markdown");return _(),O("div",Ff,[t.type==="basic"?(_(),O("ul",Af,[(_(!0),O(St,null,It(i.lines,(o,l)=>(_(),O("li",{key:l},Fe(o),1))),128))])):z("",!0),t.type==="markdown"?(_(),U(a,{key:1,content:t.content},null,8,["content"])):z("",!0),t.type==="html"?(_(),O("div",{key:2,innerHTML:t.content},null,8,kf)):z("",!0),t.type==="image"?(_(),O("img",{key:3,src:t.content},null,8,Cf)):z("",!0)])}const Of=j(If,[["render",Tf],["__scopeId","data-v-090adaee"]]),vs={WEB_BASIC_SHOW_PREVIEW:"extras13_web_basic_show_preview",WEB_PAINTING_DISPLAY_BACKGROUND:"extras13_web_painting_display_background",WEB_PAINTING_DISPLAY_FOREGROUND:"extras13_web_painting_display_foreground"},Eb={[vs.WEB_BASIC_SHOW_PREVIEW]:!0,[vs.WEB_PAINTING_DISPLAY_BACKGROUND]:"#CCCCCC",[vs.WEB_PAINTING_DISPLAY_FOREGROUND]:"#FFFFFF"},Ri={HAS_WINDOW_OUTPUT:"has_window_output",CONTENT:"content",OUTPUT_TYPE:"type"};function vb(){return{[Ri.HAS_WINDOW_OUTPUT]:!1,[Ri.CONTENT]:"",[Ri.OUTPUT_TYPE]:"basic"}}async function Rf(n,e,t){const r=await n.executeCommand(`exist "${e}"`);let i=!1;r&&(i=await n.executeCommand('openDialog "File exist, overwrite?" --confirm'));const s=[`makefile "${e}"`];return t&&s.push(`--data="${t}"`),i?s.push("--override"):s.push("--ignore"),n.executeCommand(s.join(" "))}async function Wf(n,e){const t=await n.modules.files.fs.get(e),r=await n.executeCommand(`readfile "${e}"`);return{fsItem:t,value:r}}const Bf=({module:n,core:e})=>{const t=e.modules.windows,{fileSystem:r}=n;return[{name:"openPreview",args:[new y({index:0,name:"path",description:"Path to the file"}),new y({name:"maximized",description:"If set, window is maximized."})],async action({path:i,maximized:s}){const a=await r.get(i),{type:o,content:l,openMaximized:c}=a.data;o==="basic"&&!a.data[Ri.HAS_WINDOW_OUTPUT]?await e.modules.parser.parseBasic(l,async(d,m)=>await e.executeCommand(d,m)):t.addWindow({title:a.name,component:Of,componentData:{type:o,content:l},options:{scale:!0,scrollX:!0,scrollY:!0},layout:{size:I(420,360)}},{full:c||s||!1})}},{name:"saveFileDialog",args:[new y({index:0,name:"data",description:"File Content"}),new y({index:1,name:"id",description:"File Id"}),new y({index:2,name:"extension",description:"File Extension"})],action({data:i,id:s,extension:a}){const o=t.addWindow({title:"Save File",component:Zm,componentData:{fsItem:$(r.root),id:s},options:{scale:!1,scrollX:!1,scrollY:!1}});return new Promise(l=>{o.events.pipe(_r(({name:c})=>c==="close")).subscribe(async({name:c,value:d})=>{if(d){const m=Pi(d,a);d=await Rf(e,m,i)}l(d)})})}},{name:"openFileDialog",args:[],action({data:i}){const s=t.addWindow({title:"Open File",component:tf,componentData:{fsItem:$(r.root)},options:{scale:!1,scrollX:!1,scrollY:!1}});return new Promise(a=>{s.events.pipe(_r(({name:o})=>o==="close")).subscribe(({name:o,value:l})=>{l&&(l=Wf(e,l)),a(l)})})}},{name:"fileinfo",description:"Get info from File or Directory",args:[new y({index:0,name:"path",description:"Path to the file"}),new y({index:1,name:"name",description:"Name from the Info"}),new y({index:2,name:["list","ls"],flag:!0,description:"List all Infos"})],async action({path:i,name:s,list:a},o){const l=await r.itemMeta(i,s,a);if(Array.isArray(l)){const c=new Jt;c.addColumn({value:"Name",align:"left",minWidth:20}),c.addColumn({value:"Value",align:"left",minWidth:20}),c.addRow(l.map(d=>{let m=d.value;return Array.isArray(m)&&(m=m.join(" ")),[d.name,m]})),o.message([c])}return l}},{name:["info","i"],args:[new y({index:0,name:"path",description:"Path to the file"})],async action({path:i},s){let a=r.root;i&&(a=await r.get(i)),a instanceof Y||(a=a.parent);let o=await a.getItems();const l=new Jt;l.addColumn([{value:"Unit",align:"left",minWidth:8},{value:"Size",align:"right",minWidth:6},{value:"Used",align:"right",minWidth:6},{value:"Free",align:"right",minWidth:6},{value:"Full",minWidth:4},{value:"Errs",align:"center",minWidth:4},{value:"Status",align:"center",minWidth:10},{value:"Name",align:"right",minWidth:14}]),o=Array.from(o.values()).filter(d=>d instanceof dt),l.addRow(o.map(d=>{let m=0;return(d.size>0||d.maxSize>0)&&(m=parseInt(d.size/d.maxSize*100)),[`${d.id}:`,cr(d.maxSize),cr(d.size),cr(d.maxSize-d.size),`${m}%`,"0",d.locked?"Read":"Read/Write",`${d.name||""}`]}));const c=["","Mounted disks:",l,"","Volumes available:"];o.forEach(d=>{c.push(`${d.name}: [Mounted]`)}),c.push(""),s.message(c)}},{name:["list","ls"],args:[new y({index:0,name:"path",description:"Path to the file"}),new y({name:"dir-size",flag:!0,description:"Show Directory Size."})],async action({path:i,dirSize:s},a){let o=r.currentItem;i&&(o=await r.get(i));const l=Array.from((await o.getItems()).values()),c=new Jt;c.addColumn({value:"Name",align:"left",minWidth:13}),c.addColumn({value:"Size",align:"right",minWidth:8}),c.addColumn({value:"Access",align:"center",minWidth:12}),c.addColumn({value:"Date / Time",align:"center",minWidth:18}),c.addRow(l.reduce((h,f)=>{let E;f instanceof Y&&!s?E="DIR":E=zs(cr(f.size),8,!0,"0");const w=f.isLocked()?"Read":"Read/Write";return h.push([`${f.id}:`,E,w,f.createdDate?Vs("D-mm-y H:I:S",f.createdDate):""]),h},[]));const d=l.reduce((h,f)=>(f instanceof Ft&&h++,h),0),m=l.reduce((h,f)=>(h+=f.size,h),0);return a.message([c,`${l.length} files - ${d} directories - ${m} blocks used`]),Promise.resolve()}}]};const Nf={components:{WbForm:Xn,WbButton:Ct,WbButtonWrapper:Tt,WbFormFieldTextbox:Di,WbFormFieldDropdown:_a,WbFormFieldCheckboxGroup:ol},mixins:[ht],props:{fsItem:{type:Object,default(){return null}},model:{type:Object,default(){return{actions:{save(){}},id:null,name:null,symbol:null,visible:!1}}}},emits:["close"],data(){const n=this.fsItem.locked;return{cancelLabel:"Cancel",saveLabel:"Save",fields:{id:{disabled:n,label:"Id",name:"id"},name:{disabled:n,label:"Name",name:"name"},checkboxes:{disabled:n,label:"Others",name:null,items:[{label:"Symbol Visible",name:A.VISIBLE},{label:"Ignore Symbol Rearrange ",name:A.IGNORE_SYMBOL_REARRANGE}]},windowSettings:{disabled:n,label:"Window Settings",name:null,items:[{label:"Has Scale ?",name:A.WINDOW_SCALE},{label:"Has Scroll-X ?",name:A.WINDOW_SCROLL_X},{label:"Has Scroll-Y ?",name:A.WINDOW_SCROLL_Y},{label:"Is Full-Size ?",name:A.WINDOW_FULL_SIZE},{label:"Sort Symbols (Directory)",name:A.WINDOW_SYMBOL_REARRANGE}]},symbol:{disabled:n,label:"Symbol",name:"symbol",options:Object.keys(D).map(e=>({title:Xo(e),value:D[String(e)]}))}}}},methods:{onClickCancel(){this.$emit("close")},async onSubmit(){this.locked||await this.model.actions.save(this.model,this.fsItem),this.$emit("close")}}},Lf={class:"wb-module-files-edit"},Pf={class:"cols"},Mf={class:"col-2"},$f={class:"col-2"};function zf(n,e,t,r,i,s){const a=C("wb-form-field-textbox"),o=C("wb-form-field-dropdown"),l=C("wb-form-field-checkbox-group"),c=C("wb-button"),d=C("wb-button-wrapper"),m=C("wb-form");return _(),O("div",Lf,[W(m,{class:"edit__form",onSubmit:s.onSubmit},{default:X(()=>[v("div",null,[W(a,V(i.fields.id,{model:t.model}),null,16,["model"]),W(a,V(i.fields.name,{model:t.model}),null,16,["model"]),W(o,V(i.fields.symbol,{model:t.model}),null,16,["model"]),v("div",Pf,[v("div",Mf,[W(l,V(i.fields.checkboxes,{model:t.model}),null,16,["model"])]),v("div",$f,[W(l,V(i.fields.windowSettings,{model:t.model}),null,16,["model"])])])]),W(d,{align:"outer",full:""},{default:X(()=>[i.cancelLabel?(_(),U(c,{key:0,"style-type":"secondary",label:i.cancelLabel,onClick:s.onClickCancel},null,8,["label","onClick"])):z("",!0),i.saveLabel?(_(),U(c,{key:1,"style-type":"primary",label:i.saveLabel,type:"submit"},null,8,["label"])):z("",!0)]),_:1})]),_:1},8,["onSubmit"])])}const Vf=j(Nf,[["render",zf],["__scopeId","data-v-b9c865b7"]]);const Uf={components:{WbForm:Xn,WbButton:Ct,WbButtonWrapper:Tt,WbFormFieldTextbox:Di,WbFormFieldDropdown:_a},mixins:[ht],props:{core:{type:Object,default(){return null}},fsItem:{type:Object,default(){return null}},model:{type:Object,default(){return{actions:{save:()=>{}},name:null,url:null,symbol:null}}}},emits:["close"],data(){const n=(this.fsItem||{}).locked;return{cancelLabel:"Cancel",saveLabel:"Save",fields:{name:{disabled:n,placeholder:"Name",label:"Name",name:"name"},url:{disabled:n,placeholder:"http://",label:"Url",name:"url"},symbol:{disabled:n,label:"Symbol",name:"symbol",options:Object.keys(D).map(e=>({title:Xo(e),value:D[String(e)]}))}}}},computed:{disabledSave(){return!this.model.name||!this.model.url||!this.model.symbol}},methods:{onClickCancel(){this.$emit("close")},async onSubmit(n){await this.model.actions.save(this.model,this.fsItem)&&this.$emit("close")}}},jf={class:"wb-module-files-web-link"};function Gf(n,e,t,r,i,s){const a=C("wb-form-field-textbox"),o=C("wb-form-field-dropdown"),l=C("wb-button"),c=C("wb-button-wrapper"),d=C("wb-form");return _(),O("div",jf,[W(d,{onSubmit:s.onSubmit},{default:X(()=>[W(a,V(i.fields.name,{model:t.model}),null,16,["model"]),W(a,V(i.fields.url,{model:t.model,type:"url"}),null,16,["model"]),W(o,V(i.fields.symbol,{model:t.model}),null,16,["model"]),W(c,{align:"outer",full:""},{default:X(()=>[i.cancelLabel?(_(),U(l,{key:0,"style-type":"secondary",label:i.cancelLabel,onClick:s.onClickCancel},null,8,["label","onClick"])):z("",!0),i.saveLabel?(_(),U(l,{key:1,"style-type":"primary",label:i.saveLabel,type:"submit",disabled:s.disabledSave},null,8,["label","disabled"])):z("",!0)]),_:1})]),_:1},8,["onSubmit"])])}const ao=j(Uf,[["render",Gf],["__scopeId","data-v-f2aad2c2"]]);const Hf={components:{},mixins:[ht],props:{fsItem:{type:Object,default(){return null}}},data(){return{}},computed:{meta(){return Array.from(this.fsItem.meta).map(([n,e])=>({title:n,value:e}))},items(){return[{title:"Id",value:this.fsItem.id},{title:"Name",value:this.fsItem.name},{title:"Type",value:this.fsItem.constructor.NAME},{title:"Path",value:this.fsItem.getPath()},{title:"Size",value:cr(this.fsItem.size)},{title:"Locked",value:this.fsItem.locked?"Yes":"No"},{title:"Created Date",value:`<nobr>${Vs("H:I:S D.M.Y",this.fsItem.createdDate)}</nobr>`},{title:"Modified Date",value:`<nobr>${Vs("H:I:S D.M.Y",this.fsItem.editedDate)}</nobr>`}]}}},Yf=n=>(ea("data-v-5dbd4058"),n=n(),ta(),n),Xf={class:"wb-module-files-info"},Kf=["innerHTML"],qf=Yf(()=>v("legend",null,"Meta:",-1)),Zf=["innerHTML"];function Qf(n,e,t,r,i,s){return _(),O("div",Xf,[v("table",null,[(_(!0),O(St,null,It(s.items,({title:a,value:o},l)=>(_(),O("tr",{key:l},[v("td",null,Fe(a)+":",1),v("td",{innerHTML:o},null,8,Kf)]))),128))]),v("fieldset",null,[qf,v("table",null,[(_(!0),O(St,null,It(s.meta,({title:a,value:o},l)=>(_(),O("tr",{key:l},[v("td",null,Fe(a)+":",1),v("td",{innerHTML:o},null,8,Zf)]))),128))])])])}const Jf=j(Hf,[["render",Qf],["__scopeId","data-v-5dbd4058"]]),ep=({core:n})=>{const{windows:e,symbols:t}=n.modules,r=Le({open:{disabled:!1},edit:{disabled:!1},duplicate:{disabled:!1},container:{disabled:!1},emptyTrashcan:{disabled:!1},discard:{disabled:!1},info:{disabled:!1},webLink:{disabled:!1},webLinkNew:{disabled:!1},webLinkEdit:{disabled:!1}});function i(){const m=t.getSelectedItems(),h=t.getPrimaryWrapper();r.info.disabled=m.length<1,r.open.disabled=m.length<1,r.edit.disabled=m.length<1||m.find(f=>f.locked||f instanceof Re),r.duplicate.disabled=m.length<1||m.find(({fsItem:f})=>f.locked||f instanceof Re||f instanceof dt),r.container.disabled=!r.open.disabled||h&&h.fsItem&&(h.fsItem instanceof Da||h.fsItem.locked)||!h,r.webLinkEdit.disabled=m.length<1||m.find(f=>!f.fsItem.meta.get(A.WEB_URL)),r.webLinkNew.disabled=r.container.disabled,r.webLink.disabled=r.webLinkNew.disabled&&r.webLinkEdit.disabled,r.emptyTrashcan.disabled=m.length<1||m.find(f=>!(f.fsItem instanceof Re)),r.discard.disabled=m.length<1||m.find(({fsItem:f})=>f.locked||f instanceof Re||f instanceof dt)}return t.events.subscribe(()=>i()),i(),[{order:1,title:"File",items:[{title:"Open",options:r.open,action:s},{title:"Edit",options:r.edit,action:c},{separator:!0},{title:"Web Link",options:r.webLink,items:[{title:"New",options:r.webLinkNew,action:o},{title:"Edit",options:r.webLinkEdit,action:l}]},{separator:!0},{title:"Duplicate",options:r.duplicate,action(){const m=t.getSelectedItems();return Promise.all(m.filter(h=>h.fsItem).map(async({fsItem:h})=>{const f=await h.getPath();return n.executeCommand(`copy "${f}" "${f}" -ignore`)}))}},{title:"Make Dir",options:r.container,async action(){const m=t.getPrimaryWrapper().fsItem,h=fa(await m.getPath(),"Directory");return console.log(`makedir "${h}" -ignore`),n.executeCommand(`makedir "${h}" -ignore`)}},{separator:!0},{title:"Discard",options:r.discard,action(){const m=t.getSelectedItems();return Promise.all(m.filter(h=>h.fsItem).map(async({fsItem:h})=>{const f=await h.getPath();return n.executeCommand(`remove "${f}" -r`)}))}},{title:"Empty Trashcan",options:r.emptyTrashcan,action(){const m=t.getSelectedItems();return Promise.all(m.filter(h=>h.fsItem).map(async({fsItem:h})=>Promise.all(Array.from((await h.getItems()).values()).map(async f=>{const E=await f.getPath();return n.executeCommand(`remove "${E}" -r -ignore`)}))))}},{separator:!0},{title:"Info",options:r.info,action(){t.getSelectedItems().filter(h=>h.fsItem).forEach(h=>{e.addWindow({title:`Info File ${h.fsItem.name}`,component:Jf,componentData:{fsItem:$(h.fsItem)},options:{scale:!0,prompt:!1,scrollX:!1,scrollY:!0}})})}}]}];function s(){t.getSelectedItems().filter(h=>h.fsItem).forEach(h=>{if(h.command){const f={showCommand:!1,show:!0};return n.executeCommand(h.command,f)}})}async function a({name:m,url:h,symbol:f},E){if(E||(E=await n.executeCommand(`saveFileDialog --id="${Uo(m)}"`)),E){const w=n.addExecution();try{const k=E.getPath();await n.executeCommand(`rename "${k}" "${m}" -n`),await n.executeCommand(`editfilemeta "${k}" "${A.WEB_URL}" "${h}"`),await n.executeCommand(`editfilemeta "${k}" "${A.SYMBOL}" "${f}"`)}catch(k){throw w(),new Error(k)}return w(),!0}return!1}function o(){const m=e.addWindow({title:"Make Link",component:ao,componentData:{model:{actions:{save:a},name:null,url:null,symbol:null}},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}});return new Promise(h=>{m.events.pipe(_r(({name:f})=>f==="close")).subscribe(h)})}function l(){t.getSelectedItems().filter(h=>h.fsItem).forEach(h=>{const f=h.fsItem;e.addWindow({title:"Edit Link",component:ao,componentData:{fsItem:f,model:{actions:{save:a},name:f.name,url:f.meta.get(A.WEB_URL),symbol:f.meta.get(A.SYMBOL)}},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}})})}function c(){t.getSelectedItems().filter(h=>h.fsItem).forEach(h=>{const f=h.fsItem,E=Le({actions:{save:d},id:f.id,name:f.name});[A.SYMBOL,A.VISIBLE,A.IGNORE_SYMBOL_REARRANGE,A.WINDOW_SCALE,A.WINDOW_SCROLL_X,A.WINDOW_SCROLL_Y,A.WINDOW_FULL_SIZE,A.WINDOW_SYMBOL_REARRANGE].forEach(w=>{E[String(w)]=f.meta.has(w)?f.meta.get(w):!1}),e.addWindow({title:`Edit File ${f.name}`,component:Vf,componentData:{fsItem:$(f),model:E},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}})})}async function d(m,h){const{id:f,name:E}=m,w=h.getPath();if(!f)throw new Error("Id is emoty!");let k;const R=n.addExecution();try{await Promise.all([A.SYMBOL,A.VISIBLE,A.IGNORE_SYMBOL_REARRANGE,A.WINDOW_SCALE,A.WINDOW_SCROLL_X,A.WINDOW_SCROLL_Y,A.WINDOW_FULL_SIZE,A.WINDOW_SYMBOL_REARRANGE].map(S=>{let N=m[String(S)];return typeof N=="string"&&(N=`"${N}"`),n.executeCommand(`editfilemeta "${w}" "${S}" ${N}`)})),E&&f!==E?await n.executeCommand(`rename "${w}" "${E}" -n`):k=n.executeCommand(`rename "${w}" "${f}" -rn`),k=n.executeCommand(`rename "${w}" "${f}"`)}catch(S){throw R(),new Error(S)}return R(),k}},tp=(n,e)=>{const t=n[e];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e)))})},np=({module:n})=>{const{fileSystem:e}=n,t=n.core;return[{name:["mountDisk"],description:"Mount Disk",args:[new y({index:0,name:"id",description:"Disk ID"})],async action({id:r},i){const s=t.addExecution(),a=await tp(Object.assign({"../../../../disks/debug/index.js":()=>F(()=>import("./index.0d370349.js"),["./index.0d370349.js","./entry.d9fe636d.js"],import.meta.url),"../../../../disks/examples/index.js":()=>F(()=>import("./index.69daa82d.js"),["./index.69daa82d.js","./entry.d9fe636d.js"],import.meta.url),"../../../../disks/extras13/index.js":()=>F(()=>import("./index.e2d7497f.js").then(l=>l.i),["./index.e2d7497f.js","./entry.d9fe636d.js","./math.7c035145.js","./async.412e6e09.js","./viewport.f4a0cff0.js"],import.meta.url),"../../../../disks/workbench13/index.js":()=>F(()=>import("./index.bf1695fc.js"),["./index.bf1695fc.js","./entry.d9fe636d.js","./Console.33f550c7.js","./InputText.8d59c03a.js","./async.412e6e09.js","./InputText.240a2914.css","./Console.e4c34715.css"],import.meta.url)}),`../../../../disks/${r}/index.js`).then(l=>l.default),o=await e.addFloppyDisk(a({core:t}));i.message(`Mount Disk <b>${o.name}</b> <b>(${o.id})</b> successful!`),s()}},{name:["changeDirectory","cd"],description:"cd %path%",args:[new y({index:0,name:"path",description:"Directory path"})],async action({path:r}){if(!r)throw B.get("bad_args");try{await e.changeDirectory(r)}catch{throw B.get("cant_find",r)}}},{name:["exist"],description:"Check if file exists.",args:[new y({index:0,name:"path",description:"Filename"})],async action({path:r},i){if(!r)throw B.get("bad_args");const s=Ce(r),a=await e.exist(r);return a?i.message(`File ${s} exists`):i.message(`File ${s} does not exist`),a}},{name:["makedir","mkdir"],args:[new y({index:0,name:"path",description:"Filename"}),new y({index:1,name:"name",description:"Name"}),new y({name:"ignore",flag:!0,description:"Ignore file exist."})],async action({path:r,name:i,ignore:s},a){if(!r)throw B.get("bad_args");const o=await e.makedir(r,i||Ce(r),{ignore:s});return a.message(`Directory "${o.name}" created`),o}},{name:["remove","rm"],args:[new y({index:0,name:"path",description:"Filename"}),new y({name:["recursive","r"],flag:!0,description:"Remove Directory Items and Directories."}),new y({name:["ignore"],flag:!0,description:"Ignore the specified file is deleted."})],async action({path:r,recursive:i,ignore:s},a){if(!r)throw B.get("bad_args");const o=await e.remove(r,i,{ignore:s});return[].concat(o).map(l=>{const c=l.type===Ft.NAME?"Directory":"File";return a.message(`Removed ${c}: ${l.name}`),l})}},{name:["readfile","getfile"],description:"Get file content",args:[new y({index:0,name:"path",description:"Filename"})],async action({path:r},i){if(!r)throw B.get("bad_args");return(await e.get(r)).data}},{name:["makefile","mkfile"],description:"Creates a file with the specified attributes.",args:[new y({index:0,name:"path",description:"Filename"}),new y({index:1,name:"name",description:"Name"}),new y({index:3,name:"data",description:"Data"}),new y({name:"override",flag:!0,description:"Deletes existing file and recreates."})],async action({path:r,name:i,data:s,override:a=!1,encode:o},l){if(!r)throw B.get("bad_args");typeof s=="string"&&(s=await Ps(s));const c=await e.makefile(r,i,s,{override:a});return l.message(`File "${c.name}" created`),c}},{name:["editfile"],description:"Edits file with specified attributes.",args:[new y({index:0,name:"path",description:"Filename"}),new y({index:1,name:"data",description:"Data"})],async action({path:r,data:i},s){if(!r)throw B.get("bad_args");typeof i=="string"&&(i=await Ps(i));const a=await e.editfile(r,i);return s.message(`File "${a.name}" edited`),a}},{name:["editfilemeta"],description:"Edits file with specified attributes.",args:[new y({index:0,name:"path",description:"Filename"}),new y({index:1,name:"name",description:"Name"}),new y({index:2,name:"value",description:"Value"})],async action({path:r,name:i,value:s},a){if(!r)throw B.get("bad_args");const o=await e.editfileMeta(r,i,s);return a.message(`File  "${o.name}" Meta edited`),o}},{name:["makelink","mklink"],description:"Creates a link to the specified path.",args:[new y({index:0,name:"ref",description:"Reference path with id (example.ext)."}),new y({index:1,name:"name",description:"Displayed Name"}),new y({index:2,name:"dest",description:"Destination directory."})],async action({ref:r,name:i,dest:s},a){if(!r)throw B.get("bad_args");s=s||".";const o=await e.get(r),l=await e.makelink(o,i);return await e.get(s)!==e.currentItem&&await e.move(l,s,{ignore:!0}),a.message(`Created link "${i}" with "${await o.getPath()}"`),l}},{name:["editlink"],description:"",args:[new y({index:0,name:"path",description:"Reference filepath with id (example.ext)."}),new y({index:1,name:"ref",description:"Destination directory."})],async action({path:r,ref:i},s){if(!(r&&i))throw B.get("bad_args");const a=await e.get(i),o=await e.editlink(r,a);return s.message(`Edited link "${name}" with "${await a.getPath()}"`),o}},{name:"rename",description:"Renamed a file",args:[new y({index:0,name:"path",description:"Filepath with id (example.ext)."}),new y({index:1,name:"value",description:"Value for id or displayed name."}),new y({name:["name","n"],flag:!0,description:"When set, changes the display name."}),new y({name:["removeName","rn"],flag:!0,description:"When set, removes the display name."})],async action({path:r,value:i,name:s,removeName:a},o){if(!a&&(!r||!i))throw B.get("bad_args");const l=await e.get(r),c=s?l.name:l.id;return await e.rename(r,i,{name:s,removeName:a}),o.message(`Renamed from "${c}" to "${i}"`),l}},{name:["cp","copy"],args:[new y({index:0,name:"from",description:"Source Filepath with id (example.ext)."}),new y({index:1,name:"dest",description:"Destination Filepath with id (example.ext)."}),new y({name:["ignore","i"],flag:!0,description:"When sets, creates a new file if exists."})],async action({from:r,dest:i,ignore:s},a){let o=i;if(!o&&s&&(o=r),!o||!r)throw B.get("bad_args");const l=await e.copy(r,o,{ignore:s});return a.message(`Copied from "${r}" to "${o}"`),l}},{name:["mv","move"],description:"move %from% %to%",args:[new y({index:0,name:"from",description:"From path"}),new y({index:1,name:"to",description:"To path"}),new y({index:2,name:"item-position",description:"Sets the position in the Icon view. (x,y)"})],async action({from:r,to:i,itemPosition:s},a){if(!i||!r)throw B.get("bad_args");const o=new Map;s&&o.set("itemPosition",[0,0].map((d,m)=>{const h=s.split(",");return parseInt(h[Number(m)]||0)}));const l=await e.move(r,i,{meta:o});let c;return l instanceof Ft?c="Directory":c="File",a.message(`${c} moved ${l.name}`),l}},{name:["executeFile"],description:"Execute file.",args:[new y({index:0,name:"path",description:"Path to the file"})],async action({path:r},i){if(!r)throw B.get("bad_args");const s=await e.get(r);if(typeof s.action=="function")return s.action(t);throw B.get("cant_find_action",r)}}]};B.add("cant_find_action","Can't find action %1");var di,mo;const rp=new(mo=class{constructor(){p(this,di,void 0)}get(){return u(this,di)||g(this,di,(()=>this.getImports())())}getImports(){return Promise.all([F(()=>import("./index.esm.bd535a7d.js"),["./index.esm.bd535a7d.js","./index.esm2017.9abfd54e.js","./entry.d9fe636d.js"],import.meta.url),F(()=>import("./index.esm.95a6a577.js"),["./index.esm.95a6a577.js","./index.esm2017.9abfd54e.js","./entry.d9fe636d.js"],import.meta.url),F(()=>import("./index.esm.50e9de6f.js"),["./index.esm.50e9de6f.js","./entry.d9fe636d.js","./index.esm2017.9abfd54e.js"],import.meta.url)]).then(([e,t,r])=>({app:e.default||e,auth:t.default||t,database:r.default||r}))}},di=new WeakMap,mo),xs=new Map;var xe,ee,hi;class ip{constructor(){p(this,xe,void 0);p(this,ee,void 0);p(this,hi,void 0)}get name(){return u(this,ee).name}async connect(e,{apiKey:t,url:r}){if(g(this,xe,await rp.get()),g(this,hi,u(this,xe).app),u(this,ee))xs.has(e)&&g(this,ee,xs.get(e));else{const i=u(this,xe).app.initializeApp({apiKey:t,databaseURL:r},e);xs.set(i.name,i),g(this,ee,i)}return u(this,ee)}async disconnect(){if(!u(this,ee))throw B.get("FirebaseWrapper_noApp");nr(this),await this.logout(),await u(this,xe).app.deleteApp(u(this,ee)),g(this,ee,null)}get app(){return u(this,ee)}get firebase(){return u(this,hi)}get locked(){return!!u(this,ee)&&!this.isLogged()}get currentUser(){const{getAuth:e}=u(this,xe).auth;return e(u(this,ee)).currentUser}isLogged(){return!!u(this,ee)&&!!this.currentUser}login(e,t){const{getAuth:r,signInWithEmailAndPassword:i}=u(this,xe).auth,s=r(u(this,ee));return nr(this),i(s,e,t)}logout(){if(u(this,ee)){const{getAuth:e,signOut:t}=u(this,xe).auth,r=e(u(this,ee));return t(r)}else throw B.get("FirebaseWrapper_notConnected")}remove(e){nr(this);const{remove:t,ref:r,getDatabase:i}=u(this,xe).database,s=i(u(this,ee)),a=r(s,e);return t(a)}get(e){nr(this);const{ref:t,onValue:r,getDatabase:i}=u(this,xe).database,s=i(u(this,ee)),a=t(s,e);return new Promise(o=>{r(a,l=>o(l.val()))})}async set(e,t){nr(this);const{ref:r,set:i,getDatabase:s}=u(this,xe).database,a=s(u(this,ee)),o=r(a,e);return await i(o,t),t}}xe=new WeakMap,ee=new WeakMap,hi=new WeakMap;function nr(n){if(!n.app)throw B.get("FirebaseWrapper_notConnected")}B.add([["FirebaseWrapper_notConnected",["Not connected","Not connected"]],["FirebaseWrapper_noApp",["No app available","No app available"]],["FirebaseWrapper_hasApp",["App already available",'App "%1" already available']]]);class sp extends il{constructor(e){e=Object.assign({storage:new ip},e),super(e)}mount(e){return e.onDisconnect=()=>{this.unmount()},this.storage.connect(e.id,e).then(()=>this)}unmount(){return this.storage.disconnect().then(()=>this)}async load(){try{let e=await this.storage.get(this.name);return!e&&(e={},!this.storage.locked)?this.storage.set(this.name,e).then(t=>t):(this.data=e,e)}catch(e){throw new Error(e)}}save(e){return e=wl(e),this.data=e||this.data,this.storage.set(this.name,e).then((t,r)=>this.data)}get locked(){return this.storage.locked}}function wl(n){return Object.keys(n).reduce((e,t)=>{const r=e[String(t)];return r&&typeof r=="object"&&wl(r),(r==null||r==="")&&delete e[String(t)],e},n)}const rr=new Map,ap=({module:n,core:e})=>{const{fileSystem:t}=n;return[{name:"cloudList",args:[new y({name:"json",flag:!0,description:"Get JSON Export"})],action({json:r},i){const s=Array.from(rr.values());if(r)return Promise.resolve(s);{const a=new Jt;return a.addColumn({value:"Storage (Id)",align:"left",minWidth:15}),a.addColumn({value:"Name",align:"left",minWidth:15}),a.addColumn({value:"Logged In",align:"center",minWidth:9}),a.addRow(s.reduce((o,l)=>(o.push([l.id,l.name,l.storage.storage.isLogged()?"yes":"no"]),o),[])),i.message([a]),Promise.resolve()}}},{name:"cloudMount",args:[new y({index:0,name:"id",flag:!0,description:"Id from Storage."}),new y({index:1,name:"apiKey",description:"Firebase Api-Key."}),new y({index:2,name:"url",description:"Firebase Database-Url."})],async action({id:r,apiKey:i,url:s},a){if(!i||!s)throw B.get("bad_args");const o=e.addExecution(),l=await t.connect(sp,{id:r,apiKey:i,url:s});return rr.set(l.id,l),a.message(`Mount <b>${l.name}</b> <b>(${l.id})</b> successful!`),o(),l}},{name:"cloudUnmount",args:[new y({index:0,name:"id",flag:!0,description:"Id from Storage."})],async action({id:r},i){if(!r)throw B.get("bad_args");const s=e.addExecution();try{const a=rr.get(r);await t.disconnect(a),rr.delete(a.id),i.message(`Unmount "${a.name}" successful!`),s()}catch(a){throw s(),new Error(a)}}},{name:"cloudAuth",args:[new y({name:"login",flag:!0,description:"Storage Login"}),new y({name:"logout",flag:!0,description:"Logout from Storage."}),new y({name:"email",description:"Email for Login."}),new y({name:"password",description:"Password for Login."}),new y({name:"storage",description:"Specifies which drive is logged on."})],async action({email:r,password:i,storage:s,login:a,logout:o},l){const c=s;if(!c)throw B.get("bad_args");const d=e.addExecution(),m=rr.get(c);let h;if(m)try{if(a){if(!r||!i)throw B.get("bad_args");h=await m.storage.storage.login(r,i),l.message(`Login with ${m.id} (${m.id}) successful!`)}else o&&(h=await m.storage.storage.logout(),l.message(`Logout from ${m.id} (${m.id}) successful!`))}catch(f){switch(d(),f.code){case"auth/user-not-found":case"auth/wrong-password":return f}throw new Error(f)}else throw new Error(`${c} is not mounted.`);return d(),h}}]},oo=new Ke("web_workbench_FS");class _l extends cs{constructor({core:e}){super({commands:(...t)=>[...Bf(...t),...np(...t),...ap(...t)],contextMenu:ep,core:e})}get fileSystem(){return oo}get fs(){return oo}}b(_l,"NAME","Files");var ns;class op{constructor(e){b(this,"defaultItems",new jn);b(this,"activeItems");p(this,ns,null);g(this,ns,e),this.activeItems=this.defaultItems}addDefaultItems(e){this.defaultItems.add(e)}getActiveItems(){return this.activeItems}setActiveItems(e){return this.activeItems=e||this.defaultItems}}ns=new WeakMap;const lp={components:{AtomMarkdown:gl},mixins:[ht],data(){return{content:`# Web-Workbench 1.3
<nobr>Created by Thorn-Welf Walli</nobr><br>Email: lammpee@gmail.com<br>Homepage: [lammpee.de](https://lammpee.de)<br><br>Version: ${this.core.version}`}}},up={class:"wb-module-core-info"};function cp(n,e,t,r,i,s){const a=C("atom-markdown");return _(),O("div",up,[W(a,{content:i.content},null,8,["content"])])}const dp=j(lp,[["render",cp],["__scopeId","data-v-ddadee6e"]]),hp=({core:n})=>{const{windows:e}=n.modules;return[{order:0,title:"Web-Workbench",items:[{title:"Settings",action(){return n.executeCommand("openSettings")}},{separator:!0},{hotKey:"I",keyCode:73,title:"Info",action(){e.addWindow({title:"Info",component:dp,componentData:{},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}})}},{separator:!0},{title:"Imprint",action(){return n.executeCommand('execute "Imprint.md"')}},{title:"Disclaimer",action(){return n.executeCommand('execute "Disclaimer.md"')}}]}]},ir={CENTER:0,ORDER_HORIZONTAL:1,ORDER_VERTICAL:2,ORDER_DIAGONAL_LEFT:3,ORDER_DIAGONAL_RIGHT:4,SPLIT_HORIZONTAL:5,SPLIT_VERTICAL:6},Yi={SHOW_STORAGE_SPACE:"windowsShowStorageSpace"},mp={[Yi.SHOW_STORAGE_SPACE]:!0},fp=({core:n})=>[{order:10,title:"Window",items:[{type:$e.CHECKBOX,title:"Show Disk Space",model:n.config.observable,name:Yi.SHOW_STORAGE_SPACE,action(e){return n.config.set(Yi.SHOW_STORAGE_SPACE,e)}},{separator:!0},{title:"Order",items:[{title:"Center",action(){n.modules.windows.contentWrapper.setWindowPositions(ir.CENTER)}},{separator:!0},{title:"Diagonal (Left to right)",action(){n.modules.windows.contentWrapper.setWindowPositions(ir.ORDER_DIAGONAL_RIGHT)}},{title:"Diagonal (Right to left)",action(){n.modules.windows.contentWrapper.setWindowPositions(ir.ORDER_DIAGONAL_LEFT)}},{separator:!0},{title:"Split (Horizontal)",action(){n.modules.windows.contentWrapper.setWindowPositions(ir.SPLIT_HORIZONTAL)}},{title:"Split (Vertical)",action(){n.modules.windows.contentWrapper.setWindowPositions(ir.SPLIT_VERTICAL)}}]}]}],pp={xmlns:"http://www.w3.org/2000/svg",width:"6",height:"10",viewBox:"0.5 50.5 6 10"},bp=v("path",{fill:"#020203",d:"M.5 50.5h6v2h-4v2h2v2h-2v4h-2z"},null,-1),gp=[bp];function wp(n,e){return _(),O("svg",pp,gp)}const _p={render:wp},yp={xmlns:"http://www.w3.org/2000/svg",width:"6",height:"10"},Dp=v("path",{d:"M0 10h6V8H2V6h2V4H2V2h4V0H0z"},null,-1),Ep=[Dp];function vp(n,e){return _(),O("svg",yp,Ep)}const xp={render:vp};const Sp={components:{SvgStorageBarFull:_p,SvgStorageBarEmpty:xp},props:{visible:{type:Boolean,default:!0},value:{type:Number,default:.8}},computed:{style(){return{"--bar-height":Math.min(this.value,1)}}}},Ip=n=>(ea("data-v-019de3c8"),n=n(),ta(),n),Fp={class:"storage-bar__icon storage-bar__icon__full"},Ap=Ip(()=>v("span",{class:"storage-bar__size"},[v("span",{class:"storage-bar__size__helper"})],-1)),kp={class:"storage-bar__icon storage-bar__icon__empty"};function Cp(n,e,t,r,i,s){const a=C("svg-storage-bar-full"),o=C("svg-storage-bar-empty");return t.visible?(_(),O("div",{key:0,class:"wb-env-atom-storage-bar",style:$n(s.style)},[v("div",null,[v("div",Fp,[W(a)]),Ap,v("div",kp,[W(o)])])],4)):z("",!0)}const Tp=j(Sp,[["render",Cp],["__scopeId","data-v-019de3c8"]]),Ie={NAME:0,TYPE:1,CREATED_DATE:2,EDITED_DATE:3},Nt={ASCENDING:0,DESCENDING:1},te={SHOW_INVISIBLE_SYMBOLS:"symbolWrapper_showInvisibleItems",ORDER_TYPE:"symbolWrapper_iconsOrderType",ORDER_DIRECTION:"symbolWrapper_iconsOrderDirection"},Op={[te.SHOW_INVISIBLE_SYMBOLS]:!1,[te.ORDER_TYPE]:Ie.NAME,[te.ORDER_DIRECTION]:Nt.ASCENDING};class lo{constructor({fsItem:e=null,command:t,model:r,layout:i}){b(this,"type",null);b(this,"id",Hn());b(this,"layout",Le({position:I(0,0),size:I(0,0)}));b(this,"ignoreRearrange",!1);b(this,"model",Le({title:"Item Title",symbol:D.DEFAULT,used:!1,visible:!0}));if(this.command=t,this.model=Object.assign(this.model,r),this.layout=Object.assign(this.layout,i),this.fsItem=e,this.fsItem){const s=this.fsItem;this.type=Rp(s),this.setProperties(s),this.fsItem.events.subscribe(({name:a,value:o})=>{a!=="addItem"&&a!=="removeItem"&&this.setProperties(e)})}}setProperties(e){if(this.model.title=e.name,this.layout.position=I(e.meta.get(A.POSITION)||I(0,0)),this.model.visible=!!e.meta.get(A.VISIBLE),this.model.symbol=e.meta.get(A.SYMBOL),this.model.url=e.meta.get(A.WEB_URL),this.model.ignoreRearrange=e.meta.get(A.IGNORE_SYMBOL_REARRANGE),e instanceof Y){const t=[`openDirectory "${e.getPath()}"`];e.meta.get(A.WINDOW_SYMBOL_REARRANGE)&&t.push("-sort-symbols");const r=I(e.meta.get(A.WINDOW_POSITION)||I(0,0));r.length>0&&t.push(`--window-position="${I(r).toArray().join(",")}"`);const i=I(e.meta.get(A.WINDOW_SIZE)||I(0,0));i.length>0&&t.push(`--window-size="${I(i).toArray().join(",")}"`),e.meta.has(A.WINDOW_SCALE)&&t.push(`--window-scale=${e.meta.get(A.WINDOW_SCALE)}`),e.meta.has(A.WINDOW_SCROLL_X)&&t.push(`--window-scroll-x=${e.meta.get(A.WINDOW_SCROLL_X)}`),e.meta.has(A.WINDOW_SCROLL_Y)&&t.push(`--window-scroll-y=${e.meta.get(A.WINDOW_SCROLL_Y)}`),e.meta.has(A.WINDOW_FULL_SIZE)&&t.push(`--window-full-size=${e.meta.get(A.WINDOW_FULL_SIZE)}`),this.command=t.join(" ")}else this.model.url||(this.command=`execute "${e.getPath()}"`)}}function uo(n){return n.map(e=>e instanceof lo?e:new lo(e))}function Rp(n){return n instanceof Y?"container":n.meta.get(A.WEB_URL)?"link":"default"}var Et,rs,vt,mi;class en{constructor(e,t=[],r=!1){p(this,Et,new Pe);p(this,rs,Hn());p(this,vt,void 0);b(this,"items",Wi([]));b(this,"selectedItems",Wi([]));p(this,mi,!1);b(this,"layout",Le({size:I(0,0),position:I(0,0)}));b(this,"size",I(0,0));b(this,"parentSize",I(0,0));g(this,mi,r||!1),g(this,vt,e),this.items.value=uo(t||[])}get(e){return this.items.value.find(t=>t.id===e)}has(e){return!!this.items.value.find(t=>t.id===e)}add(...e){const t=uo(e);this.items.value.push(...t.map($)),u(this,Et).next(new G("add",{wrapper:this,items:t}))}remove(e){typeof e!="object"&&(e=this.get(e)),this.unselectItem(e.id),this.items.value.splice(this.items.value.indexOf(e),1),u(this,Et).next(new G("remove",{wrapper:this,item:e}))}setup(){return Promise.resolve()}moveItem(e,t){const r=this.get(e);return t.add(r),this.remove(r),Promise.resolve()}moveItemToItem(){return Promise.resolve()}savePosition(e,t){return Promise.resolve()}isSelectedItem(e){return this.selectedItems.value.includes(e)}selectItem(e){this.isSelectedItem(e)||(this.selectedItems.value.push(e),u(this,Et).next(new G("selectItem",{wrapper:this,id:e})))}unselectItem(e){this.isSelectedItem(e)&&(this.selectedItems.value=this.selectedItems.value.filter(t=>t!==e),u(this,Et).next(new G("unselectItem",{wrapper:this,id:e})))}clearSelectedItems(){[].concat(this.selectedItems.value).forEach(e=>this.unselectItem(e))}get root(){return u(this,mi)}get events(){return u(this,Et)}get id(){return u(this,rs)}get core(){return u(this,vt)}rearrangeIcons(e){e=Object.assign({orderType:u(this,vt).config.get(te.ORDER_TYPE),orderDirection:u(this,vt).config.get(te.ORDER_DIRECTION),onlyVisible:!u(this,vt).config.get(te.SHOW_INVISIBLE_SYMBOLS),root:!1,margin:10},e);let t=this.items.value;switch(e.root&&(e.orderType=Ie.NAME,e.orderDirection=Nt.DESCENDING),e.onlyVisible&&(t=t.filter(o=>o.model.visible)),t=t.filter(o=>!o.model.ignoreRearrange),e.orderType){case Ie.TYPE:t=t.sort((o,l)=>o.type.localeCompare(l.type));break;case Ie.CREATED_DATE:t=t.sort((o,l)=>o.createDate===l.createDate?0:o.createDate>l.createDate?1:-1);break;case Ie.EDITED_DATE:t=t.sort((o,l)=>o.editedDate===l.editedDate?0:o.editedDate>l.editedDate?1:-1);break;default:t=t.sort((o,l)=>o.model.title.localeCompare(o.model.title))}switch(e.orderDirection){case Nt.ASCENDING:t.reverse();break}const r=e.margin;let i,s=r;const a=To(0,0);return e.root?i=this.size.x:i=r,t.forEach(o=>{e.root?(o.layout.position=I(i-o.layout.size.x,s),o.layout.size.x>a.x&&(a.x=o.layout.size.x),s+o.layout.size.y<this.parentSize.y?s+=o.layout.size.y+r:(i-=a.x+r,s=r)):(o.layout.size.y>a.y&&(a.y=o.layout.size.y),o.layout.position=I(i,s),i+o.layout.size.x<this.parentSize.x||(i=r,s+=a.y+r,o.layout.position=I(i,s)),i+=o.layout.size.x+r)}),Promise.all(t.map(({id:o,layout:l})=>this.savePosition(o,l.position)))}}Et=new WeakMap,rs=new WeakMap,vt=new WeakMap,mi=new WeakMap;var qt;const br=class extends en{constructor(){super(...arguments);p(this,qt,void 0);b(this,"usedMemory",0)}async setup(t){g(this,qt,t);const r=Array.from((await t.getItems()).values());await Promise.all(r.map(async i=>this.add(await br.fsItemToSymbol(i)))),t.events.subscribe(this.onEventItem.bind(this))}get fsItem(){return u(this,qt)}async moveItemToItem(t,r){if(t.locked)throw new Error("Items are locked!");if(r.locked)throw new Error("Destination is locked!");t.meta.set(A.POSITION,I(0,0)),await this.core.modules.files.fs.saveItem(t),await this.core.modules.files.fs.move(t,r,{override:!0})}async moveItem(t,r){const i=this.get(t);if(i.fsItem instanceof yi||i.fsItem instanceof Ft)try{return await this.moveItemToItem(i.fsItem,r.fsItem),!0}catch(s){return console.warn(s),!1}return Promise.resolve(!1)}savePosition(t,r){const i=this.get(t);i.fsItem.meta.set(A.POSITION,r),this.core.modules.files.fs.saveItem(i.fsItem)}hasFsItem(t){return this.items.value.find(r=>r.fsItem.id===t.id)}async onEventItem({name:t,value:r}){let i;switch(t){case"addItem":i=await br.fsItemToSymbol(r),this.hasFsItem(r)||this.add(i);break;case"removeItem":this.remove(this.items.value.find(s=>s.fsItem===r));break}this.usedMemory=u(this,qt).size/u(this,qt).maxSize}static getItemsFromItem(t){return Promise.all(Array.from(t.items.values()).map(br.fsItemToSymbol))}static async fsItemToSymbol(t){const r=await t.getPath(),i={fsItem:t,model:{title:t.name}};return typeof t.action=="function"&&(i.command=`executeFile "${r}"`),t.meta.has(A.WEB_URL)&&(i.url=t.meta.get(A.WEB_URL)),i}};let Qs=br;qt=new WeakMap;const Wp={xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",class:"wb_symbol_disk_1"},Bp=v("path",{d:"M0 0h25v2h2v2h2v2h2v24H0z",class:"svg__secondary"},null,-1),Np=v("path",{fill:"#FFF",d:"M2 2v26h27V6h-2V4h-2V2",class:"svg__primary"},null,-1),Lp=v("path",{fill:"#FA5",d:"M7 2h13v10H7z",class:"svg__tertiary"},null,-1),Pp=v("path",{d:"M11 2h5v8h-5z",class:"svg__secondary"},null,-1),Mp=[Bp,Np,Lp,Pp];function yl(n,e){return _(),O("svg",Wp,Mp)}const Dl={render:yl},$p=Object.freeze(Object.defineProperty({__proto__:null,default:Dl,render:yl},Symbol.toStringTag,{value:"Module"}));const zp={props:{parentLayout:{type:Object,default(){return null}},clampGlobal:{type:Boolean,default:!1},container:{type:Boolean,default(){return!1}},command:{type:String,default:null},id:{type:String,default:null},model:{type:Object,default(){return{title:"Item Title",url:null,symbol:Dl,used:!1,visible:!0}}},layout:{type:Object,default(){return{position:I(0,0),size:I(50,50)}}},scrollOffset:{type:Object,default(){return I(0,0)}},wrapper:{type:Object,default(){return $(new en)}}},emits:["click"],setup(n){return{wrapperItems:n.wrapper.items,wrapperSelectedItems:n.wrapper.selectedItems}},data(){return{globalPosition:null,moving:!1,positions:{start:null,move:null},subscriptions:[],parentEl:null,screenModul:pn.modules.screen}},computed:{linkTag(){return this.model.url?"a":"span"},linkBind(){return this.model.url?{href:this.model.url,target:this.model.url?"_blank":null,title:this.model.title}:{}},contentLayout(){return this.screenModul.contentLayout},selected(){return this.wrapperSelectedItems.includes(this.id)},styleClasses(){return{"js--moving":this.moving,"js--selected":this.selected,"js--symbol-used":this.model.used}},symbolsModule(){return pn.modules.symbols}},watch:{model:{deep:!0,handler(){this.onRefresh()}}},mounted(){this.parentEl=this.$el.parentElement,this.onRefresh()},unmounted(){this.subscriptions.forEach(n=>n.unsubscribe()),this.wrapper.unselectItem(this.id)},methods:{onRefresh(){this.layout.size=I(200,200),this.$nextTick(()=>{this.layout.size=I(this.$el.children[0].offsetWidth,this.$el.children[0].offsetHeight)})},getRootBounds(){const{width:n,height:e,left:t,top:r}=this.parentEl.getBoundingClientRect();return{position:I(t,r),size:I(n,e)}},onPointerDown(n){Ci(n);const e=this.id;if(!(this.model.url&&this.selected)&&(n.preventDefault(),!this.model.used)){if(console.log(this.command,this.selected),this.command&&this.selected){const t={showCommand:!1,show:!0};return this.wrapper.unselectItem(e),this.model.used=!0,pn.executeCommand(this.command,t).then(()=>this.model.used=!1)}_s.shiftActive?this.wrapper.isSelectedItem(e)?this.wrapper.unselectItem(e):this.wrapper.selectItem(e):(this.symbolsModule.getSelectedItems().length>0&&this.symbolsModule.clearSelectedItems(),this.wrapper.selectItem(e)),this.startMove(I(n)),this.$emit("click",this)}},onPointerUp(){const n=this.symbolsModule.getSelectedItems().filter(t=>t.id!==this.id),e=this.wrapper.get(this.id);n.length>0&&e.fsItem instanceof Y&&n.forEach(t=>this.wrapper.moveItemToItem(t.fsItem,e.fsItem))},startMove(n){const e=this.getRootBounds();this.positions.lastPosition=I(this.layout.position),this.positions.scrollOffset=I(this.scrollOffset),this.positions.start=n,this.positions.offset=I(()=>this.positions.start-this.layout.position),this.setPosition(n,e,!0),this.moving=!0;let t=n;const r=_s.pointerMove.subscribe(i=>{t=I(i),this.setPosition(I(i),e,!0)});this.subscriptions.push(_s.pointerUp.pipe(gu()).subscribe(i=>{if(r.unsubscribe(),this.symbolsModule.getSecondaryWrapper().id!==this.wrapper.id)return this.wrapper.moveItem(this.id,this.symbolsModule.getSecondaryWrapper()).then(s=>(s||(this.layout.position=I(this.positions.lastPosition)),this.globalPosition=null,this.moving=!1,s));if(this.moving=!1,this.setPosition(t,e),!this.layout.position.equals(Se(()=>this.positions.start-this.positions.offset)))return this.wrapper.savePosition(this.id,this.layout.position)}))},setPosition(n,e,t=!1){const r={min:I(0,0),max:Se(()=>e.size-this.layout.size)};this.positions.move=Se(()=>n-this.positions.start);let i=Se(()=>Math.round(this.positions.start+this.positions.move-this.positions.offset));t?(r.min=e.position,r.max=Se(()=>r.max+this.contentLayout.position),i=Se(()=>Math.round(i+r.min)),this.clampGlobal?this.globalPosition=I(()=>Math.max(Math.min(i,this.contentLayout.position+this.wrapper.size-this.layout.size),r.min)):this.globalPosition=i):(this.wrapper.root?this.layout.position=Se(()=>Math.max(Math.min(i,this.wrapper.size-this.layout.size),0)):this.layout.position=Se(()=>Math.max(i,0)),this.globalPosition=null)}}},Vp=["data-id"],Up=["textContent"];function jp(n,e,t,r,i,s){return _(),O("figure",{"data-id":t.id,class:ct(["wb-env-atom-symbol-wrapper-item",s.styleClasses]),style:$n([t.layout.size.toCSSVars("item-size"),(i.globalPosition||t.layout.position).toCSSVars("item-position")]),"touch-action":"none",onPointerdown:e[0]||(e[0]=(...a)=>s.onPointerDown&&s.onPointerDown(...a)),onPointerup:e[1]||(e[1]=(...a)=>s.onPointerUp&&s.onPointerUp(...a))},[(_(),U(Fs(s.linkTag),dr(bo(s.linkBind)),{default:X(()=>[v("i",null,[(_(),U(Fs(s.symbolsModule.symbols.get(t.model.symbol))))]),v("figcaption",{textContent:Fe(t.model.title)},null,8,Up)]),_:1},16))],46,Vp)}const Gp=j(zp,[["render",jp],["__scopeId","data-v-1d601f34"]]);const Hp={components:{WbEnvAtomSymbolWrapperItem:Gp},props:{parentLayout:{type:Object,default(){return{size:I(window.innerWidth,window.innerHeight)}}},parentScrollAble:{type:Boolean,default:!0},parentFocused:{type:Boolean,default:!1},clampSymbols:{type:Boolean,default:!1},wrapper:{type:en,default(){return $(new en(pn,[{layout:{position:I(100,0)},model:{title:"Item 1",symbol:D.DIRECTORY}},{layout:{position:I(0,0)},model:{title:"Item 2",symbol:D.DEFAULT}},{layout:{position:I(0,0)},model:{title:"Item 3",symbol:D.DEFAULT}}]))}}},emits:["ready","refresh"],setup(n){return{wrapperItems:n.wrapper.items,wrapperSelectedItems:n.wrapper.selectedItems}},data(){const n=pn;return{core:$(n),webWorkbenchConfig:$(n.config.observable),symbolsModule:$(n.modules.symbols),selectedItems:[],layout:{size:I(0,0),position:I(0,0)}}},computed:{styleClasses(){return{"js--active":(this.core.modules.symbols.primaryWrapper||{}).id===this.wrapper.id}},scrollOffset(){return this.parentLayout&&"scrollOffset"in this.parentLayout?this.parentLayout.scrollOffset:I(0,0)},style(){const n=[this.scrollOffset.toCSSVars("symbol-wrapper-scroll-offset")];return this.parentScrollAble&&n.push(this.size.toCSSVars("symbol-wrapper-size")),n},size(){return this.visibleItems.map(n=>({item:n,index:this.wrapperSelectedItems.indexOf(n.id)+1})).sort((n,e)=>n.index>e.index?1:n.index<e.index?-1:0).reduce((n,{item:e})=>{const t=e.layout.position.x+e.layout.size.x,r=e.layout.position.y+e.layout.size.y;return n.x=n.x<t?t:n.x,n.y=n.y<r?r:n.y,n},To(0,0))},showInvisibleItems(){return this.webWorkbenchConfig[te.SHOW_INVISIBLE_SYMBOLS]},visibleItems(){return this.wrapperItems.filter(this.isItemVisible)},parentLayoutSize(){return(this.parentLayout||{}).size}},watch:{parentFocused(n){this.setFocused(n)},wrapper(){this.onResize()},parentLayoutSize(n){this.onResize()},size(){this.$nextTick(()=>{this.$emit("refresh",{scroll:!0})})}},mounted(){this.onResize(),this.$nextTick(()=>{this.setFocused(this.parentFocused),this.$emit("ready")})},unmounted(){this.core.modules.symbols.getPrimaryWrapper()&&this.core.modules.symbols.getPrimaryWrapper().id===this.wrapper.id&&this.core.modules.symbols.setPrimaryWrapper(null),this.core.modules.symbols.getSecondaryWrapper()&&this.core.modules.symbols.getSecondaryWrapper().id===this.wrapper.id&&this.core.modules.symbols.setSecondaryWrapper(null)},methods:{setFocused(n){n?this.symbolsModule.setPrimaryWrapper(this.wrapper):this.symbolsModule.getPrimaryWrapper()&&this.symbolsModule.getPrimaryWrapper().id===this.wrapper.id&&this.symbolsModule.setPrimaryWrapper(null)},onResize(){const{width:n,height:e,left:t,top:r}=this.$el.getBoundingClientRect();this.wrapper.layout=this.layout={position:I(t,r),size:I(n,e)},this.wrapper.size=I(this.$el.offsetWidth,this.$el.offsetHeight),this.wrapper.parentSize=this.parentLayout.size},isItemVisible(n){return this.showInvisibleItems||!this.showInvisibleItems&&n.model.visible},onPointerMove(){this.core.modules.symbols.setSecondaryWrapper(this.wrapper)},onPointerDown(n){(n.target===this.$refs.helper||n.target===this.$refs.items)&&this.wrapper.clearSelectedItems()}}},Yp={ref:"helper",class:"symbol-wrapper__helper"},Xp={ref:"items",class:"symbol-wrapper__items"};function Kp(n,e,t,r,i,s){const a=C("wb-env-atom-symbol-wrapper-item");return _(),O("div",{class:ct(["wb-env-symbol-wrapper",s.styleClasses]),style:$n(s.style),onPointerdown:e[0]||(e[0]=(...o)=>s.onPointerDown&&s.onPointerDown(...o)),onPointermove:e[1]||(e[1]=(...o)=>s.onPointerMove&&s.onPointerMove(...o))},[v("div",Yp,null,512),v("div",Xp,[(_(!0),O(St,null,It(s.visibleItems,(o,l)=>(_(),U(a,V({key:l,"clamp-global":t.clampSymbols},o,{wrapper:t.wrapper,"parent-layout":i.layout,"scroll-offset":s.scrollOffset}),null,16,["clamp-global","wrapper","parent-layout","scroll-offset"]))),128))],512)],38)}const qp=j(Hp,[["render",Kp],["__scopeId","data-v-c61836b6"]]);const Zp={components:{WbButton:Ct,WbFormFieldTextbox:Di,WbButtonWrapper:Tt},props:{message:{type:String,default(){return"Dialog Message"}},confirm:{type:Boolean,default:!1},prompt:{type:Boolean,default:!1},password:{type:Boolean,default:!1},apply:{type:Function,default(){return null}},abort:{type:Function,default(){return null}},applyLabel:{type:String,default(){return"Continue"}},abortLabel:{type:String,default(){return"Cancel"}},yesLabel:{type:String,default(){return"Yes"}},noLabel:{type:String,default(){return"No"}}},data(){return{inputModel:{value:""}}},computed:{formattedMessage(){return this.message.replace(/\\n|\n/g,"<br>")}},methods:{onClickApply(){const n=this.inputModel.value||!0;typeof this.apply=="function"?this.apply(n):this.$emit("apply",n)},onClickAbort(){typeof this.abort=="function"?this.abort():this.$emit("abort")}}},Qp={class:"wb-env-molecule-dialog-content"},Jp=["innerHTML"],eb={key:1,class:"dialog-content__input"};function tb(n,e,t,r,i,s){const a=C("wb-form-field-textbox"),o=C("wb-button"),l=C("wb-button-wrapper");return _(),O("div",Qp,[v("div",null,[t.message?(_(),O("p",{key:0,innerHTML:s.formattedMessage},null,8,Jp)):z("",!0),t.prompt?(_(),O("div",eb,[W(a,{ref:"dialogInput",model:i.inputModel,placeholder:null,type:t.password?"password":"text",label:null},null,8,["model","type"])])):z("",!0),W(l,{align:t.abortLabel?"outer":"center",class:"dialog-content__buttons"},{default:X(()=>[t.applyLabel||t.confirm&&t.yesLabel?(_(),U(o,{key:0,"style-type":"dialog",label:t.confirm?t.yesLabel:t.applyLabel,onClick:s.onClickApply},null,8,["label","onClick"])):z("",!0),t.abortLabel||t.confirm&&t.noLabel?(_(),U(o,{key:1,"style-type":"dialog",label:t.confirm?t.noLabel:t.abortLabel,onClick:s.onClickAbort},null,8,["label","onClick"])):z("",!0)]),_:1},8,["align"])])])}const El=j(Zp,[["render",tb],["__scopeId","data-v-f3652949"]]),Sb=Object.freeze(Object.defineProperty({__proto__:null,default:El},Symbol.toStringTag,{value:"Module"})),nb=({module:n,core:e})=>{const{files:t,windows:r,symbols:i}=e.modules,s=t.fs;return[{name:["openDirectory","openDir"],description:"Opens the specified directory.",args:[new y({index:0,name:"path",description:"Path to the directory."}),new y({name:"sortSymbols",description:"Sort Symbols",flag:!0}),new y({name:"windowSize",description:"Window Size"}),new y({name:"windowPosition",description:"Window Position"}),new y({name:"windowScale",description:"Window Scale"}),new y({name:"windowScrollX",description:"Window Scroll-X"}),new y({name:"windowScrollY",description:"Window Scroll-Y"}),new y({name:"windowFullSize",description:"Window Full-Size"})],async action({path:a,sortSymbols:o,windowSize:l,windowPosition:c,windowScale:d,windowScrollX:m,windowScrollY:h,windowFullSize:f}){if(!a)throw B.get("bad_args");const E=await s.get(a),w=await i.addFileSystemWrapper(E),k=i.symbolWrappers.get(w),R={value:E.size/E.maxSize,visible:e.config.observable[Yi.SHOW_STORAGE_SPACE]},S=r.addWindow({title:E.name,layout:{size:I(...(l||"400,200").split(",").map(H=>Number(H))),position:I(...(c||"0,0").split(",").map(H=>Number(H)))},symbolWrapper:k,sidebarComponent:Tp,sidebarComponentData:R,component:qp,componentData:{wrapper:k,parentScrollAble:m||h},options:{scale:d!==void 0?d:!0,scrollX:m!==void 0?m:!0,scrollY:h!==void 0?h:!0,center:!c}},{active:!0,full:f}),N=()=>{R.value=E.size/E.maxSize},oe=[k.events.subscribe(N)];return new Promise(H=>{S.events.subscribe(({name:Q})=>{Q==="ready"&&o?k.rearrangeIcons():Q==="close"?(oe.forEach(Rt=>Rt.unsubscribe()),i.removeWrapper(w),H()):N()})})}},{name:["openDialog"],description:"Open a Dialog.",args:[new y({index:0,name:["message"],description:"Message from Dialog."}),new y({index:1,name:["title"],description:"Title from Dialog."}),new y({name:["apply"],description:"Title from apply button."}),new y({name:["abort"],description:"Title from abort button."}),new y({name:["confirm"],flag:!0,description:"Defines the confirm dialog"}),new y({name:["prompt"],flag:!0,description:"Defines the prompt dialog"}),new y({name:["secret"],flag:!1,description:"Input is illegible."})],action:({title:a=null,message:o=null,apply:l=null,abort:c=null,confirm:d=!1,prompt:m=!1,secret:h=!1},f)=>{let E;const w=S=>{E(S)},k=()=>{E(!1)},R=n.addWindow(new Er({title:a,component:El,componentData:{title:a,message:o,secret:h,confirm:d,prompt:m,applyLabel:l||"Continue",abortLabel:c,apply:w,abort:k},options:{scale:!1,scrollX:!1,scrollY:!1,close:!1}}));return R.events.pipe(_r(({name:S})=>S==="close")).subscribe(()=>{k()}),new Promise(S=>{E=S}).then(S=>(R.close(),S))}}]};var Ln;class vl extends cs{constructor(t){const{core:r}=Object.assign({core:null},t);super({config:mp,commands:nb,core:r});p(this,Ln,new Map);b(this,"contentWrapper");b(this,"globalWrapper");b(this,"contextMenu",Le(new op(this)));this.contentWrapper=this.getWrapper(this.addWrapper(new za(r))),this.globalWrapper=this.getWrapper(this.addWrapper(new za(r)))}addWindow(t,r){return t instanceof Er||(t=new Er(t)),t.componentData&&(t.componentData.core=$(this.core)),r=Object.assign({global:!1},r),r.global?t=this.globalWrapper.add(t,r):t=this.contentWrapper.add(t,r),t}getWrapper(t){return u(this,Ln).get(t)}addWrapper(t){return u(this,Ln).set(t.id,t),t.id}removeWrapper(t){typeof t!="string"&&(t=t.id),u(this,Ln).delete(t)}isContextMenu(t){return t.id===this.getActiveContextMenu().id}setup(){this.contextMenu.addDefaultItems(new jn(hp,{core:this.core})),this.contextMenu.addDefaultItems(new jn(fp,{core:this.core}))}clear(){this.contentWrapper.clear(),this.globalWrapper.clear()}getActiveContextMenu(){return this.contextMenu.getActiveItems()}setActiveContextMenu(t){return this.contextMenu.setActiveItems(t)}}Ln=new WeakMap,b(vl,"NAME","Windows");const rb=({module:n,core:e})=>[{order:11,title:"Symbol",items:[{type:$e.CHECKBOX,title:"Show Invisible Symbols",model:e.config.observable,name:te.SHOW_INVISIBLE_SYMBOLS,action(t){return e.config.set(te.SHOW_INVISIBLE_SYMBOLS,t)}},{title:"Rearrange Symbols",hotKey:"R",keyCode:82,action(){const t=n.getDefaultWrapper(),r=n.getPrimaryWrapper();return r.id!==t.id?(r.rearrangeIcons(),we(r.fsItem)):(t.rearrangeIcons({root:!0}),we(t.fsItem))}},{title:"Order Type",items:[{model:e.config.observable,type:$e.RADIO,name:te.ORDER_TYPE,value:Ie.NAME,title:"Name",action(){return e.config.set(te.ORDER_TYPE,Ie.NAME)}},{model:e.config.observable,type:$e.RADIO,name:te.ORDER_TYPE,value:Ie.TYPE,title:"Type",action(){return e.config.set(te.ORDER_TYPE,Ie.TYPE)}},{model:e.config.observable,type:$e.RADIO,name:te.ORDER_TYPE,value:Ie.CREATED_DATE,title:"Created Date",action(){return e.config.set(te.ORDER_TYPE,Ie.CREATED_DATE)}},{model:e.config.observable,type:$e.RADIO,name:te.ORDER_TYPE,value:Ie.EDITED_DATE,title:"Edited Date",action(){return e.config.set(te.ORDER_TYPE,Ie.EDITED_DATE)}}]},{title:"Order Direction",items:[{model:e.config.observable,type:$e.RADIO,name:te.ORDER_DIRECTION,value:Nt.ASCENDING,title:"Ascending",action(){return e.config.set(te.ORDER_DIRECTION,Nt.ASCENDING)}},{model:e.config.observable,type:$e.RADIO,name:te.ORDER_DIRECTION,value:Nt.DESCENDING,title:"Descending",action(){return e.config.set(te.ORDER_DIRECTION,Nt.DESCENDING)}}]}]}],ib=({module:n,core:e})=>[{name:["rearrangeIcons"],description:"Rearrange Icons",args:[new y({name:"id",description:"Wraper id"}),new y({name:"root",description:"Use root wrapper",flag:!0})],action({id:t,root:r}){const i=n.getDefaultWrapper(),s=n.getPrimaryWrapper();if(r)return i.rearrangeIcons({root:!0}),we(i.fsItem);{let a=s;return t&&(a=n.get(t)),a.rearrangeIcons(),we(a.fsItem)}}}];const sb={[D.DEFAULT]:()=>F(()=>import("./default.f7e02901.js"),["./default.f7e02901.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DIRECTORY]:()=>F(()=>import("./directory.094d511f.js"),["./directory.094d511f.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DIRECTORY_PREFS]:()=>F(()=>import("./directory_prefs.26a1ff4f.js"),["./directory_prefs.26a1ff4f.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.CLOUD_DISK]:()=>F(()=>import("./cloud_disk.6945ac3e.js"),["./cloud_disk.6945ac3e.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.HARD_DISK]:()=>F(()=>import("./hard_disk.7cada133.js"),["./hard_disk.7cada133.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.RAM_DISK]:()=>F(()=>import("./ram_disk.221d86ea.js"),["./ram_disk.221d86ea.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.TMP_DISK]:()=>F(()=>import("./tmp_disk.221d86ea.js"),["./tmp_disk.221d86ea.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DISK_1]:()=>F(()=>Promise.resolve().then(()=>$p),void 0,import.meta.url).then(n=>n.default),[D.DISK_2]:()=>F(()=>import("./disk_2.8fbdd273.js"),["./disk_2.8fbdd273.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DISK_WORKBENCH13]:()=>F(()=>import("./disk_workbench13.49948454.js"),["./disk_workbench13.49948454.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DISK_MARKDOWN]:()=>F(()=>import("./disk_markdown.5d61b791.js"),["./disk_markdown.5d61b791.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DISK_BASIC]:()=>F(()=>import("./disk_basic.5fd19fa2.js"),["./disk_basic.5fd19fa2.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.WORK]:()=>F(()=>import("./work.48ea93f7.js"),["./work.48ea93f7.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.CONSOLE]:()=>F(()=>import("./console.bef40663.js"),["./console.bef40663.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.SETTINGS]:()=>F(()=>import("./settings.1d20e11b.js"),["./settings.1d20e11b.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.TRASHCAN]:()=>F(()=>import("./trashcan.3e1c7943.js"),["./trashcan.3e1c7943.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.COMPUTER_1]:()=>F(()=>import("./computer_1.81afb382.js"),["./computer_1.81afb382.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.TELEPHONE]:()=>F(()=>import("./telephone.1647ec21.js"),["./telephone.1647ec21.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.CURSOR]:()=>F(()=>import("./cursor.0835b338.js"),["./cursor.0835b338.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.PREFERENCE]:()=>F(()=>import("./preference.7acf8c8f.js"),["./preference.7acf8c8f.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.WEB_BASIC]:()=>F(()=>import("./web_basic.0098960c.js"),["./web_basic.0098960c.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.WEB_PAINTING]:()=>F(()=>import("./web_painting.a870c139.js"),["./web_painting.a870c139.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.COLORS]:()=>F(()=>import("./colors.3a88a6d4.js"),["./colors.3a88a6d4.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.PRINT_1]:()=>F(()=>import("./print_1.d2bba9c8.js"),["./print_1.d2bba9c8.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.PRINT_2]:()=>F(()=>import("./print_2.6e364581.js"),["./print_2.6e364581.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.NOTEPAD]:()=>F(()=>import("./notepad.644e7888.js"),["./notepad.644e7888.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.BASIC]:()=>F(()=>import("./basic.53231446.js"),["./basic.53231446.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.IMAGE]:()=>F(()=>import("./image.0a6ce489.js"),["./image.0a6ce489.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.NOTE]:()=>F(()=>import("./note.53381104.js"),["./note.53381104.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.NOTE_BLANK]:()=>F(()=>import("./note_blank.1d589f6e.js"),["./note_blank.1d589f6e.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.LARGE_NOTE]:()=>F(()=>import("./large_note.faf19321.js"),["./large_note.faf19321.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.LARGE_NOTE_RICH]:()=>F(()=>import("./large_note_rich.b870ac31.js"),["./large_note_rich.b870ac31.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.FULLSCREEN]:()=>F(()=>import("./fullscreen.3476184b.js"),["./fullscreen.3476184b.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.CALCULATOR]:()=>F(()=>import("./calculator.eba6d61a.js"),["./calculator.eba6d61a.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.CLOCK]:()=>F(()=>import("./clock.3c1b6a4c.js"),["./clock.3c1b6a4c.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.KEYBOARD_QUESTION]:()=>F(()=>import("./keyboard_question.bf02aa35.js"),["./keyboard_question.bf02aa35.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.LARGE_NOTEPAD]:()=>F(()=>import("./large_notepad.dff3920f.js"),["./large_notepad.dff3920f.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.LARGE_NOTEPAD_HELP]:()=>F(()=>import("./large_notepad_help.a155ad6d.js"),["./large_notepad_help.a155ad6d.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.RABBIT]:()=>F(()=>import("./rabbit.d302be45.js"),["./rabbit.d302be45.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.MORE]:()=>F(()=>import("./more.f5faba2c.js"),["./more.f5faba2c.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.SAY]:()=>F(()=>import("./say.b2f960c8.js"),["./say.b2f960c8.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.GITHUB]:()=>F(()=>import("./github.006eb3c9.js"),["./github.006eb3c9.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.LAMMPEE]:()=>F(()=>import("./lammpee.ce05f4cf.js"),["./lammpee.ce05f4cf.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.CUBY]:()=>F(()=>import("./cuby.a67e9f8c.js"),["./cuby.a67e9f8c.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.NUXT]:()=>F(()=>import("./nuxt.2a211f10.js"),["./nuxt.2a211f10.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.CLOWN]:()=>F(()=>import("./clown.c0d8a803.js"),["./clown.c0d8a803.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DISALLOW_1]:()=>F(()=>import("./disallow_1.d0df1b51.js"),["./disallow_1.d0df1b51.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.COPY_1]:()=>F(()=>import("./copy_1.7d0ac5a5.js"),["./copy_1.7d0ac5a5.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.COPY_2]:()=>F(()=>import("./copy_2.180be621.js"),["./copy_2.180be621.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DISPLAY_KEYBOARD]:()=>F(()=>import("./display_keyboard.d16c16f6.js"),["./display_keyboard.d16c16f6.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.PALETTE]:()=>F(()=>import("./palette.4674b868.js"),["./palette.4674b868.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.SIGN_1]:()=>F(()=>import("./sign_1.57fc457a.js"),["./sign_1.57fc457a.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DOCUMENT_EDITOR]:()=>F(()=>import("./document_editor.54c6fad4.js"),["./document_editor.54c6fad4.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default),[D.DOCUMENT_READER]:()=>F(()=>import("./document_reader.5d01bf0e.js"),["./document_reader.5d01bf0e.js","./entry.d9fe636d.js"],import.meta.url).then(n=>n.default)};var xt,Zt,rt,Pn,Qt,fi;class xl extends cs{constructor(t){const{core:r}=Object.assign({core:null},t);super({config:Op,commands:ib,contextMenu:rb,core:r});p(this,xt,new Pe);p(this,Zt,new Map);p(this,rt,new Map);p(this,Pn,{});b(this,"hasSelectedItems",!1);p(this,Qt,void 0);p(this,fi,void 0);b(this,"activeWrapper");b(this,"defaultWrapper");b(this,"primaryWrapper");b(this,"secondaryWrapper")}addWrapper(t){return t=$(t),u(this,rt).set(t.id,t),u(this,Pn)[t.id]=t,t.events.subscribe(this.onEventWrapper.bind(this)),t.id}onEventWrapper({name:t,value:r}){const{wrapper:i}=r;(t==="selectItem"||t==="unselectItem")&&(this.hasSelectedItems=i.selectedItems.value.length>0,u(this,xt).next(new G("hasSelectedItems",this.hasSelectedItems)))}removeWrapper(t){typeof t!="string"&&(t=t.id),u(this,rt).delete(t),delete u(this,Pn)[String(t)]}getActiveWrapper(t){const r=this.core.modules.windows.contentWrapper.getActiveWindow();return r&&r.symbolWrapper?r.symbolWrapper:t?null:this.activeWrapper}getSelectedItems(){return Array.from(u(this,rt).values()).reduce((t,r)=>(t.push(...r.selectedItems.value.map(i=>r.get(i))),t),[])}clearSelectedItems(){return Array.from(u(this,rt).values()).forEach(t=>{t.clearSelectedItems()})}async addFileSystemWrapper(t,r){const i=new Qs(this.core,null,r);return await i.setup(t),this.addWrapper(i)}async setup(){await this.loadCoreSymbols(),this.setDefaultWrapper(await this.addFileSystemWrapper(this.core.modules.files.fs.root,!0))}loadCoreSymbols(){return Promise.all(Object.values(D).map(async t=>u(this,Zt).set(t,await sb[String(t)]())))}get(t){return u(this,rt).get(t)}setDefaultWrapper(t){g(this,fi,t),this.primaryWrapper=this.secondaryWrapper=this.activeWrapper=this.defaultWrapper=this.symbolWrappers.get(t)}getDefaultWrapper(){return this.defaultWrapper}getPrimaryWrapper(){return this.primaryWrapper||this.defaultWrapper}getSecondaryWrapper(){return this.secondaryWrapper||this.defaultWrapper}setPrimaryWrapper(t){t instanceof en&&(t=t.id),this.primaryWrapper=this.symbolWrappers.get(t),u(this,xt).next(new G("setPrimaryWrapper",this.getPrimaryWrapper()))}setSecondaryWrapper(t){t instanceof en&&(t=t.id),this.secondaryWrapper=this.symbolWrappers.get(t),u(this,xt).next(new G("setSecondaryWrapper",this.secondaryWrapper))}setActiveWrapper(t){t instanceof en&&(t=t.id);let r=this.symbolWrappers.get(u(this,Qt));return t!==u(this,Qt)&&(g(this,Qt,t),this.activeWrapper=this.symbolWrappers.get(u(this,Qt)),r=this.activeWrapper||this.symbolWrappers.get(u(this,fi)),u(this,xt).next(new G("setActiveWrapper",r))),r}addSymbol(t,r){u(this,Zt).set(t,r)}removeSymbol(t){u(this,Zt).delete(t)}get wrappersObservable(){return u(this,Pn)}get events(){return u(this,xt)}get symbols(){return u(this,Zt)}get symbolWrappers(){return u(this,rt)}}xt=new WeakMap,Zt=new WeakMap,rt=new WeakMap,Pn=new WeakMap,Qt=new WeakMap,fi=new WeakMap,b(xl,"NAME","Symbols");const Ei=new ur;Ei.addModule(Cm);Ei.addModule(_l);Ei.addModule(vl);Ei.addModule(xl);const pn=Ei,Ib=Object.freeze(Object.defineProperty({__proto__:null,default:pn},Symbol.toStringTag,{value:"Module"}));export{Jt as $,y as A,cb as B,L as C,$o as D,Pe as E,G as F,Ri as G,Eb as H,A as I,vb as J,vs as K,Cu as L,cs as M,fb as N,He as O,ar as P,lr as Q,wu as R,is as S,ln as T,al as U,gb as V,za as W,vd as X,xd as Y,pd as Z,ht as _,nc as a,Go as a0,J as a1,yd as a2,kc as a3,Lc as a4,Gn as a5,Vn as a6,tn as a7,ks as a8,So as a9,wb as aa,lb as ab,Md as ac,jn as ad,Vm as ae,ol as af,Xn as ag,Ct as ah,_a as ai,Di as aj,Vh as ak,gl as al,Ec as am,Tt as an,er as ao,pb as ap,bb as aq,Sb as ar,Ib as as,_s as b,qo as c,db as d,$e as e,gu as f,I as g,_r as h,sc as i,qp as j,tc as k,mt as l,ub as m,wh as n,D as o,K as p,Se as q,an as r,hb as s,Ci as t,To as u,pi as v,pn as w,nn as x,ca as y,Hn as z};

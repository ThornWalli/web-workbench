import{E as e}from"./B2YYxTED.js";import{s as n}from"./B1k18Rg6.js";import{y as o,z as l,A as t,d as a,r,k as s,a0 as i,o as v,F as u,I as c,C as d,G as p,B as m,Z as h,_ as f}from"./BfpYGSxR.js";import{u as w}from"./Dkhtr-D7.js";import{t as g,e as P}from"./D1WZfvAb.js";import{c as H}from"./BySSYlYy.js";import"./BHmTNEz3.js";import"./jSR9Z_uS.js";import"./BB6FUOrg.js";import"./Cy0zoxeo.js";const M={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14"};const z={render:function render$1(e,n){return l(),o("svg",M,n[0]||(n[0]=[t("path",{fill:"#05a",d:"M0 0h12v14H0z"},null,-1),t("path",{fill:"#fff",d:"M0 2v2h1v2h2v2h1v2h2v2h1v2h3V2z"},null,-1)]))}},D={xmlns:"http://www.w3.org/2000/svg",width:"11",height:"18"};const I={render:function render(e,n){return l(),o("svg",D,n[0]||(n[0]=[t("path",{d:"M6 2h1v2H6zM7 4h1v2H7zM5 0h1v2H5zM4 2h1v2H4zM7 16H4v-4H3v6h5v-6H7zM8 6h1v2H8zM10 10V8H9v2H8v2h3v-2zM2 10V8H1v2H0v2h3v-2zM3 4h1v2H3zM2 6h1v2H2z"},null,-1)]))}},_={class:"content"},j={class:"pagination"},k=f(a({__name:"DocumentReader",props:{model:{type:Object,default:()=>({fsItem:null,value:P()})}},setup(a){const f=r(null),P=a,{setContextMenu:M,...D}=w();M(H,{model:P.model});const k=r([]),C=r(0);let y;const S=r(0),T=s(()=>({"--scroll-bar-size":`${n.size}`})),x=s(()=>k.value[C.value]);function refreshContent(){P.model.fsItem&&(D.window.options.title=P.model.fsItem.name+" - Document Reader");const e=P.model.value.content.split(/\[PAGE\][\n]+/);C.value=0,k.value=e}function onPointerDownPrev(){C.value=Math.max(C.value-1,0)}function onPointerDownNext(){C.value=Math.min(C.value+1,k.value.length-1)}function onPointerDownScrollUp(){intervalClick(()=>{f.value&&(f.value.scrollTop=Math.max(f.value.scrollTop-20,0))})}function onPointerDownScrollDown(){intervalClick(()=>{f.value&&(f.value.scrollTop=Math.min(f.value.scrollTop+20,f.value.scrollHeight))})}function onPointerUp(){window.clearInterval(y)}function intervalClick(e){window.clearInterval(y),y=window.setInterval(e,125)}function onScroll(e){f.value&&(e.preventDefault(),S.value=f.value.scrollTop/(f.value.scrollHeight-f.value.offsetHeight))}return i(()=>C.value,()=>{f.value&&(f.value.scrollTop=0)}),i(()=>P.model,()=>{refreshContent()},{deep:!0}),v(()=>{refreshContent()}),(n,r)=>(l(),o("div",{class:"wb-disks-workbench13-document-reader",style:h(T.value)},[t("div",_,[t("div",{ref_key:"scrollContainerEl",ref:f,class:"content-scroll",onScroll:onScroll},[d(e,{"font-family":a.model.value[p(g).FONT_FAMILY],"font-size":a.model.value[p(g).FONT_SIZE],"line-height":a.model.value[p(g).LINE_HEIGHT],content:x.value,"modular-scale":P.model.value[p(g).MODULAR_SCALE]},null,8,["font-family","font-size","line-height","content","modular-scale"])],544)]),t("div",j,[t("div",{class:"pagination-frame pagination-current",onPointerdown:onPointerDownPrev},[t("span",null,m(C.value+1),1)],32),S.value>0?(l(),o("div",{key:0,class:"pagination-frame pagination-scroll_up",onPointerdown:onPointerDownScrollUp,onPointerup:onPointerUp},[t("i",null,[d(p(I))])],32)):c("",!0),r[0]||(r[0]=t("div",{class:"pagination-spacer"},null,-1)),S.value<1?(l(),o("div",{key:1,class:"pagination-frame pagination-scroll-down",onPointerdown:onPointerDownScrollDown,onPointerup:onPointerUp},[t("i",null,[d(p(I))])],32)):c("",!0)]),C.value>0?(l(),u(p(z),{key:0,class:"corner corner_left",onPointerdown:onPointerDownPrev})):c("",!0),C.value<k.value.length-1?(l(),u(p(z),{key:1,class:"corner corner-right",onPointerdown:onPointerDownNext})):c("",!0)],4))}}),[["__scopeId","data-v-be8d6e75"]]);export{k as default};

import{V as T,u as y,g as c}from"./V27eN1aZ.js";import{_,g as C,t as k,v as I,z as b,x as p,y as A}from"./Das9PJ41.js";import"./C5mdboMC.js";const v={components:{AtomMarkdown:T},setup(){const e=y();return e.setContextMenu(P),e},data(){return{content:["# Clock",`Version: **1.0**  
Created by **Thorn-Welf Walli**`].join(`
`)}}},S={class:"wb-disks-workbench13-clock-info"};function $(e,t,l,r,o,i){const n=C("atom-markdown");return k(),I("div",S,[b(n,{content:o.content},null,8,["content"])])}const W=_(v,[["render",$],["__scopeId","data-v-2cde78bd"]]),P=({core:e})=>{const{windows:t}=e.modules;return[{title:"Clock",items:[{hotKey:"I",keyCode:73,title:"Info",action(){t.addWindow({title:"Info",component:W,componentData:{},options:{prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Clock"})}}]}]};function D(e,t,l,r){e.beginPath(),e.arc(0,0,t-l,0,2*Math.PI,!1),e.fillStyle=r[0],e.fill()}function H(e,t,l){let r;for(r=0;r<60;r++){e.rotate(-Math.PI/2),e.beginPath();const o=0-t+12,i=6;e.moveTo(0,o),e.lineTo(0,o-i),e.rotate(Math.PI/3/5),e.lineWidth=2,e.strokeStyle=l[1],e.stroke()}for(e.rotate(-(Math.PI/3/5)*60),r=0;r<16;r++){e.rotate(-Math.PI/2),e.beginPath();const o=0-t+15,i=6,n=10;e.moveTo(0,o),e.lineTo(0+i/2,o-n/2),e.lineTo(0,o-n),e.lineTo(0-i/2,o-n/2),e.lineTo(0,o),e.rotate(Math.PI/3),e.fillStyle=l[1],e.fill()}e.rotate(-Math.PI/3*16)}function X(e,t,l,r,o){const i=t.getHours()*(Math.PI*2/12)+Math.PI*2/12*t.getMinutes()/60,n=t.getMinutes()*(Math.PI*2/60),u=t.getSeconds()*(Math.PI*2/60);l.rotate(i),l.drawImage(e[0],-r.x,-r.y,o.x,o.y),l.rotate(-i),l.rotate(n),l.drawImage(e[1],-r.x,-r.y,o.x,o.y),l.rotate(-n),l.rotate(u),l.drawImage(e[2],-r.x,-r.y,o.x,o.y),l.rotate(-u)}function Y(e,t,l,r){const i=e/2-5,n=c(()=>i+5);return[(s,h)=>{s.translate(n.x,n.y);const m=3,f=[.5,.34],a=0,d=0;s.beginPath(),s.moveTo(a,d),s.lineTo(a-m,d-h.width/2*f[1]),s.lineTo(a,d-h.width/2*f[0]),s.lineTo(a+m,d-h.width/2*f[1]),s.lineTo(a,d),s.strokeStyle=r[1],s.fillStyle=r[1],s.stroke(),s.fill()},(s,h)=>{s.translate(n.x,n.y);const m=4,f=[.7,.54],a=0,d=0;s.beginPath(),s.moveTo(a,d),s.lineTo(a-m,d-h.width/2*f[1]),s.lineTo(a,d-h.width/2*f[0]),s.lineTo(a+m,d-h.width/2*f[1]),s.lineTo(a,d),s.strokeStyle=r[1],s.fillStyle=r[1],s.stroke(),s.fill()},(s,h)=>{s.translate(n.x,n.y);const m=0,f=.74,a=0,d=0;s.beginPath(),s.moveTo(a,d),s.lineTo(a+m,d-h.width/2*f),s.lineTo(a,d),s.strokeStyle=r[2],s.stroke()},s=>{s.translate(n.x,n.y),D(s,i,l,r)},s=>{s.translate(n.x,n.y),H(s,i,r)}].map(s=>{const h=document.createElement("canvas");h.width=e,h.height=t;const m=h.getContext("2d");return m.imageSmoothingEnabled=!1,s(m,h),h})}const E={setup(){const e=y();return e.setContextMenu(P),e},data(){return{colors:["#888888","#000000","#FFAA55"],sprites:[],periodPM:!1,interval:null}},computed:{timeAmPm(){return this.periodPM?"PM":"AM"}},unmounted(){window.clearInterval(this.interval)},mounted(){const e=this.$refs.canvas;e.width=this.$el.offsetWidth,e.height=this.$el.offsetHeight,this.sprites=Y(e.width,e.height,2,this.colors),this.render(e,e.getContext("2d"))},methods:{render(e,t){const r=e.width/2-5,o=c(()=>r+5),i=c(e.width,e.height);t.imageSmoothingEnabled=!1,t.setTransform(1,0,0,1,0,0),t.translate(o.x,o.y),t.scale(1,1.015),t.beginPath(),t.arc(0,0,r,0,2*Math.PI,!1),t.fillStyle=this.colors[1],t.fill(),t.scale(1,.985);const n=this.sprites,u=s=>{window.requestAnimationFrame(()=>{t.drawImage(n[3],-o.x,-o.y,i.x,i.y),t.drawImage(n[4],-o.x,-o.y,i.x,i.y),t.strokeStyle=this.colors[1],t.setTransform(1,0,0,1,0,0);const h=new Date;this.periodPM=h.getHours()>12,t.translate(o.x,o.y),X(n,h,t,o,i);const m=t.getImageData(0,0,i.x,i.y),f=m.data;for(let a=0;a<f.length;a+=4){const d=f[Number(a)],w=f[a+1],g=f[a+2];if(!(d===255&&w===170&&g===85)){const M=.2126*d+.7152*w+.0722*g>=50?255:0;.2126*d+.7152*w+.0722*g>=50&&(f[Number(a)]=f[a+1]=f[a+2]=M)}}t.putImageData(m,0,0),s&&s()})};u(()=>{this.interval=window.setInterval(u,1e3)})}}},N={class:"wb-disks-workbench13-clock"},V={ref:"canvas"},B={class:"period"};function F(e,t,l,r,o,i){return k(),I("div",N,[p("canvas",V,null,512),p("span",B,A(i.timeAmPm),1)])}const G=_(E,[["render",F],["__scopeId","data-v-7dfe83ce"]]);export{G as default};

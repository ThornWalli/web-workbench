import{_ as r,c as t,d as n,e}from"./B-meQdOw.js";function isFunction(r){return"function"==typeof r}function createErrorClass(r){var t=r(function(r){Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var i=createErrorClass(function(r){return function UnsubscriptionErrorImpl(t){r(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function arrRemove(r,t){if(r){var n=r.indexOf(t);0<=n&&r.splice(n,1)}}var o=function(){function Subscription2(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return Subscription2.prototype.unsubscribe=function(){var e,o,s,a,c;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var l=r(u),p=l.next();!p.done;p=l.next()){p.value.remove(this)}}catch(y){e={error:y}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(e)throw e.error}}else u.remove(this);var f=this.initialTeardown;if(isFunction(f))try{f()}catch(S){c=S instanceof i?S.errors:[S]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var b=r(h),d=b.next();!d.done;d=b.next()){var v=d.value;try{execFinalizer(v)}catch(m){c=null!=c?c:[],m instanceof i?c=t(t([],n(c)),n(m.errors)):c.push(m)}}}catch(_){s={error:_}}finally{try{d&&!d.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}}if(c)throw new i(c)}},Subscription2.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)execFinalizer(r);else{if(r instanceof Subscription2){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(r)}},Subscription2.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},Subscription2.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},Subscription2.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&arrRemove(t,r)},Subscription2.prototype.remove=function(r){var t=this._finalizers;t&&arrRemove(t,r),r instanceof Subscription2&&r._removeParent(this)},Subscription2.EMPTY=((e=new Subscription2).closed=!0,e),Subscription2}(),s=o.EMPTY;function isSubscription(r){return r instanceof o||r&&"closed"in r&&isFunction(r.remove)&&isFunction(r.add)&&isFunction(r.unsubscribe)}function execFinalizer(r){isFunction(r)?r():r.unsubscribe()}var timeoutProvider_setTimeout=function(r,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return setTimeout.apply(void 0,t([r,e],n(i)))};function reportUnhandledError(r){timeoutProvider_setTimeout(function(){throw r})}function noop(){}var a=function(r){function Subscriber2(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,isSubscription(t)&&t.add(n)):n.destination=l,n}return e(Subscriber2,r),Subscriber2.create=function(r,t,n){return new u(r,t,n)},Subscriber2.prototype.next=function(r){this.isStopped||this._next(r)},Subscriber2.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},Subscriber2.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber2.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},Subscriber2.prototype._next=function(r){this.destination.next(r)},Subscriber2.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},Subscriber2.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber2}(o),c=function(){function ConsumerObserver2(r){this.partialObserver=r}return ConsumerObserver2.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){handleUnhandledError(n)}},ConsumerObserver2.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){handleUnhandledError(n)}else handleUnhandledError(r)},ConsumerObserver2.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){handleUnhandledError(t)}},ConsumerObserver2}(),u=function(r){function SafeSubscriber2(t,n,e){var i,o=r.call(this)||this;return i=isFunction(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=e?e:void 0}:t,o.destination=new c(i),o}return e(SafeSubscriber2,r),SafeSubscriber2}(a);function handleUnhandledError(r){reportUnhandledError(r)}var l={closed:!0,next:noop,error:function defaultErrorHandler(r){throw r},complete:noop};function operate(r){return function(t){if(function hasLift(r){return isFunction(null==r?void 0:r.lift)}(t))return t.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}export{s as E,o as S,arrRemove as a,u as b,isSubscription as c,a as d,createErrorClass as e,isFunction as i,noop as n,operate as o,reportUnhandledError as r};

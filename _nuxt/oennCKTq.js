import{V as d,u as p,ao as f}from"./V27eN1aZ.js";import{_ as m,g as _,t as s,v as a,z as A,x as i,y as B,a0 as C,a1 as w}from"./Das9PJ41.js";import"./C5mdboMC.js";const k={components:{AtomMarkdown:d},setup(){const e=p();return e.setContextMenu(r),e},data(){return{content:["# Calculator",`Version: **1.0**  
Created by **Thorn-Welf Walli**`].join(`
`)}},computed:{contextMenu(){return new f(r,{core:this.core})}}},$={class:"wb-disks-workbench13-calculator-info"};function O(e,t,n,c,o,l){const u=_("atom-markdown");return s(),a("div",$,[A(u,{content:o.content},null,8,["content"])])}const b=m(k,[["render",O],["__scopeId","data-v-92287528"]]),r=({core:e})=>{const{windows:t}=e.modules;return[{title:"Calculator",items:[{hotKey:"I",keyCode:73,title:"Info",action(){t.addWindow({title:"Info",component:b,componentData:{},options:{prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Calculator"})}}]}]},v={setup(){const e=p();return e.setContextMenu(r),e},data(){return{tmpValueA:null,tmpValueB:null,tmpOperator:null,result:null,value:null,buttons:["7","8","9","CA","CE","4","5","6","*","/","1","2","3","+","-","0",".","<-","+-","="]}},computed:{resultValue(){return[this.tmpValueA,this.tmpOperator,this.tmpValueB].filter(e=>e!==null).join(" ")}},methods:{async onClickButton(e){const t=e.target.value;if(/^[0-9,.]+$/.test(t)&&this.tmpOperator===null?this.tmpValueA=(this.tmpValueA||"")+t:/^[0-9,.]+$/.test(t)&&this.tmpOperator&&this.tmpValueA!==null&&(this.tmpValueB=(this.tmpValueB||"")+t),/^[\\/*-+=]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB!==null&&this.tmpOperator){const n=await this.core.modules.parser.parseMath(`${this.tmpValueA}${this.tmpOperator}${this.tmpValueB}`);this.tmpValueA=n,this.tmpOperator=null,this.tmpValueB=null}/^[\\/*-+]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB===null&&(this.tmpOperator=t),/^<-$/.test(t)&&this.tmpValueA!==null&&(this.tmpValueA!==null&&this.tmpValueB===null?(this.tmpOperator=null,this.tmpValueA=String(this.tmpValueA).slice(0,this.tmpValueA.length-1)):this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=String(this.tmpValueB).slice(0,this.tmpValueB.length-1))),/^\+-$/.test(t)&&(this.tmpValueA!==null&&this.tmpValueB===null?this.tmpValueA=parseFloat(this.tmpValueA)*-1:this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=parseFloat(this.tmpValueB)*-1)),/^CA$/.test(t)&&(this.tmpOperator=this.tmpValueA=this.tmpValueB=null),/^CE$/.test(t)&&(this.tmpValueB!==null?this.tmpValueB=null:this.tmpOperator?this.tmpOperator=null:this.tmpValueA!==null&&(this.tmpValueA=null))}}},x={class:"wb-disks-workbench13-calculator"},g={class:"result","data-hook":"calculatorResult"},y={class:"buttons"},M=["value"];function I(e,t,n,c,o,l){return s(),a("div",x,[i("span",g,B(l.resultValue),1),i("div",y,[(s(!0),a(C,null,w(o.buttons,(u,h)=>(s(),a("span",{key:h},[i("input",{type:"button",value:u,onClick:t[0]||(t[0]=(...V)=>l.onClickButton&&l.onClickButton(...V))},null,8,M)]))),128))])])}const S=m(v,[["render",I],["__scopeId","data-v-aab77037"]]);export{S as default};

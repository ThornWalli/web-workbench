import{Q as f,j as p,k as m,u as c,ag as A}from"./index.eb95d3b6.js";import{_ as h,f as B,k as n,l as a,q as w,m as i,t as C,N as k,O as $}from"./entry.211f2c5a.js";import"./index.56665add.js";const v={components:{AtomMarkdown:f},props:{...p},emits:[...m],setup(e,t){const l=c(e,t);return l.setContextMenu(r),l},data(){return{content:["# Calculator",`Version: **1.0**  
Created by **Thorn-Welf Walli**`].join(`
`)}},computed:{contextMenu(){return new A(r,{core:this.core})}}},O={class:"wb-disks-workbench13-calculator-info"};function b(e,t,l,d,o,s){const u=B("atom-markdown");return n(),a("div",O,[w(u,{content:o.content},null,8,["content"])])}const x=h(v,[["render",b],["__scopeId","data-v-2d33b183"]]),r=({core:e})=>{const{windows:t}=e.modules;return[{title:"Calculator",items:[{hotKey:"I",keyCode:73,title:"Info",action(){t.addWindow({title:"Info",component:x,componentData:{},options:{prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Calculator"})}}]}]};const g={props:{...p},emits:[...m],setup(e,t){const l=c(e,t);return l.setContextMenu(r),l},data(){return{tmpValueA:null,tmpValueB:null,tmpOperator:null,result:null,value:null,buttons:["7","8","9","CA","CE","4","5","6","*","/","1","2","3","+","-","0",".","<-","+-","="]}},computed:{resultValue(){return[this.tmpValueA,this.tmpOperator,this.tmpValueB].filter(e=>e!==null).join(" ")}},methods:{async onClickButton(e){const t=e.target.value;if(/^[0-9,.]+$/.test(t)&&this.tmpOperator===null?this.tmpValueA=(this.tmpValueA||"")+t:/^[0-9,.]+$/.test(t)&&this.tmpOperator&&this.tmpValueA!==null&&(this.tmpValueB=(this.tmpValueB||"")+t),/^[\\/*-+=]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB!==null&&this.tmpOperator){const l=await this.core.modules.parser.parseMath(`${this.tmpValueA}${this.tmpOperator}${this.tmpValueB}`);this.tmpValueA=l,this.tmpOperator=null,this.tmpValueB=null}/^[\\/*-+]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB===null&&(this.tmpOperator=t),/^<-$/.test(t)&&this.tmpValueA!==null&&(this.tmpValueA!==null&&this.tmpValueB===null?(this.tmpOperator=null,this.tmpValueA=String(this.tmpValueA).slice(0,this.tmpValueA.length-1)):this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=String(this.tmpValueB).slice(0,this.tmpValueB.length-1))),/^\+-$/.test(t)&&(this.tmpValueA!==null&&this.tmpValueB===null?this.tmpValueA=parseFloat(this.tmpValueA)*-1:this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=parseFloat(this.tmpValueB)*-1)),/^CA$/.test(t)&&(this.tmpOperator=this.tmpValueA=this.tmpValueB=null),/^CE$/.test(t)&&(this.tmpValueB!==null?this.tmpValueB=null:this.tmpOperator?this.tmpOperator=null:this.tmpValueA!==null&&(this.tmpValueA=null))}}},y={class:"wb-disks-workbench13-calculator"},I={class:"result","data-hook":"calculatorResult"},M={class:"buttons"},W=["value"];function E(e,t,l,d,o,s){return n(),a("div",y,[i("span",I,C(s.resultValue),1),i("div",M,[(n(!0),a(k,null,$(o.buttons,(u,_)=>(n(),a("span",{key:_},[i("input",{type:"button",value:u,onClick:t[0]||(t[0]=(...V)=>s.onClickButton&&s.onClickButton(...V))},null,8,W)]))),128))])])}const S=h(g,[["render",E],["__scopeId","data-v-756f39d2"]]);export{S as default};

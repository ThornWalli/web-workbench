(window.webpackJsonp=window.webpackJsonp||[]).push([[17,39],{262:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return h}));var r=n(236);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function l(t){return Math.atan2(t.y,t.x)+Math.PI}function c(t){var e=window.getComputedStyle(t).transform,n=new DOMMatrix(e);return Math.atan2(n.b,n.a)}function h(t,e){var n=Math.cos(e)*t.x-Math.sin(e)*t.y,o=Math.sin(e)*t.x+Math.cos(e)*t.y;return new r.c(n,o)}},280:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(102),o=n(235),l=n(233),c=n(234);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var f=function(t){Object(o.a)(n,t);var e=h(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(n(236).b)},288:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(353),o=new(n(352).a)(r.a)},392:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));n(38),n(39);var r=n(102),o=n(103),l=n(242),c=n(255),h=n(288);n(283),n(416),n(355);n(315);n(401),c.a,c.a,c.a,c.a;var f={leading:!0,trailing:!1};var d=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,source){return source.subscribe(new y(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),y=function(t){function e(e,n,r,o,l){var c=t.call(this,e)||this;return c.duration=n,c.scheduler=r,c.leading=o,c.trailing=l,c._hasTrailingValue=!1,c._trailingValue=null,c}return l.c(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(v,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(c.a);function v(t){t.subscriber.clearThrottle()}var _=n(262),m=n(247),x=n(280),w=function(){function t(e){Object(r.a)(this,t),this.subscriptions=[],this._app=e}return Object(o.a)(t,[{key:"register",value:function(){var t,e,n;this.subscriptions.push(m.a.keydown.pipe((t=200,void 0===e&&(e=h.a),void 0===n&&(n=f),function(source){return source.lift(new d(t,e,n.leading,n.trailing))})).subscribe(D.bind(this)),m.a.keyup.subscribe(k.bind(this)))}},{key:"unregister",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}},{key:"registerDisplay",value:function(t){}},{key:"unregisterDisplay",value:function(t){}}]),t}();function k(t){switch(t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!1;break;case 18:t.preventDefault(),this.holdAlt=!1}}function D(t){if(this._app.display){var e=1;switch(this.holdAlt&&(e*=10),t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!0;break;case 18:t.preventDefault(),this.holdAlt=!0;break;case 37:t.preventDefault(),this._app.display.offset.x-=e;break;case 38:t.preventDefault(),this._app.display.offset.y-=e;break;case 39:t.preventDefault(),this._app.display.offset.x+=e;break;case 40:t.preventDefault(),this._app.display.offset.y+=e}var n=this._app.display;this._app.display.offset=new x.default(Object(_.b)(n.offset.x,-n.zoomBounds.min.x,n.canvasLayout.naturalSize.x-n.zoomBounds.max.x),Object(_.b)(n.offset.y,-n.zoomBounds.min.y,n.canvasLayout.naturalSize.y-n.zoomBounds.max.y)),this._app.display.renderImageData()}}}}]);
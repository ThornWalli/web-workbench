import{S as e,P as t,b as n,c as a,d as i,e as o,F as s,D as l,A as c}from"./G8w6tKzW.js";import{I as r,r as m,K as w,a as u,b as p}from"./CybH7Zs2.js";import{c as E}from"./czE5BX5a.js";import{a as S}from"./Bk3HlLVR.js";import{d,m as y,a as O,b as N}from"./D1WZfvAb.js";import{U as f}from"./BfgCdWpr.js";import{S as I}from"./BB6FUOrg.js";import{K as T}from"./Cy0zoxeo.js";const v={[r.AM]:c,[r.DUO]:l,[r.FM]:s,[r.MEMBRANE]:o,[r.METAL]:i,[r.MONO]:a,[r.PLUCK]:n,[r.POLY]:t,[r.SYNTH]:e};function getInstrument(e=r.SYNTH){return v[e]}const K=d(({core:e,mainWindow:t,parentWindow:n,preserveContextMenu:a,model:i,trackModel:o})=>{const s=i[y.SYNTHESIZER_PROJECT],l=o&&o[y.SYNTHESIZER_TRACK];return[new O({title:"Synthesizer",items:[new O({hotKey:{alt:!0,code:T.KEY_I,title:"I"},title:"Info",async action(){var e;return null==(e=i.actions)?void 0:e.openInfo()}}),new I,new O({title:"Debug",items:[new O({title:"Notes",async action(){var e;if(null==(e=i.actions)?void 0:e.openDebugNotes){a(!0);const e=await i.actions.openDebugNotes();await e.awaitClose(),a(!1),t.focus()}}}),new O({title:"Midi",async action(){var e;if(null==(e=i.actions)?void 0:e.openDebugMidi){a(!0);const e=await i.actions.openDebugMidi();await e.awaitClose(),a(!1),t.focus()}}}),new O({title:"Timeline",async action(){var e;if(null==(e=i.actions)?void 0:e.openDebugTimeline){a(!0);const e=await i.actions.openDebugTimeline();await e.awaitClose(),a(!1),t.focus()}}})]}),new I,new O({title:"Close",action:function actionClose(){return(n||t).close()}})]}),...o?[]:[new O({title:"Project",items:[new O({title:"New…",action:async()=>{i.actions&&(a(!0),await i.actions.newProject(),a(!1),t.focus())}}),new O({title:"Edit Name…",action:async()=>{a(!0);const n=await m(e,"Project renaming:",s.name);n&&(s.name=n),a(!1),t.focus()}}),new O({title:"Open…",hotKey:{alt:!0,code:T.KEY_O,title:"O"},action:async()=>{var e;await(null==(e=i.actions)?void 0:e.openProject())}}),new O({title:"Save…",hotKey:{alt:!0,code:T.KEY_S,title:"S"},action:async()=>{var e;return await(null==(e=i.actions)?void 0:e.saveProject())}}),new I,new f({title:"Import… (JSON)",hotKey:{alt:!0,shift:!0,code:T.KEY_I,title:"I"},async action({files:e}){var t;return await(null==(t=i.actions)?void 0:t.importProject(e[0]))}}),new O({title:"Export (JSON)",action:async()=>{var e;return await(null==(e=i.actions)?void 0:e.exportProject())}})]}),new O({title:"Track",items:[new O({title:"New…",action:async()=>{i.actions&&(a(!0),await i.actions.newTrack(),a(!1),t.focus())}}),new I,new O({title:"Clear",async action(){i.actions&&(a(!0),await i.actions.clearTracks(),a(!1),t.focus())}})]})],...o&&[new O({title:"Track Options",items:[new O({type:N.CHECKBOX,title:"Show Note Labels",name:y.SYNTHESIZER_TRACK_SHOW_NOTE_LABELS,model:o}),new O({type:N.CHECKBOX,title:"Show Keyboard",name:y.SYNTHESIZER_TRACK_SHOW_KEYBOARD,model:o}),new O({title:"Keyboard Size",items:Object.entries(w).map(([e,t])=>new O({type:N.RADIO,title:t,model:o,name:y.SYNTHESIZER_TRACK_KEYBOARD_SIZE,value:e}))}),new O({title:"Keyboard Alignment",items:Object.entries(u).map(([e,t])=>new O({type:N.RADIO,title:t,model:o,name:y.SYNTHESIZER_TRACK_KEYBOARD_ALIGN,value:e}))}),new I,new O({title:"Edit Name…",action:async()=>{a(!0);const n=await m(e,"Track renaming:",l.name);n&&(l.name=n,t.options.title=l.name),a(!1),t.focus()}}),new O({title:"Note Count",items:Object.entries(p).map(([e,t])=>new O({type:N.RADIO,title:`${e} (${t})`,model:l,name:"noteCount",value:t}))}),new O({title:"Base Note",items:Object.entries(S()).map(([e,t])=>new O({type:N.RADIO,title:e,model:l,name:"baseNote",value:t}))}),new I,new O({title:"Beat Count",items:Array(9).fill({}).map((e,t)=>new O({type:N.RADIO,title:String(t+1),model:l,name:"beatCount",value:t+1}))})]})]||[],new O({title:"Options",items:[new O({title:`BPM (${i[y.SYNTHESIZER_BPM]})`,items:[30,60,120,240,480].map(e=>new O({type:N.RADIO,title:String(e),model:i,name:y.SYNTHESIZER_BPM,value:e}))})]}),...E({core:e})].filter(Boolean)});export{K as c,getInstrument as g};

import{c as g}from"./D-cdU_If.js";import{u as w}from"./JsFOm8c5.js";import{E as v}from"./Xk46uXlJ.js";import{W as C}from"./DpGpKT4E.js";import{W as E}from"./D9PjJnFw.js";import{d as _,k as b,y as d,z as l,Z as z,_ as k,r as $,o as B,$ as V,A as n,I as y,C as i,B as h,G as W,D as M,X as S,Y as L,F as A,P as I}from"./BkRx7U8b.js";import{b as Z}from"./DG6QdPnO.js";import{W as D}from"./Cnp2dj6X.js";import"./ClLpnmyR.js";import"./BTMT_sH9.js";import"./CoWiVqj-.js";import"./B9nPFJJ2.js";import"./B4rpyJsK.js";import"./eRs2tlcG.js";import"./uxCSd1pF.js";import"./Db7xYFkh.js";const F=2,G=_({__name:"Separator",props:{size:{}},setup(u){const a=u,t=b(()=>a.size?a.size:F);return(r,m)=>(l(),d("hr",{class:"wb-separator",style:z({"--size":t.value})},null,4))}}),H=k(G,[["__scopeId","data-v-a5e62628"]]),T=["id"],j={class:"meta"},N={key:0,class:"info"},U={class:"author"},P={class:"date"},Y={class:"subject"},R=["innerHTML"],X=_({__name:"Entry",props:{selectable:{type:Boolean},published:{type:Boolean},modelValue:{},id:{},author:{},date:{},subject:{},message:{}},emits:["update:model-value"],setup(u,{emit:a}){const t=u,r=$(null);function m(){if(r.value){const e=/(https?:\/\/[^\s]+)|(www\.[^\s]+)|([a-zA-Z0-9\-\\.]+\.[a-zA-Z]{2,3}(\/\S*)?)/g;r.value.innerHTML=t.message.replace(e,function(o){let f=o;return(!o.match(/^(https?:\/\/)/i)&&o.match(/^(www\.)/i)||!o.match(/^(https?:\/\/)/i)&&o.match(/[a-zA-Z0-9\-\\.]+\.[a-zA-Z]{2,3}(\/\S*)?$/))&&(f="http://"+o),`<a href="${f}" target="_blank" rel="noopener noreferrer">${o}</a>`})}}B(()=>{m()});const p=b(()=>t.modelValue?.includes(t.id)),s=a;function c(){t.selectable&&(t.modelValue?.includes(t.id)?s("update:model-value",t.modelValue.filter(e=>e!==t.id)):s("update:model-value",[...t.modelValue||[],t.id]))}return(e,o)=>(l(),d("article",{id:e.id,class:V(["wb-disks-workbench13-guest-book-entry",{selected:p.value,unpublished:!e.published}]),onClick:c},[n("header",null,[n("div",j,[e.selectable?(l(),d("div",N,[i(D,{id:e.id,value:e.id,"model-value":e.modelValue,name:"guest-book-entry",embed:"",label:e.id,"hide-label":""},null,8,["id","value","model-value","label"])])):y("",!0),n("span",U,h(e.author),1),o[0]||(o[0]=n("span",{class:"spacer"},null,-1)),n("span",P,h(W(Z)("H:I:S D.M.Y",e.date)),1)]),n("div",Y,h(e.subject),1)]),n("p",{ref_key:"messageEl",ref:r,class:"message",innerHTML:e.message},null,8,R)],10,T))}}),q=k(X,[["__scopeId","data-v-23c9e94b"]]),J={ref:"rootEl",class:"wb-disks-workbench13-guest-book"},K={class:"entries"},O={key:0,class:"empty"},Q=_({__name:"GuestBook",props:{model:{},introContent:{},listContent:{}},setup(u){const a=u,{setContextMenu:t}=w();t(g,{model:a.model});function r(){a.model.actions?.writeEntry()}function m(s){a.model.actions?.setSelectedEntries(s)}const p=b(()=>Array.from(a.model.entries.filter(s=>!a.model.isLocked||s.published)).sort((s,c)=>s.date>c.date?-1:s.date<c.date?1:0));return(s,c)=>(l(),d("div",J,[i(v,{content:s.introContent},null,8,["content"]),i(C,null,{default:M(()=>[i(E,{"style-type":"dialog",label:"Write Entry…",onClick:r})]),_:1}),i(H),n("section",null,[i(v,{content:s.listContent},null,8,["content"]),n("div",K,[(l(!0),d(S,null,L(p.value,(e,o)=>(l(),A(q,I({key:o,selectable:!s.model.isLocked},{ref_for:!0},e,{"model-value":s.model.selectedEntries,"onUpdate:modelValue":m}),null,16,["selectable","model-value"]))),128)),p.value.length<1?(l(),d("div",O," This guestbook is still empty… ")):y("",!0)])])],512))}}),he=k(Q,[["__scopeId","data-v-0537df1c"]]);export{he as default};

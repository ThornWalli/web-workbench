(window.webpackJsonp=window.webpackJsonp||[]).push([[23,43],{109:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var r=n(75);class c extends r.b{}},134:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return y}));var r=n(85),c=function(t){function e(e,n){return t.call(this)||this}return Object(r.e)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(151).b),o={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,Object(r.h)([],Object(r.g)(t)))},clearInterval:function(t){var e=o.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},l=n(156),h=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return Object(r.e)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),o.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;o.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Object(l.a)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(c),d=n(181),f=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=d.a.now,t}(),v=new(function(t){function e(e,n){void 0===n&&(n=f.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return Object(r.e)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(f))(h),y=v},194:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return k}));var r=n(134),c=n(99),o=n(107),l=n(116),h={leading:!0,trailing:!1};var d=n(113),f=n(97);function v(t,e,n){void 0===t&&(t=0),void 0===n&&(n=r.a);var c,o=-1;return null!=e&&((c=e)&&Object(f.a)(c.schedule)?n=e:o=e),new d.a((function(e){var r=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;r<0&&(r=0);var c=0;return n.schedule((function(){e.closed||(e.next(c++),0<=o?this.schedule(void 0,o):e.complete())}),r)}))}function y(t,e,n){void 0===e&&(e=r.b),void 0===n&&(n=h);var d,f,y,w,x,m=v(t,e);return d=function(){return m},w=(y=void 0===(f=n)?h:f).leading,x=y.trailing,Object(c.a)((function(source,t){var e=!1,n=null,r=null,c=!1,h=function(){null==r||r.unsubscribe(),r=null,x&&(y(),c&&t.complete())},f=function(){r=null,c&&t.complete()},v=function(e){return r=Object(l.a)(d(e)).subscribe(new o.a(t,h,f))},y=function(){if(e){e=!1;var r=n;n=null,t.next(r),!c&&v(r)}};source.subscribe(new o.a(t,(function(t){e=!0,n=t,(!r||r.closed)&&(w?y():v(t))}),(function(){c=!0,(!(x&&e&&r)||r.closed)&&t.complete()})))}))}var w=n(81),x=n(86),m=n(109);class k{constructor(t){this.subscriptions=[],this._app=t}register(){this.subscriptions.push(x.a.keydown.pipe(y(200)).subscribe(_.bind(this)),x.a.keyup.subscribe(I.bind(this)))}unregister(){this.subscriptions.forEach((t=>t.unsubscribe()))}registerDisplay(t){}unregisterDisplay(t){}}function I(t){switch(t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!1;break;case 18:t.preventDefault(),this.holdAlt=!1}}function _(t){if(this._app.display){var e=1;switch(this.holdAlt&&(e*=10),t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!0;break;case 18:t.preventDefault(),this.holdAlt=!0;break;case 37:t.preventDefault(),this._app.display.offset.x-=e;break;case 38:t.preventDefault(),this._app.display.offset.y-=e;break;case 39:t.preventDefault(),this._app.display.offset.x+=e;break;case 40:t.preventDefault(),this._app.display.offset.y+=e}var n=this._app.display;this._app.display.offset=new m.default(Object(w.b)(n.offset.x,-n.zoomBounds.min.x,n.canvasLayout.naturalSize.x-n.zoomBounds.max.x),Object(w.b)(n.offset.y,-n.zoomBounds.min.y,n.canvasLayout.naturalSize.y-n.zoomBounds.max.y)),this._app.display.renderImageData()}}},81:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return h}));var r=n(75);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(t){return Math.atan2(t.y,t.x)+Math.PI}function l(t){var e=window.getComputedStyle(t).transform,n=new DOMMatrix(e);return Math.atan2(n.b,n.a)}function h(t,e){var n=Math.cos(e)*t.x-Math.sin(e)*t.y,c=Math.sin(e)*t.x+Math.cos(e)*t.y;return new r.c(n,c)}}}]);
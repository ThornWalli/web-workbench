(window.webpackJsonp=window.webpackJsonp||[]).push([[23,43],{105:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var r=n(71);class l extends r.b{}},146:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(191),l=new(n(190).a)(r.a)},183:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return x}));var r=n(78),l=n(89),o=n(146);n(111),n(224),n(169);n(159);n(196),l.a,l.a,l.a,l.a;var h={leading:!0,trailing:!1};var c=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,source){return source.subscribe(new d(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),d=function(t){function e(e,n,r,l,o){var h=t.call(this,e)||this;return h.duration=n,h.scheduler=r,h.leading=l,h.trailing=o,h._hasTrailingValue=!1,h._trailingValue=null,h}return r.__extends(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(f,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(l.a);function f(t){t.subscriber.clearThrottle()}var v=n(105),y=n(77),_=n(82);class x{constructor(t){this.subscriptions=[],this._app=t}register(){var t,e,n;this.subscriptions.push(_.a.keydown.pipe((t=200,void 0===e&&(e=o.a),void 0===n&&(n=h),function(source){return source.lift(new c(t,e,n.leading,n.trailing))})).subscribe(w.bind(this)),_.a.keyup.subscribe(m.bind(this)))}unregister(){this.subscriptions.forEach(t=>t.unsubscribe())}registerDisplay(t){}unregisterDisplay(t){}}function m(t){switch(t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!1;break;case 18:t.preventDefault(),this.holdAlt=!1}}function w(t){if(this._app.display){var e=1;switch(this.holdAlt&&(e*=10),t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!0;break;case 18:t.preventDefault(),this.holdAlt=!0;break;case 37:t.preventDefault(),this._app.display.offset.x-=e;break;case 38:t.preventDefault(),this._app.display.offset.y-=e;break;case 39:t.preventDefault(),this._app.display.offset.x+=e;break;case 40:t.preventDefault(),this._app.display.offset.y+=e}var n=this._app.display;this._app.display.offset=new v.default(Object(y.b)(n.offset.x,-n.zoomBounds.min.x,n.canvasLayout.naturalSize.x-n.zoomBounds.max.x),Object(y.b)(n.offset.y,-n.zoomBounds.min.y,n.canvasLayout.naturalSize.y-n.zoomBounds.max.y)),this._app.display.renderImageData()}}},77:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return c}));var r=n(71);function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(t){return Math.atan2(t.y,t.x)+Math.PI}function h(t){var e=window.getComputedStyle(t).transform,n=new DOMMatrix(e);return Math.atan2(n.b,n.a)}function c(t,e){var n=Math.cos(e)*t.x-Math.sin(e)*t.y,l=Math.sin(e)*t.x+Math.cos(e)*t.y;return new r.c(n,l)}}}]);
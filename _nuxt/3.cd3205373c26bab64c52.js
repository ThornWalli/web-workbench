(window.webpackJsonp=window.webpackJsonp||[]).push([[3,40],{331:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return y}));var o=n(278),r=function(t){function e(e,n){return t.call(this)||this}return Object(o.e)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(352).b),c={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=c.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,Object(o.h)([],Object(o.g)(t)))},clearInterval:function(t){var e=c.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},h=n(355),l=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.pending=!1,o}return Object(o.e)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),c.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;c.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,o=!1;try{this.work(t)}catch(t){o=!0,n=t||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,o=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Object(h.a)(o,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(r),f=n(373),d=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=f.a.now,t}(),v=new(function(t){function e(e,n){void 0===n&&(n=d.now);var o=t.call(this,e,n)||this;return o.actions=[],o._active=!1,o._scheduled=void 0,o}return Object(o.e)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(d))(l),y=v},357:function(t,e,n){"use strict";n.r(e),n.d(e,"DISPLAY_SPLIT_VALUES",(function(){return x})),n.d(e,"default",(function(){return A}));var o=n(134),r=n(135),c=n(273),h=n(274),l=(n(28),n(340),n(192),n(40),n(275),n(614)),f=n(272),d=n(474),v=n(326),y=n(329),O=n(284),j=n(448),m=n(441),k=n(482),w=n(333),z=n(390),x={FULL:0,HALF:1,THIRD:2,QUARTER:3},D=Object(h.a)("globalBounds"),C=Object(h.a)("density"),S=Object(h.a)("canvas"),P=Object(h.a)("inputs"),A=function(){function t(e){Object(o.a)(this,t),this.events=new l.a,Object.defineProperty(this,D,{writable:!0,value:void 0}),this.fsItem=void 0,this.options={size:{width:300,height:200},display:{foreground:"#FFFFFF",background:"#000000"}},Object.defineProperty(this,C,{writable:!0,value:1}),this.displaySplit=x.FULL,this.displays=[],this.displaysEl=void 0,this.displaysLayout={size:Object(f.e)()},this.display=void 0,Object.defineProperty(this,S,{writable:!0,value:void 0}),this.primaryColor=void 0,this.secondaryColor=void 0,Object.defineProperty(this,P,{writable:!0,value:void 0}),this.brush=void 0,this.brushSelect={size:1,index:0},this.colorSelect={index:0,primaryColor:new O.default(O.default.COLOR_BLACK),secondaryColor:new O.default(O.default.COLOR_WHITE),paletteSteps:new O.default(2,1,1)},this.tool=void 0,this.toolSelect={value:"",index:1,filled:!1},this.cursorCanvas=null,Object(c.a)(this,D)[D]=e,Object(c.a)(this,S)[S]=new y.default(this),this.primaryColor=this.colorSelect.primaryColor,this.secondaryColor=this.colorSelect.secondaryColor,this.setBrush(this.brushSelect),this.setTool(this.toolSelect),this.subscriptions=[d.a.resize.subscribe(this.onViewportRefresh.bind(this))],Object(c.a)(this,P)[P]={keyboard:new j.default(this),mouse:new m.default(this)},Object.values(Object(c.a)(this,P)[P]).forEach((function(input){input.register()}))}return Object(r.a)(t,[{key:"setDisplaysElement",value:function(t){this.displaysEl=t}},{key:"refresh",value:function(){this.displaysLayout={size:Object(f.e)(this.displaysEl.offsetWidth,this.displaysEl.offsetHeight)},this.refreshDisplayPositions(),this.refreshDisplays()}},{key:"setDisplay",value:function(t){this.display&&this.display.hideCursor(),this.display=t,this.display.showCursor()}},{key:"updateGlobalBounds",value:function(t){Object(c.a)(this,D)[D]=t}},{key:"reset",value:function(){this.canvas.clearStack(),this.displays.forEach((function(t){return t.reset()}))}},{key:"destroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}},{key:"refreshDisplays",value:function(){this.displays.forEach((function(t){t.refresh()}))}},{key:"onViewportRefresh",value:function(){this.refreshDisplays()}},{key:"addDisplay",value:function(t){return t=t||new z.default(this),this.displays.push(t),t.app=this,this.events.next(new v.a("addDisplay",t,this)),this.canvas.render(),t}},{key:"clearDisplays",value:function(){var t=this;this.displays.forEach((function(e){e.destroy(),t.events.next(new v.a("removeDisplay",e,t))})),this.displays=[]}},{key:"getDisplay",value:function(t){return this.displays.find((function(e){return e.id===t&&e}))}},{key:"inputs",get:function(){return Object(c.a)(this,P)[P]}},{key:"globalBounds",get:function(){return Object(c.a)(this,D)[D]}},{key:"canvas",get:function(){return Object(c.a)(this,S)[S]}},{key:"density",get:function(){return Object(c.a)(this,C)[C]},set:function(t){Object(c.a)(this,C)[C]=t}},{key:"setBrush",value:function(t){var e=t.index,n=t.size;this.brush=new(Object(w.getBrushByIndex)(e))({app:this,size:n}),this.tool&&(this.tool.brush=this.brush),this.events.next(new v.a("change:brush",this.brush,this))}},{key:"setBrushSize",value:function(t){this.brush.size=t}},{key:"setTool",value:function(t){var e=t.index,n=new(Object(k.getToolByIndex)(e))({app:this,brush:this.brush});this.tool=n,this.tool.onActive(),this.events.next(new v.a("change:tool",this.tool,this))}},{key:"paletteSteps",get:function(){return this.colorSelect.paletteSteps},set:function(t){this.colorSelect.paletteSteps=t}},{key:"refreshDisplayPositions",value:function(){var t=this,e=this.displaysLayout.size.x,n=this.displaysLayout.size.y,o=[[[1,1]],[[.5,1],[.5,1]],[[1,.5],[1,.5]],[[1,.5],[.5,.5],[.5,.5]],[[.5,.5],[.5,.5],[1,.5]],[[.5,.5],[.5,.5],[.5,.5],[.5,.5]]].filter((function(e){return e.length===t.displays.length&&e}));o=o[0],this.displays.forEach((function(t,i){t.setSize(Object(f.f)(Math.floor(e*o[Number(i)][0]),Math.floor(n*o[Number(i)][1]))),o[Number(i)][0],o[Number(i)][1]}))}}]),t}()},390:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return A}));var o=n(19),r=n(134),c=n(135),h=n(273),l=n(274),f=(n(28),n(340),n(938)),d=n(614),v=n(272),y=n(326),O=n(329),j=n(284),m=n(314),k=Object(l.a)("id"),w=Object(l.a)("bounds"),z=Object(l.a)("cropBounds"),x=Object(l.a)("imageData"),D=Object(l.a)("tmpImageData"),C=Object(l.a)("el"),S=Object(l.a)("canvas"),P=Object(l.a)("context"),A=function(){function e(t){Object(r.a)(this,e),Object.defineProperty(this,k,{writable:!0,value:Object(f.a)()}),this.events=new d.a,Object.defineProperty(this,w,{writable:!0,value:new m.default}),this.size=Object(v.e)(),this.canvasLayout={size:Object(v.e)(),naturalSize:Object(v.e)(),position:Object(v.e)()},Object.defineProperty(this,z,{writable:!0,value:new m.default}),Object.defineProperty(this,x,{writable:!0,value:null}),Object.defineProperty(this,D,{writable:!0,value:null}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),this.zoomFactor=1,this.zoomPosition=Object(v.e)(.5,.5),this.zoomBounds=new m.default,this.offset=Object(v.f)(),this.cursorVisible=!1,this.app=t,this.cursorColor=new j.default(j.default.COLOR_BLACK),this.resetZoom()}return Object(c.a)(e,[{key:"showCursor",value:function(){this.cursorVisible=!0}},{key:"hideCursor",value:function(){this.cursorVisible=!1,this.renderImageData()}},{key:"setElement",value:function(element){Object(h.a)(this,C)[C]=element}},{key:"setCanvas",value:function(canvas){var t=this;Object(h.a)(this,S)[S]=canvas,Object(h.a)(this,P)[P]=canvas.getContext("2d"),Object.values(this.app.inputs).forEach((function(input){input.registerDisplay(t)}))}},{key:"destroy",value:function(){var t=this;this.events.next(new y.a("destroy")),Object.values(this.app.inputs).forEach((function(input){input.unregisterDisplay(t)}))}},{key:"canvas",get:function(){return Object(h.a)(this,S)[S]}},{key:"id",get:function(){return Object(h.a)(this,k)[k]}},{key:"bounds",get:function(){return Object(h.a)(this,w)[w]}},{key:"imageData",get:function(){return Object(h.a)(this,x)[x]},set:function(t){Object(h.a)(this,D)[D]=Object(h.a)(this,x)[x]=t,this.maxZoomFactor=20,this.zoomBounds=this.calculateZoomBounds(this.zoomPosition,this.zoomFactor),this.renderImageData()}},{key:"canvasSize",get:function(){return Object(v.e)(Object(h.a)(this,S)[S].width,Object(h.a)(this,S)[S].height)}},{key:"naturalSize",get:function(){return Object(v.e)(Object(h.a)(this,S)[S].width,Object(h.a)(this,S)[S].height)}},{key:"naturalWidth",get:function(){return Object(h.a)(this,x)[x].width}},{key:"naturalHeight",get:function(){return Object(h.a)(this,x)[x].height}},{key:"width",get:function(){return this.zoomBounds.max.x-this.zoomBounds.min.x}},{key:"height",get:function(){return this.zoomBounds.max.y-this.zoomBounds.min.y}},{key:"zoomFactorWidth",get:function(){return Object(h.a)(this,S)[S].width/this.zoomFactor}},{key:"setSize",value:function(t,e){var n;n="object"===Object(o.a)(t)?t:Object(v.e)(t,e),this.size=n,this.events.next(new y.a("change:size",n)),this.canvasAdjustment()}},{key:"canvasAdjustment",value:function(){var t=this;this.canvasLayout.size=Object(v.e)((function(){return Math.min(Math.max(t.app.canvas.size*t.zoomFactor,0),t.size)})),this.canvasLayout.naturalSize=this.app.canvas.size,this.canvasLayout.position=Object(v.e)(0,0)}},{key:"setZoom",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(v.e)();(n=Math.min(n,this.maxZoomFactor))>=0&&(this.zoomFactor=n,this.canvasAdjustment(),this.zoomPosition=Object(v.e)((function(){return o/e.canvasLayout.naturalSize})),this.zoomBounds=this.calculateZoomBounds(this.zoomPosition,this.zoomFactor),this.resetOffset(),t.requestAnimationFrame((function(){e.renderImageData(),e.events.next(new y.a("change:zoomFactor",n))})))}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(v.e)();this.zoomFactor+t>=0&&this.setZoom(this.zoomFactor+t,e)}},{key:"renderImageData",value:function(){var t=this;Object(h.a)(this,D)[D]=Object(h.a)(this,x)[x];var e=Object(v.e)((function(){return t.zoomBounds.max-t.zoomBounds.min})),n=Object(v.e)((function(){return Object(v.e)(t.offset)+t.zoomBounds.min}));Object(h.a)(this,D)[D]=O.default.cropImageData(Object(h.a)(this,D)[D],n.x,n.y,e.x,e.y),Object(h.a)(this,D)[D]=O.default.resizeImageData(Object(h.a)(this,D)[D],this.zoomFactor),this.renderCanvas()}},{key:"cursorColor",get:function(){return this._cursorColor},set:function(t){this._cursorColorRGBA=t.toRGBA(),this._cursorColor=t}},{key:"renderCanvas",value:function(){Object(h.a)(this,D)[D]&&(Object(h.a)(this,P)[P].putImageData(Object(h.a)(this,D)[D],-this.offset.x,-this.offset.y),this.renderRaster())}},{key:"reset",value:function(){this.resetZoom(),this.resetOffset(),this.renderCanvas()}},{key:"resetOffset",value:function(){this.offset=Object(v.f)(0,0)}},{key:"resetZoom",value:function(){Object(h.a)(this,x)[x]&&this.setZoom(1)}},{key:"renderRaster",value:function(){var t=this,e=[];this.zoomFactor>this.maxZoomFactor-3&&e.push({size:Object(v.e)(1,1),width:1,color:"#CCCCCC"});var n=Object(h.a)(this,P)[P];n.globalCompositeOperation="destination-over",e.forEach((function(e){var o=Object(v.e)((function(){return t.canvasLayout.naturalSize/e.size}));n.lineWidth=e.width,n.beginPath();for(var r=0;r<o.x+1;r++){var c=Math.floor(r*e.size.x*t.zoomFactor)+e.width/2;n.moveTo(c,0),n.lineTo(c,Object(h.a)(t,S)[S].height);for(var l=0;l<o.y+1;l++){var f=Math.floor(l*e.size.y*t.zoomFactor)+e.width/2;n.moveTo(0,f),n.lineTo(Object(h.a)(t,S)[S].width,f)}}n.strokeStyle=e.color,n.stroke()}))}},{key:"refresh",value:function(){var rect={left:Object(h.a)(this,S)[S].offsetLeft+Object(h.a)(this,C)[C].offsetLeft,top:Object(h.a)(this,S)[S].offsetTop+Object(h.a)(this,C)[C].offsetTop,width:Object(h.a)(this,S)[S].offsetWidth,height:Object(h.a)(this,S)[S].offsetHeight};Object(h.a)(this,w)[w]=new m.default(Object(v.e)(rect.left,rect.top),Object(v.e)(rect.left+rect.width,rect.top+rect.height)),Object(h.a)(this,x)[x]&&this.renderImageData()}},{key:"setOffset",value:function(t){this.offset=Object(v.f)(t.x,t.y)}},{key:"calculateZoomBounds",value:function(t,e){var n=this;e=e||1;var o=this.app.canvas.size;t=Object(v.e)((function(){return Math.floor(t*o)}));var r=Object(v.e)((function(){return n.size/o})),c=Object(v.e)((function(){return Math.ceil(Math.min(r/e*o,o))})),h=Object(v.e)((function(){return Math.min(Math.max(t-Math.ceil(c/2),0),o-c)})),l=Object(v.e)((function(){return h+c}));return new m.default(h,l)}}]),e}()}.call(this,n(38))},441:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return f}));var o,r=n(134),c=n(135),h=(n(288),n(12),n(22),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(24),n(28),n(40),n(73),n(272)),l=n(283),f=function(){function t(e){Object(r.a)(this,t),this.subscriptions=[],this.displaySubscriptions=new Map,this.runSubscriptions=[],this._app=e,this._pressed=!1}return Object(c.a)(t,[{key:"registerDisplay",value:function(t){this.displaySubscriptions.set(t,[l.a.get("mousedown",t.canvas).subscribe(this.onPointerDown(t).bind(this)),l.a.get("mouseenter",t.canvas).subscribe(this.onPointerEnter(t).bind(this))])}},{key:"unregisterDisplay",value:function(t){this.displaySubscriptions.has(t)&&(this.displaySubscriptions.get(t).forEach((function(t){return t.unsubscribe()})),this.displaySubscriptions.delete(t))}},{key:"register",value:function(){}},{key:"unregister",value:function(){}},{key:"onContextMenu",value:function(t){var e=this;return function(n){e.runActionResult(m.bind(e)(n,t))}}},{key:"onPointerEnter",value:function(t){var e=this;return function(n){e.app.setDisplay(t);var o=l.a.get("mouseleave",n.target).subscribe((function(n){o.unsubscribe(),e.onPointerLeave(t)(n)}))}}},{key:"onPointerLeave",value:function(t){return function(t){}}},{key:"onPointerDown",value:function(t){var e=this;return function(n){e.app.setDisplay(t),e._pointerEvent=v.bind(e)(n,t),e._pressed=!0,e.runActionResult(y.bind(e)(n,t),n,t),e.app.display.renderCanvas()}}},{key:"onPointerLeaveAndUp",value:function(t){var e=this;return function(n){d(),e.runActionResult(O.bind(e)(n,t))}}},{key:"onPointerMove",value:function(t){var e=this;return function(n){e.runActionResult(j.bind(e)(n,t))}}},{key:"app",get:function(){return this._app}},{key:"pressed",get:function(){return this._pressed}},{key:"runActionResult",value:function(t,e,n){t&&(t.events&&(this.runSubscriptions=[l.a.get("contextmenu",e.target).subscribe(this.onContextMenu(n).bind(this)),l.a.get("mouseleave",e.target).subscribe(this.onPointerLeaveAndUp(n).bind(this)),l.a.get("mousemove",e.target).subscribe(this.onPointerMove(n).bind(this)),l.a.get("mouseup",e.target).subscribe(this.onPointerLeaveAndUp(n).bind(this))]),t.save&&this.app.canvas.saveStack(),t.revert&&this.app.canvas.revertStack(),t.render&&this.app.canvas.render())}},{key:"unsubscribeRun",value:function(){this.runSubscriptions.filter((function(t){return!t.unsubscribe()}))}}]),t}();function d(){t.clearInterval(o),o=null}function v(t,e){var n=this,o=e.canvasLayout,r=Object(h.e)(t.clientX-e.bounds.min.x,t.clientY-e.bounds.min.y),c=Object(h.e)((function(){return r-o.position}));this.app.globalBounds&&(console.log(this.app.globalBounds.min.toString()),r=Object(h.e)((function(){return r-n.app.globalBounds.min})),c=Object(h.e)((function(){return c-n.app.globalBounds.min})));var f=Object(h.e)((function(){return Math.round(c)})),d=Object(h.e)((function(){return Math.round(c/e.zoomFactor+e.zoomBounds.min)}));return{position:d,origin:f,app:this.app,x:d.x,y:d.y,originX:f.x,originY:f.y,leftClick:2!==t.button,rightClick:2===t.button,holdAlt:l.a.altActive,holdCtrl:l.a.cmdActive}}function y(){var e,n=this,r={events:!0};return this.app.tool.pointerDownHold?(e=function(){n.runActionResult(n.app.tool.onPointerDown(n._pointerEvent,n)),n.app.canvas.render()},d(),o=t.setInterval(e,20),r):Object.assign(r,this.app.tool.onPointerDown(this._pointerEvent,this))}function O(t,e){return this._pressed=!1,this._pointerEvent=null,this.unsubscribeRun(),this.app.tool.onPointerUp(v.bind(this)(t,e),this)}function j(t,e){return this._pointerEvent=v.bind(this)(t,e),this.app.tool.onPointerMove(this._pointerEvent,this)}function m(t,e){return t.preventDefault(),t.stopPropagation(),this.app.tool.onContextMenu(v.bind(this)(t,e),this)}}.call(this,n(38))},448:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return z}));var o=n(134),r=n(135),c=(n(28),n(331)),h=n(313),l=n(319),f=n(339),d={leading:!0,trailing:!1};var v=n(335),y=n(312);function O(t,e,n){void 0===t&&(t=0),void 0===n&&(n=c.a);var o,r=-1;return null!=e&&((o=e)&&Object(y.a)(o.schedule)?n=e:r=e),new v.a((function(e){var o=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);var c=0;return n.schedule((function(){e.closed||(e.next(c++),0<=r?this.schedule(void 0,r):e.complete())}),o)}))}function j(t,e,n){void 0===e&&(e=c.b),void 0===n&&(n=d);var o,r,v,y,j,m=O(t,e);return o=function(){return m},y=(v=void 0===(r=n)?d:r).leading,j=v.trailing,Object(h.a)((function(source,t){var e=!1,n=null,r=null,c=!1,h=function(){null==r||r.unsubscribe(),r=null,j&&(O(),c&&t.complete())},d=function(){r=null,c&&t.complete()},v=function(e){return r=Object(f.a)(o(e)).subscribe(new l.a(t,h,d))},O=function(){if(e){e=!1;var o=n;n=null,t.next(o),!c&&v(o)}};source.subscribe(new l.a(t,(function(t){e=!0,n=t,(!r||r.closed)&&(y?O():v(t))}),(function(){c=!0,(!(j&&e&&r)||r.closed)&&t.complete()})))}))}var m=n(310),k=n(283),w=n(332),z=function(){function t(e){Object(o.a)(this,t),this.subscriptions=[],this._app=e}return Object(r.a)(t,[{key:"register",value:function(){this.subscriptions.push(k.a.keydown.pipe(j(200)).subscribe(D.bind(this)),k.a.keyup.subscribe(x.bind(this)))}},{key:"unregister",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}},{key:"registerDisplay",value:function(t){}},{key:"unregisterDisplay",value:function(t){}}]),t}();function x(t){switch(t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!1;break;case 18:t.preventDefault(),this.holdAlt=!1}}function D(t){if(this._app.display){var e=1;switch(this.holdAlt&&(e*=10),t.keyCode){case 17:t.preventDefault(),this.holdCrtl=!0;break;case 18:t.preventDefault(),this.holdAlt=!0;break;case 37:t.preventDefault(),this._app.display.offset.x-=e;break;case 38:t.preventDefault(),this._app.display.offset.y-=e;break;case 39:t.preventDefault(),this._app.display.offset.x+=e;break;case 40:t.preventDefault(),this._app.display.offset.y+=e}var n=this._app.display;this._app.display.offset=new w.default(Object(m.b)(n.offset.x,-n.zoomBounds.min.x,n.canvasLayout.naturalSize.x-n.zoomBounds.max.x),Object(m.b)(n.offset.y,-n.zoomBounds.min.y,n.canvasLayout.naturalSize.y-n.zoomBounds.max.y)),this._app.display.renderImageData()}}},474:function(t,e,n){"use strict";(function(t){var o,r=n(134),c=n(135),h=n(273),l=n(274),f=n(272),d=n(934),v=Object(l.a)("resize"),y=function(){function e(){Object(r.a)(this,e),this.screenSize=Object(f.e)(0,0),Object.defineProperty(this,v,{writable:!0,value:new d.a(0)}),t.addEventListener("resize",this.onResize.bind(this),!1)}return Object(c.a)(e,[{key:"destroy",value:function(){t.removeEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){this.screenSize=Object(f.e)(window.innerWidth,window.innerHeight)}},{key:"getElementSize",value:function(t){return Object(f.e)(t.offsetWidth,t.offsetHeight)}},{key:"resize",get:function(){return Object(h.a)(this,v)[v]}}]),e}();e.a=o||(o=new y)}).call(this,n(38))}}]);
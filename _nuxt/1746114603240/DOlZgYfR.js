const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bv_yYjcd.js","./DHk24l9J.js","./BRP7lMhW.js","./BOXo5Fuj.css","./YcwuoW3W.js","./CnnF2WpI.js","./BL9b5cpI.js","./L24w7Tb1.js","./DMqoVgoU.js","./CXbNF4JJ.css","./DYHHCWM9.js","./BGIFtisS.js","./Dl0mv460.css"])))=>i.map(i=>d[i]);
import{A as b}from"./DHk24l9J.js";import{s as N}from"./DYHHCWM9.js";import{t as c,v as s,x as a,H as R,d as V,r as v,j as P,a0 as k,o as A,C as I,F as d,z as h,y as j,D as m,X as Y,_ as $}from"./BRP7lMhW.js";import{u as B}from"./YcwuoW3W.js";import{d as L,M as U,m as X,h as K,n as W,l as q,g as H,F as G,j as T}from"./BL9b5cpI.js";const Z={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14"};function J(i,e){return s(),c("svg",Z,e[0]||(e[0]=[a("path",{fill:"#05a",d:"M0 0h12v14H0z"},null,-1),a("path",{fill:"#fff",d:"M0 2v2h1v2h2v2h1v2h2v2h1v2h3V2z"},null,-1)]))}const z={render:J},Q={xmlns:"http://www.w3.org/2000/svg",width:"11",height:"18"};function ee(i,e){return s(),c("svg",Q,e[0]||(e[0]=[a("path",{d:"M6 2h1v2H6zM7 4h1v2H7zM5 0h1v2H5zM4 2h1v2H4zM7 16H4v-4H3v6h5v-6H7zM8 6h1v2H8zM10 10V8H9v2H8v2h3v-2zM2 10V8H1v2H0v2h3v-2zM3 4h1v2H3zM2 6h1v2H2z"},null,-1)]))}const D={render:ee},te=L(({core:i,model:e})=>{return[{title:"Document Reader",items:[{title:"Openâ€¦",hotKey:"O",keyCode:79,action:l},{type:U.SEPARATOR},{hotKey:"I",keyCode:73,title:"Info",action:f}]},{title:"Font Family",items:Object.values(K).map(n=>{const r=G[n];return{title:q[n],items:W(r,e.value)}})},{title:"Font Size",items:X(e.value)}];async function l(){const n=await i.executeCommand("openFileDialog");if(n)if("content"in n.value)e.fsItem=n.fsItem,e.value=Object.assign(e.value,H(),n.value);else throw new Error("Can't read file content")}async function f(){var r;const n=await R(()=>import("./Bv_yYjcd.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url).then(t=>t.default);(r=i.modules.windows)==null||r.addWindow({component:n,componentData:{model:e},options:{title:"Info",scaleX:!1,scaleY:!1,prompt:!1,scrollX:!1,scrollY:!1}},{group:"workbench13DocumentReader"})}}),ne={class:"content"},oe={class:"pagination"},ae=V({__name:"DocumentReader",props:{model:{type:Object,default(){return{fsItem:null,value:H()}}}},setup(i){const e=v(null),l=i,{setContextMenu:f,...n}=B();f(te,{model:l.model});const r=v([]),t=v(0);let p;const w=v(0),F=P(()=>{const o=l.model.value[T.FONT_FAMILY];return{"--scroll-bar-size":`${N.size}`,"--font-size-markdown":`${l.model.value[T.FONT_SIZE]}`,"--font-markdown-typo-headline-primary":o,"--font-markdown-typo-headline-secondary":o,"--font-markdown-typo-text":o,"--font-markdown-typo-code":o,"--font-markdown-typo-blockquote":o}}),S=P(()=>r.value[t.value]);k(()=>t.value,()=>{e.value&&(e.value.scrollTop=0)}),k(()=>l.model,()=>{_()},{deep:!0}),A(()=>{_()});function _(){l.model.fsItem&&(n.window.value.options.title=l.model.fsItem.name+" - Document Reader");const u=l.model.value.content.split(/\[PAGE\][\n]+/);t.value=0,r.value=u}function g(){t.value=Math.max(t.value-1,0)}function E(){t.value=Math.min(t.value+1,r.value.length-1)}function x(){M(()=>{e.value&&(e.value.scrollTop=Math.max(e.value.scrollTop-20,0))})}function O(){M(()=>{e.value&&(e.value.scrollTop=Math.min(e.value.scrollTop+20,e.value.scrollHeight))})}function y(){window.clearInterval(p)}function M(o){window.clearInterval(p),p=window.setInterval(o,125)}function C(o){e.value&&(o.preventDefault(),w.value=e.value.scrollTop/(e.value.scrollHeight-e.value.offsetHeight))}return(o,u)=>(s(),c("div",{class:"wb-disks-workbench13-document-reader",style:Y(F.value)},[a("div",ne,[a("div",{ref_key:"scrollContainerEl",ref:e,class:"content-scroll",onScroll:C},[h(b,{content:S.value},null,8,["content"])],544)]),a("div",oe,[a("div",{class:"pagination-frame pagination-current",onPointerdown:g},[a("span",null,j(t.value+1),1)],32),w.value>0?(s(),c("div",{key:0,class:"pagination-frame pagination-scroll_up",onPointerdown:x,onPointerup:y},[a("i",null,[h(m(D))])],32)):d("",!0),u[0]||(u[0]=a("div",{class:"pagination-spacer"},null,-1)),w.value<1?(s(),c("div",{key:1,class:"pagination-frame pagination-scroll-down",onPointerdown:O,onPointerup:y},[a("i",null,[h(m(D))])],32)):d("",!0)]),t.value>0?(s(),I(m(z),{key:0,class:"corner corner_left",onPointerdown:g})):d("",!0),t.value<r.value.length-1?(s(),I(m(z),{key:1,class:"corner corner-right",onPointerdown:E})):d("",!0)],4))}}),le=$(ae,[["__scopeId","data-v-0e7b6e38"]]),ve=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{ve as D,te as c};

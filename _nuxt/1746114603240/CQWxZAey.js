import{W as E}from"./BV7m95iv.js";import{W as h}from"./DK5mOmiz.js";import{W as N}from"./LDaXBbxb.js";import{W as $}from"./BD-spFIS.js";import{W as j}from"./BDAkpjrJ.js";import{u as z}from"./YcwuoW3W.js";import{u as A}from"./BL9b5cpI.js";import{d as _}from"./DchX226r.js";import{d as D,r as y,j as r,t as K,v as W,z as a,A as C,C as L,F as M,L as F,D as I,K as R,_ as T}from"./BRP7lMhW.js";import"./B4g_dQXt.js";import"./CnnF2WpI.js";import"./L24w7Tb1.js";import"./DMqoVgoU.js";import"./BGIFtisS.js";import"./RAasLaaH.js";import"./D4lI5vpz.js";import"./DdQrQ7-5.js";import"./6C4StZv5.js";import"./CSlkdJUE.js";import"./CDSNOiTq.js";const U={class:"wb-module-files-open"},q=D({__name:"Open",props:{fsItem:{},model:{}},emits:["close"],setup(k,{emit:S}){var p,c,f,d;const{core:t}=A();if(!((p=t.value)!=null&&p.modules.files))throw new Error("Files module not found");z();const o=k,n=S,l=y({...o.model,path:((c=o.model)==null?void 0:c.path)||o.fsItem.getPath()}),i={cancel:"Cancel",open:"Open"},w=r(()=>({label:null,placeholder:"Pathâ€¦",modelValue:l.value.path})),x=r(()=>({name:"path",modelValue:l.value.path,"onUpdate:model-value":e=>{l.value.path=e},onSelect:g})),u=y(o.fsItem||((d=(f=t.value)==null?void 0:f.modules.files)==null?void 0:d.fs.root)),B=r(()=>u.value instanceof _),P=r(()=>{var e,m,s;return o.fsItem?o.fsItem:(m=(e=t.value)==null?void 0:e.modules.files)!=null&&m.fs.root?(s=t.value)==null?void 0:s.modules.files.fs.root:null}),g=e=>{u.value=R(e),e instanceof _&&(l.value.path=e.getPath())},V=()=>{n("close")},O=()=>{n("close",l.value.path)};return(e,m)=>(W(),K("div",U,[a(E,{onSubmit:O},{default:C(()=>{var s,v,b;return[a(j,F(w.value,{readonly:""}),null,16),(v=(s=I(t))==null?void 0:s.modules.files)!=null&&v.fileSystem?(W(),L($,F({key:0},x.value,{"file-system":(b=I(t))==null?void 0:b.modules.files.fileSystem,"fs-item":P.value}),null,16,["file-system","fs-item"])):M("",!0),a(N,{align:"outer",full:""},{default:C(()=>[a(h,{"style-type":"secondary",label:i.cancel,onClick:V},null,8,["label"]),a(h,{"style-type":"primary",label:i.open,type:"submit",disabled:B.value},null,8,["label","disabled"])]),_:1})]}),_:1})]))}}),fe=T(q,[["__scopeId","data-v-84feb38a"]]);export{fe as default};

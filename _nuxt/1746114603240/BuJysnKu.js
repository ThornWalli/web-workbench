const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D_FygAxh.js","./DHk24l9J.js","./BRP7lMhW.js","./BOXo5Fuj.css","./YcwuoW3W.js","./CnnF2WpI.js","./BL9b5cpI.js","./L24w7Tb1.js","./DMqoVgoU.js","./CXbNF4JJ.css","./BV7m95iv.js","./C3zvzGZe.css","./DK5mOmiz.js","./iKMg5t-_.css","./B4g_dQXt.js","./BSpeqbCM.css","./LDaXBbxb.js","./8q2Z1dNm.css","./Bp4DDqep.css","./UN8Bs3Qd.js","./BDAkpjrJ.js","./pCkh-wP3.css","./Ba9r8HTT.js","./D_5tq7_O.css","./Cs4_Bsct.css","./mb2PR_jo.js","./BHtqqubI.css"])))=>i.map(i=>d[i]);
import{W as y}from"./BV7m95iv.js";import{W as w}from"./DK5mOmiz.js";import{W as v}from"./B4g_dQXt.js";import{W as C}from"./LDaXBbxb.js";import{I as g,H as f,d as E,j as p,t as I,v as L,z as m,A as b,L as W,_ as k}from"./BRP7lMhW.js";import{d as D,M as P}from"./BL9b5cpI.js";import{u as M}from"./YcwuoW3W.js";const A=D(({core:t,model:e})=>[{title:"Cloud",items:[S(t,e),O(t,e),{type:P.SEPARATOR},x(t,e)]}]);function x(t,e){return{hotKey:"I",keyCode:73,title:"Info",async action(){var r;const s=await f(()=>import("./D_FygAxh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url).then(l=>l.default);(r=t.modules.windows)==null||r.addWindow({component:s,componentData:{model:e},options:{title:"Info",prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Cloud"})}}}function O(t,{items:e,actions:s}){return{title:"Login with…",async action(){var a;const r=g({}),l=await f(()=>import("./UN8Bs3Qd.js"),__vite__mapDeps([19,10,2,11,12,13,16,17,20,21,22,23,4,5,6,7,8,9,14,15,24]),import.meta.url).then(c=>c.default),i=(a=t.modules.windows)==null?void 0:a.addWindow({component:l,componentData:{items:e,model:r},options:{title:"Login with",prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Cloud"});return new Promise(c=>{i==null||i.events.subscribe(async({name:u,value:o})=>{if(u==="close"){if(o){const{email:n,password:d,storage:_}=o;try{if(!n||!d)throw new Error("Email and password are required");if(!_)throw new Error("Storage is required");await(s==null?void 0:s.login(n,d,_))}catch(h){debugger;alert(h)}}c()}})})}}}function S(t,{actions:e}){return{title:"Connect with…",async action(){var i;const s=g({id:void 0,url:void 0,apiKey:void 0}),r=await f(()=>import("./mb2PR_jo.js"),__vite__mapDeps([25,10,2,11,12,13,16,17,20,21,4,5,6,7,8,9,14,15,26]),import.meta.url).then(a=>a.default),l=(i=t.modules.windows)==null?void 0:i.addWindow({component:r,componentData:{model:s},options:{title:"Connect with",prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Cloud"});return new Promise(a=>{l==null||l.events.subscribe(async({name:c,value:u})=>{if(c==="close"){if(u){const{id:o,url:n,apiKey:d}=u;if(!o)throw new Error("ID is required");if(!n)throw new Error("URL is required");if(!d)throw new Error("API key is required");await(e==null?void 0:e.connect(o,d,n))}a()}})})}}}const T={class:"wb-disks-workbench13-cloud-connect"},Y="Disconnect",R="Logout",X=E({__name:"Cloud",props:{model:{},setId:{type:Function}},setup(t){const e=t,{setContextMenu:s}=M();s(A,{model:e.model});const r={title:"Mounted Storages:",name:"id",modelValue:e.model.id||"","onUpdate:model-value":o=>e.setId(o)},l=p(()=>{const o=e.model.items;return o.map(n=>{const d=n.isLogged();return{label:`${n.name} ${d?"LOGGED IN":""}`,value:n.id,isLogged:d,id:n.id}}).concat(Array(Math.max(3-o.length,0)).fill({label:null,disabled:!0}))}),i=p(()=>!e.model.id||e.model.items.length<1),a=p(()=>!l.value.find(o=>o.id===e.model.id&&o.isLogged)||e.model.items.length<1),c=()=>{var o;e.model.id&&((o=e.model.actions)==null||o.disconnect(e.model.id))},u=()=>{var o;e.model.id&&((o=e.model.actions)==null||o.logout(e.model.id))};return(o,n)=>(L(),I("div",T,[m(y,null,{default:b(()=>[m(v,W(r,{items:l.value}),null,16,["items"]),m(C,{align:"outer",full:""},{default:b(()=>[m(w,{"style-type":"secondary",label:Y,disabled:i.value,onClick:c},null,8,["disabled"]),m(w,{"style-type":"secondary",label:R,disabled:a.value,onClick:u},null,8,["disabled"])]),_:1})]),_:1})]))}}),q=k(X,[["__scopeId","data-v-13023028"]]),U=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{U as C,A as c};

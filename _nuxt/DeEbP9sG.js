import{n as a}from"./Ds4KxLLa.js";import{K as e}from"./B4rpyJsK.js";import{s}from"./CL1V9BUB.js";import{a as h,f}from"./KQEr41HO.js";class o{observers=new Map;capsLockActive=!1;shiftLeftActive=!1;shiftRightActive=!1;metaLeftActive=!1;metaRightActive=!1;ctrlLeftActive=!1;ctrlRightActive=!1;altLeftActive=!1;altRightActive=!1;pointerActive=!1;pointerDown;pointerUp;pointerMove;pointerCancel;keyDown;keyUp;keyPress;resize;constructor(){this.resize=this.get("resize",window).pipe(s()),this.pointerDown=this.get("pointerdown").pipe(h(t=>a(t))).pipe(s()),this.pointerUp=this.get("pointerup").pipe(h(t=>a(t))).pipe(s()),this.pointerMove=this.get("pointermove").pipe(h(t=>a(t))).pipe(s()),this.pointerCancel=this.get("pointercancel").pipe(h(t=>a(t)),s()),this.pointerDown?.subscribe(()=>{this.pointerActive=!0}),this.pointerUp?.subscribe(()=>{this.pointerActive=!1}),this.keyPress=this.get("keypress").pipe(s()),this.keyDown=this.get("keydown",void 0,{passive:!1,capture:!0}).pipe(s()),this.keyUp=this.get("keyup").pipe(s()),this.keyDown?.subscribe(({code:t})=>{switch(t){case e.CONTROL_LEFT:this.ctrlLeftActive=!0;break;case e.CONTROL_RIGHT:this.ctrlRightActive=!0;break;case e.META_LEFT:this.metaLeftActive=!0;break;case e.CONTEXT_MENU:this.metaRightActive=!0;break;case e.SHIFT_LEFT:this.shiftLeftActive=!0;break;case e.SHIFT_RIGHT:this.shiftRightActive=!0;break;case e.ALT_LEFT:this.altLeftActive=!0;break;case e.ALT_RIGHT:this.altRightActive=!0;break;case e.CAPS_LOCK:this.capsLockActive=!this.capsLockActive;break}}),this.keyUp?.subscribe(({code:t})=>{switch(t){case e.CONTROL_LEFT:this.ctrlLeftActive=!1;break;case e.CONTROL_RIGHT:this.ctrlRightActive=!1;break;case e.META_LEFT:this.metaLeftActive=!1;break;case e.CONTEXT_MENU:this.metaRightActive=!1;break;case e.SHIFT_LEFT:this.shiftLeftActive=!1;break;case e.SHIFT_RIGHT:this.shiftRightActive=!1;break;case e.ALT_LEFT:this.altLeftActive=!1;break;case e.ALT_RIGHT:this.altRightActive=!1;break}})}get(t,i,p={passive:!0,capture:!1}){i=i||document,this.observers.has(i)||this.observers.set(i,new Map);const r=this.observers.get(i);return r&&!r.has(t)&&r.set(t,f(i,t,p)),r.get(t)}reset(){this.observers.clear()}get metaActive(){return this.metaLeftActive||this.metaRightActive}get ctrlActive(){return this.ctrlLeftActive||this.ctrlRightActive}get altActive(){return this.altLeftActive||this.altRightActive}get shiftActive(){return this.shiftLeftActive||this.shiftRightActive}resolveHotKey(t,i){const p=typeof i=="string"?i:i.code,r=typeof i=="string"?i:i.key,c={alt:t.alt??!1,caps:t.caps??!1,ctrl:t.ctrl??!1,meta:t.meta??!1,shift:t.shift??!1,code:t.code,key:t.key};return![this.altActive===c.alt,this.capsLockActive===c.caps,this.ctrlActive===c.ctrl,this.metaActive===c.meta,this.shiftActive===c.shift,t.code?t.code===p:!0,t.key?t.key===r:!0].includes(!1)}}const g=new o;export{g as d};

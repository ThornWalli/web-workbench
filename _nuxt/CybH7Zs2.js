const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bk3HlLVR.js","./G8w6tKzW.js","./B-meQdOw.js","./Df_NAgJN.js","./BfpYGSxR.js","./D1WZfvAb.js","./jSR9Z_uS.js","./CXbNF4JJ.css","./BKiSbNd3.js","./C98WWl5r.js","./ChrLlhgG.js","./CrNGlbV0.js","./D7Us3e3D.js","./D6fwdpc8.js","./D3MPJlJW.js","./CV0dHcg-.js","./CIasQYz1.js","./Caivkp23.js","./pYkBOLof.js","./g1R7VqXM.js","./h2NMwnbH.js","./czE5BX5a.js","./GLWL0ZEA.js","./BB6FUOrg.js","./BlFo7Aw2.js","./BHmTNEz3.js","./BSzGBLGV.js","./D3xLGof4.js","./tbUmQ5LT.js","./BfgCdWpr.js","./Cy0zoxeo.js","./EG9l7Kw2.js","./mZmTw9Uu.js","./WshHVYtO.css","./Bx78nj95.js","./BteAwo4N.js","./BVLmgizW.js","./Ci-h6nfG.js","./CP7Nt6t8.css","./Dkhtr-D7.js","./DaFv7Vj_.css","./LjK_Sy-T.js","./B2YYxTED.js","./CYV3YR6m.css","./9of8rKKV.css","./DrLItpjK.js","./CVVDEXDJ.js","./DOimjV-o.js","./DdO-3S9B.js","./B1k18Rg6.js","./DL1FsYWj.js","./KaHav87i.js","./v8FPNFzi.js","./_Gu1jbKI.css","./dA2AK5Yb.js","./1lb2PcC0.css","./DAKnsb8o.js","./I81pZH22.js","./CY5IK1Gp.js","./C6O2x4J1.css","./NfkJK1zD.js","./Caob76XJ.js","./CiACgkXc.css","./BaKQTrNj.css","./CCb_UZyD.js","./Ds0RNTdN.js","./DRbwpbf_.css","./DA3uRPXj.js"])))=>i.map(i=>d[i]);
import{K as e,G as t,L as a}from"./BfpYGSxR.js";import{m as o,c as n,I as r,n as l,h as i,S as c}from"./D1WZfvAb.js";import{f as s}from"./BKiSbNd3.js";import{s as m}from"./C98WWl5r.js";var d=(e=>(e.NATURAL="natural",e.SHARP="sharp",e.DOUBLE_SHARP="doubleSharp",e.FLAT="flat",e.DOUBLE_FLAT="doubleFlat",e))(d||{}),p=(e=>(e.NATURAL="natural",e.SHARP="sharp",e.DOUBLE_SHARP="doubleSharp",e.FLAT="flat",e.DOUBLE_FLAT="doubleFlat",e))(p||{}),u=(e=>(e.ADD="add",e.REPLACE="replace",e))(u||{}),_=(e=>(e.LARGE="large",e.MEDIUM="medium",e.SMALL="small",e))(_||{}),S=(e=>(e.TOP="top",e.BOTTOM="bottom",e))(S||{}),E=(e=>(e.DEFAULT="default",e.ASCENDING="ascending",e.DESCENDING="descending",e.EQUAL="equal",e))(E||{}),T=(e=>(e.AM="AMSynth",e.DUO="DuoSynth",e.FM="FMSynth",e.MEMBRANE="MembraneSynth",e.METAL="MetalSynth",e.MONO="MonoSynth",e.PLUCK="PluckSynth",e.POLY="PolySynth",e.SYNTH="Synth",e))(T||{}),h=(e=>(e[e["2n"]=2]="2n",e[e["4n"]=4]="4n",e[e["8n"]=8]="8n",e[e["16n"]=16]="16n",e[e["32n"]=32]="32n",e[e["64n"]=64]="64n",e))(h||{});const R=Object.freeze({small:"Small",medium:"Medium",large:"Large"}),b=Object.freeze({top:"Top",bottom:"Bottom"});function renamingDialog(e,t,a=""){return e.executeCommand(`openDialog -title="${t}" -prompt -prompt-value="${a}" -apply="Save" -abort="Cancel"`)}function confirmDialog(e,t){return e.executeCommand(`openDialog "${t}" -confirm`)}async function getDefaultProject(){const[t,a]=await Promise.all([e(()=>import("./Bk3HlLVR.js").then(e=>e.d),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>e.default),e(()=>import("./Df_NAgJN.js"),__vite__mapDeps([3,0,1,2,4,5,6,7,8,9]),import.meta.url).then(e=>e.default)]);return new a({tracks:[new t({name:"Test",type:T.SYNTH,notes:[{note:{name:"c",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:0},{note:{name:"d",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.0625},{note:{name:"e",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.125},{note:{name:"f",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.1875},{note:{name:"g",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.25},{note:{name:"a",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.3125},{note:{name:"b",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.375},{note:{name:"c",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.4375},{note:{name:"d",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.5},{note:{name:"e",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.5625},{note:{name:"f",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.625},{note:{name:"g",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.6875},{note:{name:"a",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.75},{note:{name:"b",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.8125},{note:{name:"c",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.875},{note:{name:"d",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.9375},{note:{name:"e",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1},{note:{name:"f",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.0625},{note:{name:"g",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.125},{note:{name:"a",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.1875},{note:{name:"b",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.25},{note:{name:"c",octave:6,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.3125}],beatCount:2})]})}function getDefaultTrackModel(e){return{[o.SYNTHESIZER_TRACK]:e,[o.SYNTHESIZER_TRACK_KEYBOARD_ALIGN]:S.TOP,[o.SYNTHESIZER_TRACK_KEYBOARD_SIZE]:_.SMALL,[o.SYNTHESIZER_TRACK_SHOW_NOTE_LABELS]:!1,[o.SYNTHESIZER_TRACK_DURATION]:"2n",[o.SYNTHESIZER_TRACK_INPUT_OPERATION]:u.ADD,[o.SYNTHESIZER_TRACK_SHOW_KEYBOARD]:!0,[o.SYNTHESIZER_TRACK_INPUT_DOT]:!1,[o.SYNTHESIZER_TRACK_INPUT_TRIPLET]:!1,[o.SYNTHESIZER_TRACK_INPUT_MODIFICATION]:p.NATURAL,[o.SYNTHESIZER_TRACK_START_OCTAVE]:3,[o.SYNTHESIZER_TRACK_OCTAVE_COUNT]:2,[o.SYNTHESIZER_TRACK_INPUT]:"note",[o.SYNTHESIZER_TRACK_INPUT_NOTE]:""}}async function getDefaultModel(){return{[o.SYNTHESIZER_PROJECT]:await getDefaultProject(),[o.SYNTHESIZER_BPM]:120}}const f=n(()=>[{id:"Synthesizer.app",name:"Synthesizer",meta:[[r.SYMBOL,l.SYNTHESIZER],[r.POSITION,{x:10,y:5}],[r.IGNORE_SYMBOL_REARRANGE,!0]],createdDate:new Date(2023,8,4).getTime(),editedDate:new Date(2023,8,4).getTime(),action:async n=>{var r;let l,i,c,d,p;const[u,_,S]=await Promise.all([e(()=>import("./ChrLlhgG.js"),__vite__mapDeps([10,11,2,12,13,14,15,16,17]),import.meta.url).then(e=>e.default),e(()=>import("./Bk3HlLVR.js").then(e=>e.d),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>e.default),e(()=>import("./Df_NAgJN.js"),__vite__mapDeps([3,0,1,2,4,5,6,7,8,9]),import.meta.url).then(e=>e.default)]),E=new u;E.start();const T=t([]),h=a(await getDefaultModel()),R=null==(r=n.modules.windows)?void 0:r.addWindow({component:await e(()=>import("./pYkBOLof.js"),__vite__mapDeps([18,1,2,19,5,4,6,7,0,20,21,22,23,24,25,26,14,12,11,27,28,29,30,31,32,33,34,35,36,37,38,39,8,9,40]),import.meta.url).then(e=>e.default),componentData:{core:n,midiController:E,model:h},options:{title:"Synthesizer",scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!0,embed:!0,borderless:!0}},{group:"extras13Synthesizer",full:!0});null==R||R.awaitClose().then(()=>{null==l||l.close(),null==i||i.close(),null==c||c.close(),null==d||d.close(),null==p||p.close()}),h.actions={openInfo:()=>async function openInfo(t){if(l)return l;return l=n.modules.windows.addWindow({component:await e(()=>import("./LjK_Sy-T.js"),__vite__mapDeps([41,42,5,4,6,7,43,44]),import.meta.url).then(e=>e.default),componentData:{model:t},options:{title:"Info"}},{group:"extras13Synthesizer"}),l.awaitClose().then(()=>{l=void 0}),l}(h),removeTrack:async e=>{const t=await confirmDialog(n,`Remove Track \\"${e.name}\\" from Project??`);t&&(h[o.SYNTHESIZER_PROJECT].tracks=h[o.SYNTHESIZER_PROJECT].tracks.filter(t=>t!==e))},clearTracks:async()=>{const e=await confirmDialog(n,"Remove all Tracks from Project??");e&&(h[o.SYNTHESIZER_PROJECT].tracks=[])},newProject:async()=>{const e=new S,t=await renamingDialog(n,"New Project:",e.name);t&&(e.name=t,h[o.SYNTHESIZER_PROJECT]=e)},openProject:async()=>{const e=await n.executeCommand("openFileDialog");if(e){const t=new S(e.value);h[o.SYNTHESIZER_PROJECT]=t}},saveProject:async()=>{const e=await btoa(JSON.stringify(h[o.SYNTHESIZER_PROJECT])),t=await n.executeCommand(`saveFileDialog --data="${e}" --extension="json"`);return h.fsItem=t,t},importProject:async e=>{const t=new S(JSON.parse(await e.text()));h[o.SYNTHESIZER_PROJECT]=t},exportProject:async()=>{const t=await e(()=>import("./DrLItpjK.js").then(e=>e.F),__vite__mapDeps([45,46]),import.meta.url).then(e=>e.default);try{const e=h[o.SYNTHESIZER_PROJECT],a=new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"});await t.saveAs(a,`${s(new Date)}_${m(e.name)}.json`)}catch(a){console.error("An error occurred during export.",a)}},newTrack:async()=>{const e=new _,t=await renamingDialog(n,"New Track:",e.name);t&&(e.name=t,console.log(e),h[o.SYNTHESIZER_PROJECT].tracks.push(e))},editTrack:async function editTrack(t,a){return p=n.modules.windows.addWindow({parentWindow:R,component:await e(()=>import("./DOimjV-o.js"),__vite__mapDeps([47,19,5,4,6,7,48,49,25,30,16,2,17,11,12,14,50,28,51,52,29,23,53,39,54,1,0,55,10,13,15,31,32,33,20,21,22,24,26,27,34,35,36,37,38,56,57,58,8,9,59]),import.meta.url).then(e=>e.default),componentData:{parentWindow:R,model:h,trackModel:{...getDefaultTrackModel(t),...a}},options:{title:`Track: ${t.name}`,scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!1}},{group:"extras13Synthesizer",full:!0}),null==p||p.awaitClose().then(()=>{p=void 0}),{window:p,close:p.awaitClose().then(()=>new _(t)),ready:p.awaitReady()}},openDebugNotes:async function openDebugNotes(){return d=n.modules.windows.addWindow({parentWindow:R,component:await e(()=>import("./NfkJK1zD.js"),__vite__mapDeps([60,61,4,62,37,25,1,2,35,36,5,6,7,8,9,63]),import.meta.url).then(e=>e.default),componentData:{parentWindow:R},options:{title:"Debug Notes",scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0}),d.awaitClose().then(()=>{d=void 0}),d},openDebugMidi:async function openDebugMidi(){return c=n.modules.windows.addWindow({parentWindow:R,component:await e(()=>import("./CCb_UZyD.js"),__vite__mapDeps([64,31,1,2,32,4,33,54,25,0,55,48,49,30,16,17,11,12,14,50,28,10,13,15,34,35,36,37,38,27,39,5,6,7,8,9]),import.meta.url).then(e=>e.default),componentData:{midiController:E,parentWindow:R},options:{title:"Debug Midi",scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0}),c.awaitClose().then(()=>{c=void 0}),c},openDebugTimeline:async function openDebugTimeline(){return i=n.modules.windows.addWindow({parentWindow:R,component:await e(()=>import("./Ds0RNTdN.js"),__vite__mapDeps([65,61,4,62,0,1,2,34,25,35,36,37,38,5,6,7,8,9,66]),import.meta.url).then(e=>e.default),componentData:{midiController:E,parentWindow:R},options:{title:"Debug Timeline",scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0}),i.awaitClose().then(()=>{i=void 0}),i},closeTracks:()=>{T.forEach(e=>e.close())},close:()=>{T.forEach(e=>e.close()),null==R||R.close()},focus:()=>{null==R||R.focus()}}}}]);const w=i(async({core:t})=>{var a;const[o]=(await Promise.all([e(()=>import("./CGfyWgKK.js"),[],import.meta.url)])).map(e=>e.default||e);return null==(a=t.modules.symbols)||a.addSymbols([{key:l.SYNTHESIZER,component:await e(()=>import("./DA3uRPXj.js"),__vite__mapDeps([67,4]),import.meta.url).then(e=>e.default),group:"disk_synthesizer"}]),t.config.setDefaults({}),{meta:[[r.SYMBOL,c.DISK_2],[r.VISIBLE,!0]],name:"Synthesizer",items:[{id:"Readme.md",name:"Readme",data:{type:"markdown",content:o,fontSize:16},meta:[[r.POSITION,{x:90,y:5}],[r.IGNORE_SYMBOL_REARRANGE,!0],[r.SYMBOL,c.LARGE_NOTE_RICH]]},...await f({core:t})]}}),y=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"}));export{E as G,T as I,R as K,d as N,b as a,h as b,getDefaultModel as c,getDefaultTrackModel as g,y as i,renamingDialog as r};

import{I as et,i as c,o as Ne}from"./BGIFtisS.js";import{C as st,S as at,B as je,W as lt}from"./BozRQM_a.js";import{I as it,W as tt,a as vt,b as ct}from"./Cw6MfX_O.js";import{d as G}from"./B3mcEltb.js";import{T as ut}from"./BbB_XbY8.js";import{v as y,x as p,K as Oe,y as n,d as oe,r as d,k as h,o as Ee,Y as be,Z as ue,$ as he,D as te,P as We,_ as ne,M as Me,a0 as ot,a1 as nt,z as He,A as N,E as k,a2 as X,a3 as q,G as R,H as ye,a4 as ht,B as Ce,a5 as pt,a6 as dt,a7 as ft,S as le,N as xe,a8 as mt,W as wt,F as yt,C as gt,a9 as bt}from"./BHV1diwp.js";import{g as Je}from"./wjpmATP-.js";import{C as Te,P as zt}from"./DSfxGD0e.js";import{S as ge}from"./6C4StZv5.js";import{g as Mt,a as St,b as Ct,c as xt}from"./CVMiNqhH.js";import{g as Et,M as qe,s as Fe,n as $e,c as Vt}from"./DXnSAPcy.js";import{B as ce,C as se}from"./BJmh0rUk.js";import{u as Ye,C as Ke,N as Ht,W as kt}from"./Dhinf-AH.js";import{W as At}from"./sdO6LC0d.js";import{C as _t}from"./CxKYomUj.js";import{f as Se}from"./Cdv5LwuB.js";import{f as Xe}from"./CSlkdJUE.js";import Pt from"./adD07gLd.js";import{u as Tt}from"./CuqlnsaG.js";import{u as Wt,l as Ot,c as Lt,t as It}from"./CWN5VM96.js";import{u as Bt}from"./CEMoWgfm.js";import{f as Rt}from"./CdaKXK36.js";import"./DbWFYZes.js";import"./CI_-y7vV.js";import"./9V19AFUE.js";import"./Cpj98o6Y.js";import"./RAasLaaH.js";import"./D4lI5vpz.js";import"./DdQrQ7-5.js";import"./BYXSjlja.js";import"./DN3eHOnZ.js";import"./Ce6njBYG.js";import"./nufkX4jA.js";import"./D69hJOPr.js";import"./BlnwQcI7.js";import"./B5gsEXs2.js";import"./CGDfseBP.js";import"./YBsQ7fUL.js";import"./DG6QdPnO.js";import"./WL2z-xAH.js";const Nt="data:image/svg+xml,%3csvg%20class='wb_cursor_pointer'%20xmlns='http://www.w3.org/2000/svg'%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%3e%3cpath%20d='M0%2012h2v2h4v-2h2v2h2v2h2v2h2v2h2v2h2v-2h2v-2h2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h2V2h-2V0H0z'%20/%3e%3cpath%20fill='%23f00'%20d='M2%202v10h4v-2h2v2h2v2h2v2h2v2h2v2h2v-2h2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h2V2z'%20/%3e%3cpath%20fill='%23fff'%20d='M2%202v2h8v2H8v2h2v2h2v2h2v2h2v2h2v2h2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h2V2z'%20/%3e%3c/svg%3e",Ft={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 900 815"};function Dt(r,t){return p(),y("svg",Ft,t[0]||(t[0]=[Oe('<path d="M887 5H13c-4.4 0-8 3.6-8 8v764c0 4.4 3.6 8 8 8h874c4.4 0 8-3.6 8-8V13c0-4.4-3.6-8-8-8m-97 633s-170 15-340 15-340-15-340-15-10-134-10-268 10-268 10-268 170-15 340-15 340 15 340 15 10 134 10 268-10 268-10 268" style="fill:#aea59f;"></path><path d="M25 25v690h850V25zm765 613s-170 15-340 15-340-15-340-15-10-134-10-268 10-268 10-268 170-15 340-15 340 15 340 15 10 134 10 268-10 268-10 268" style="fill:#928c7f;"></path><path d="M35 35v670h830V35zm755 603s-170 15-340 15-340-15-340-15-10-134-10-268 10-268 10-268 170-15 340-15 340 15 340 15 10 134 10 268-10 268-10 268" style="fill:#837c72;"></path><path d="M813 72H87c-4.4 0-8 3.6-8 8v580c0 4.4 3.6 8 8 8h726c4.4 0 8-3.6 8-8V80c0-4.4-3.6-8-8-8m-23 566s-170 15-340 15-340-15-340-15-10-134-10-268 10-268 10-268 170-15 340-15 340 15 340 15 10 134 10 268-10 268-10 268" style="fill:#615a52;"></path><path d="M818.6 74.3 790 102s10 134 10 268-10 268-10 268l28.6 27.7c1.5-1.5 2.4-3.5 2.4-5.7V80c0-2.2-.9-4.2-2.4-5.7" style="opacity:.1;fill:#fff;"></path><path d="M110 102s170-15 340-15 340 15 340 15l28.6-27.7c-1.5-1.4-3.4-2.3-5.6-2.3H87c-2.2 0-4.2.9-5.6 2.3z" style="opacity:.2;"></path><path d="M81.4 665.7 110 638s-10-134-10-268 10-268 10-268L81.4 74.3C79.9 75.8 79 77.8 79 80v580c0 2.2.9 4.2 2.4 5.7" style="opacity:.1;"></path><path d="M790 638s-170 15-340 15-340-15-340-15l-28.6 27.7c1.4 1.4 3.4 2.3 5.6 2.3h726c2.2 0 4.2-.9 5.6-2.3z" style="opacity:.1;fill:#fff;"></path><linearGradient id="a" x1="670.572" x2="964.642" y1="283.613" y2="610.211" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop><stop offset="1" style="stop-color:#000;stop-opacity:.4;"></stop></linearGradient><path d="M818.6 74.3 790 102s10 134 10 268-10 268-10 268l28.6 27.7c1.5-1.5 2.4-3.5 2.4-5.7V80c0-2.2-.9-4.2-2.4-5.7" style="fill:url(#a);"></path><linearGradient id="b" x1="284.95" x2="615.999" y1="924.997" y2="557.329" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#000;stop-opacity:.4;"></stop><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop></linearGradient><path d="M110 102s170-15 340-15 340 15 340 15l28.6-27.7c-1.5-1.4-3.4-2.3-5.6-2.3H87c-2.2 0-4.2.9-5.6 2.3z" style="fill:url(#b);"></path><linearGradient id="c" x1="-66.233" x2="229.922" y1="297.922" y2="594.078" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#000;stop-opacity:.4;"></stop><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop></linearGradient><path d="M81.4 665.7 110 638s-10-134-10-268 10-268 10-268L81.4 74.3C79.9 75.8 79 77.8 79 80v580c0 2.2.9 4.2 2.4 5.7" style="fill:url(#c);"></path><linearGradient id="d" x1="265.69" x2="634.31" y1="334.62" y2="-34" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop><stop offset="1" style="stop-color:#000;stop-opacity:.4;"></stop></linearGradient><path d="M790 638s-170 15-340 15-340-15-340-15l-28.6 27.7c1.4 1.4 3.4 2.3 5.6 2.3h726c2.2 0 4.2-.9 5.6-2.3z" style="fill:url(#d);"></path><linearGradient id="e" x1="284.95" x2="615.999" y1="924.997" y2="557.329" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop><stop offset="1" style="stop-color:#000;stop-opacity:.4;"></stop></linearGradient><path d="M110 102s170-15 340-15 340 15 340 15l28.6-27.7c-1.5-1.4-3.4-2.3-5.6-2.3H87c-2.2 0-4.2.9-5.6 2.3z" style="fill:url(#e);"></path><linearGradient id="f" x1="670.572" x2="964.642" y1="283.613" y2="610.211" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#000;stop-opacity:.4;"></stop><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop></linearGradient><path d="M818.6 74.3 790 102s10 134 10 268-10 268-10 268l28.6 27.7c1.5-1.5 2.4-3.5 2.4-5.7V80c0-2.2-.9-4.2-2.4-5.7" style="fill:url(#f);"></path><linearGradient id="g" x1="265.69" x2="634.31" y1="334.62" y2="-34" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#000;stop-opacity:.4;"></stop><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop></linearGradient><path d="M790 638s-170 15-340 15-340-15-340-15l-28.6 27.7c1.4 1.4 3.4 2.3 5.6 2.3h726c2.2 0 4.2-.9 5.6-2.3z" style="fill:url(#g);"></path><linearGradient id="h" x1="-66.233" x2="229.922" y1="297.922" y2="594.078" gradientTransform="matrix(1 0 0 -1 0 816)" gradientUnits="userSpaceOnUse"><stop offset=".5" style="stop-color:#000;stop-opacity:0;"></stop><stop offset="1" style="stop-color:#000;stop-opacity:.4;"></stop></linearGradient><path d="M81.4 665.7 110 638s-10-134-10-268 10-268 10-268L81.4 74.3C79.9 75.8 79 77.8 79 80v580c0 2.2.9 4.2 2.4 5.7" style="fill:url(#h);"></path><path d="M70 785h760v25H70z" style="fill:#9d958a;"></path><path d="M887 5c4.4 0 8 3.6 8 8v764c0 4.4-3.6 8-8 8H13c-4.4 0-8-3.6-8-8V13c0-4.4 3.6-8 8-8zm0-5H13C5.8 0 0 5.8 0 13v764c0 7.2 5.8 13 13 13h874c7.2 0 13-5.8 13-13V13c0-7.2-5.8-13-13-13" style="fill:#7e776e;"></path><path d="M70 790h760v5H70z" style="opacity:.3;"></path><path d="M25 25h850v2H25zM33 33h834v2H33zM25 27h2v686h-2zM873 27h2v686h-2zM25 713h850v2H25zM33 705h834v2H33zM33 35h2v670h-2zM865 35h2v670h-2zM835 790h-5v20H70v-20H40v5h25v20h770v-20h25v-5zM343 715h2v70h-2z" style="opacity:.2;"></path><path d="M345 715h406v70H345zM753 715h66v70h-66z" style="opacity:.3;"></path><path d="M345 715v70h406v-70zm403 67H348v-64h400z" style="opacity:.1;"></path><path d="M343 713v74h410v-74zm408 72H345v-70h406z" style="fill:#757066;"></path><path d="M753 715v70h66v-70zm63 67h-60v-64h60z" style="opacity:.1;"></path><path d="M751 715h2v70h-2zM819 715h2v70h-2zM753 785h68v2h-68z" style="fill:#757066;"></path><path d="M751 713v74h70v-74zm68 72h-66v-70h66z" style="fill:#757066;"></path><path d="M25.3 738.9h133.6v31.2H25.3z" style="opacity:.2;fill:#fff;"></path><path d="M68.8 743.1c-.3.3-.6.6-.9.8h3.3l.2-.8zm15.7 0c-1.1 0-2.2.3-3.1.8h6.1c-.9-.5-1.9-.8-3-.8m17 0c-1.3 0-2.5.3-3.5.8h7.2c-1-.5-2.2-.8-3.7-.8m19.7.1-.6.7h4.2l.1-.7zM66.5 745c-.5.4-1 .8-1.5 1.1h5.8l.2-1.1zm13.3 0c-.1 0-.1.1 0 0-.4.4-.7.7-1 1.1h10.9c-.2-.4-.5-.7-.8-1l-.1-.1zm16.5 0c-.3.3-.7.7-.9 1.1h11.9c-.2-.4-.5-.8-.8-1.1zm23.4 0-1 1.1h5.6l.3-1.1zm-56.6 2.3c-.7.4-1.4.7-2.2 1.1h9.4l.2-1.1zm14.8 0c-.2.4-.4.7-.6 1.1h4.5c.1-.2.3-.5.4-.6.1-.2.3-.3.4-.5zm7.8 0q.15 0 0 0c.3.3.4.7.5 1.1h4.2c-.1-.4-.2-.8-.3-1.1zm9.2 0c-.1.4-.2.7-.3 1.1h4.1c.1-.4.3-.7.6-1l.1-.1zm8.3 0c.3.3.4.7.5 1.1h4.2c0-.4-.1-.8-.2-1.1zm14.6 0-1 1.1h7.1l.2-1.1zm-58 2.2-.3 1.1h5c.3-.2.7-.4 1-.6l-.1.6h4.4l.3-1.1zm17 0c-.2.3-.3.7-.4 1.1h4.5c.1-.4.3-.8.5-1.1zm9.6 0v.3c0 .2-.1.6-.1.8h4.4c0-.4 0-.8-.1-1.1zm8.2 0c0 .4.1.8.2 1.1h4c-.1-.3-.2-.7-.2-1.1zm9.2 0c-.1.4-.3.8-.6 1.1h4.2c.2-.4.3-.7.3-1.1zm12.1 0-.9 1.1h4.2l.2-.3-.1.3h4.1l.2-1.1zm-56.5 2.2-.2 1c.9-.2 1.9-.5 3-1zm5.8 0-.2 1.1h4.3l.3-1.1zm10.7 0c-.1.4-.2.7-.3 1.1h4.5c.1-.4.2-.8.3-1.1zm10.3 0c0 .4-.1.7-.2 1.1h4.5c0-.4.1-.7.1-1.1zm9.1 0c.3.4.6.8 1 1.1h9c.5-.3 1-.7 1.4-1.1h-5.1c-.3.1-.5.1-.8.1-.2 0-.4-.1-.6-.1zm18.7 0-1 1.1h4.2l1-1.1zm5.1 0-.3 1.1h4.1l.3-1.1zM64.7 754l-.2 1.1h4.4l.2-1.1zm10.7 0c-.1.4-.1.7-.2 1.1h4.5c.1-.4.1-.7.2-1.1zm10.5 0c-.1.4-.1.7-.2 1.1h4.5c.1-.4.2-.7.2-1.1zm9.6 0c-.5.3-1.1.7-1.5 1.1h11.7c-.3-.4-.7-.8-1.1-1.1zm16.6 0-1 1.1h4.2l1-1.1zm6.5 0-.2 1.1h4.1l.2-1.1zm-54.4 2.2-.2 1.1h4.4l.2-1.1zm10.7 0c0 .4-.1.7-.1 1.1h4.4c0-.4.1-.7.1-1.1zm10.5 0c-.1.4-.2.8-.3 1.1h4.5c.1-.4.3-.7.3-1.1zm7.8 0c-.2.4-.4.7-.6 1.1h4.5c.1-.3.3-.6.5-.8l.3-.3zm8.9 0c.2.3.4.7.4 1.1h4.2c-.1-.4-.2-.8-.3-1.1zm8.1 0-.9 1.1h4.2l1-1.1zm8 0-.2 1.1h4.1l.2-1.1zm-54.4 2.2-.3 1.1h4.4l.3-1.1zm11 0c0 .4 0 .8.1 1.1h4.2v-.3c0-.2.1-.5.1-.8zm10 0c-.1.4-.3.8-.4 1.1h4.5c.2-.4.3-.7.4-1.1zm7.6 0c-.1.4-.1.7-.1 1.1h4.3c0-.4.1-.8.1-1.1zm10.1 0c0 .4 0 .8-.1 1.1h4.3c.1-.4.1-.7.1-1.1zm6.5 0-.3 1.1h15.6l.3-1.1zm-45.7 2.2-.3 1.1h4.4l.3-1.1zm11.8 0c.1.4.2.8.3 1.1h4.4l-.1-.1c-.2-.3-.3-.6-.4-1zm8.7 0c-.1.2-.3.5-.4.6l-.5.5h4.8c.2-.3.4-.7.6-1.1zm8.5 0c0 .4.1.8.2 1.1h4.7c-.3-.3-.4-.7-.5-1.1zm9.6 0c-.1.1-.1.2-.2.3-.2.3-.3.6-.6.8h4.9c.2-.4.3-.7.4-1.1zm6.6 0-.1.3h8.8l-.1.8h4.1l.1-.8h2.7l.1-.3zm-45.7 2.3-.2 1.1H67l.2-1.1zm13.1 0c.2.4.5.8.8 1.1H86l.1-.1c.3-.3.6-.7.9-1zm17.1 0c.2.4.4.8.8 1.1h10.4c.4-.3.7-.7 1-1l.1-.1zm23.8 0-.2 1.1h4.1l.2-1.1zm-54.4 2.2-.1.4h4.4l.1-.4zm15.6 0c.9.5 1.9.8 3.1.8 1.1 0 2.2-.3 3.1-.8zm17.3 0c1 .5 2.2.8 3.5.8 1.4 0 2.7-.3 3.8-.8zm21 0-.1.4h4.1l.1-.4z" style="fill:#2c5aa0;"></path><path d="M790 102S620 87 450 87s-340 15-340 15-10 134-10 268 10 268 10 268 170 15 340 15 340-15 340-15 10-134 10-268-10-268-10-268z" style="fill:none;stroke:#333;stroke-width:1.5px;stroke-miterlimit:10;"></path>',37)]))}const Ut={render:Dt},$t={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",class:"wb_cursor_pointer"};function Yt(r,t){return p(),y("svg",$t,t[0]||(t[0]=[n("path",{d:"M0 12h2v2h4v-2h2v2h2v2h2v2h2v2h2v2h2v-2h2v-2h2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h2V2h-2V0H0z"},null,-1),n("path",{fill:"red",d:"M2 2v10h4v-2h2v2h2v2h2v2h2v2h2v2h2v-2h2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h2V2z"},null,-1),n("path",{fill:"#fff",d:"M2 2v2h8v2H8v2h2v2h2v2h2v2h2v2h2v2h2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h2V2z"},null,-1)]))}const Gt={render:Yt},jt={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"26",class:"wb_cursor_pointer_mooncity"};function Jt(r,t){return p(),y("svg",jt,t[0]||(t[0]=[n("path",{fill:"#0666cc",d:"M2 2h2v2H2zm2 2h2v2H4zm2 2h2v2H6zm2 2h2v2H8zm6 6v-2h-2v-2h-2v4h2zm-6 0h2v4H8zm2 4h2v4h-2zm0 6h2v2h-2zm2-2h2v2h-2z"},null,-1),n("path",{fill:"#0688cc",d:"M8 18h2v4H8zm2-4v-4H8V8H6V6H4V4H2v12h4v2h2v-4zm0 8h2v2h-2z"},null,-1),n("path",{fill:"#0accff",d:"M2 16V0H0v20h2v-2h4v-2zm4 2h2v4H6zm2 4h2v4H8z"},null,-1)]))}const qt={render:Jt},Kt={xmlns:"http://www.w3.org/2000/svg",width:"34",height:"48",class:"wb_cursor_wait"};function Xt(r,t){return p(),y("svg",Kt,t[0]||(t[0]=[n("path",{d:"M32 20v-4h-2v-4h-2v-2h-2V6h-2V4h-2V2h-2v2h-2V2h-2V0h-4v2h-2v2H6v2H4v2H2v6H0v2h2v4h2v2H2v2h2v2h2v2h2v2h4v2h-2v2H8v2h2v2h2v2h4v4h2v2h2v2h2v-2h2v-2h2v-2h-2v-2h-2v-4h2v-2h-2v-2h4v-2h2v-2h2v-2h2v-4h2v-2z"},null,-1),n("path",{fill:"red",d:"M30 20v-4h-2v-4h-2v-2h-2V6h-2V4h-2v2h-2V4h-2V2h-4v2h-2v2H6v2H4v6H2v2h2v4h2v2H4v2h2v2h2v2h4v2h4v2h-4v2h-2v2h2v2h4v-2h2v2h2v-2h2v-2h-4v-2h4v-2h4v-2h2v-2h2v-4h2v-2zm-8 20h-4v4h2v2h2v-2h2v-2h-2z"},null,-1),n("path",{fill:"#fff",d:"M18 18v2h4v2h-2v2h-2v2h8v-2h-4v-2h2v-2h2v-2zM8 10v2h4v2h-2v2H8v2h8v-2h-4v-2h2v-2h2v-2z"},null,-1)]))}const Qt={render:Xt},Zt={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",class:"wb_cursor_pointer_crosshair"};function eo(r,t){return p(),y("svg",Zt,t[0]||(t[0]=[n("path",{d:"M10 0h2v8h-2zM10 14h2v8h-2zM0 10h8v2H0zM14 10h8v2h-8z"},null,-1),n("path",{d:"M10 10h1v1h-1z",class:"crosshair-center"},null,-1)]))}const to={render:eo},oo=oe({__name:"Cursor",props:{parentLayout:{type:Object,default(){return{position:c(5,5)}}},cursor:{type:Object,default(){return new zt}},offset:{type:et,default(){return c(0,0)}}},setup(r){const t=r,s=d(c(0,0)),l=new ge;let m;const o=h(()=>({[Te.POINTER_1]:Gt,[Te.POINTER_MOONCITY]:qt,[Te.WAIT]:Qt,[Te.CROSSHAIR]:to})[t.cursor.name]),b=h(()=>Object.assign(t.cursor.toCSSVars(),{"--position-x":`${s.value.x}px`,"--position-y":`${s.value.y}px`})),a=h(()=>({[`cursor-${t.cursor.name}`]:t.cursor.name}));Ee(()=>{l.add(G.pointerMove.subscribe(_))}),be(()=>{l.unsubscribe()});const _=x=>{window.cancelAnimationFrame(m),m=window.requestAnimationFrame(()=>{const z=t.offset;s.value=c(()=>Math.round(Math.min(Math.max(c(x.x,x.y)-t.parentLayout.position-z,0),t.parentLayout.size)))})};return(x,z)=>(p(),y("i",{class:he(["wb-env-atom-cursor",a.value]),style:ue(b.value)},[(p(),te(We(o.value)))],6))}}),no=ne(oo,[["__scopeId","data-v-e1e450f3"]]);function Ue(r,t,s,l,m){if(r===0||r===1)return r;const o=(l-s)/2+s,b=t(o);return Math.abs(b-r)<m?o:b>r?Ue(r,t,s,o,m):Ue(r,t,o,l,m)}function ro(r,t){const s=new Array(t+1).fill(void 0);return l=>{const m=Math.round(l*t);let o=s[Number(m)];return o===void 0&&(o=r(m/t),s[Number(m)]=o),o}}function so(r=ao,t=0,s=1,l=1e-5){return ro(o=>Ue(o,r,t,s,l),Math.round(1/l))}function ao(r){return r}const lo={class:"handle-wrapper"},io=oe({__name:"RadialSlider",props:{styleType:{type:String,default:null},name:{type:String,default:"value"},modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},easing:{type:Function,default(r){return r}},circumference:{type:Number,default(){return Math.PI*2}}},emits:["update:model-value"],setup(r,{emit:t}){const s=r,l=t,m=d(null),o=d(!1);let b=new ge;const a=d(so(s.easing)),_=d(0),x=d(0),z=h(()=>({"transition-active":o.value,[`type-${s.styleType}`]:s.styleType})),e=h(()=>({"--rad":E.value*2*Math.PI*v.value})),v=h(()=>w.value/(Math.PI*2)),w=h(()=>s.circumference/2),E=h(()=>a.value(Math.max(s.modelValue,0)/s.max));be(()=>{B()});const B=()=>{b.unsubscribe(),b=new ge,o.value=!1},Q=S=>{b.add(G.pointerMove.subscribe(K.bind(this))),b.add(G.pointerUp.subscribe(j.bind(this))),o.value=!0,_.value=D(S),x.value=s.modelValue/s.max},D=S=>{if(m.value){const C=Mt(m.value),P=Et(S,m.value.getBoundingClientRect()),O=St(P,-C-Math.PI-w.value),re=Ct(O)-Math.PI;return(xt(re/w.value,-1,1)+1)/2}return 0},K=S=>{let C=D(S);const P=C-_.value;C=Math.min(Math.max(x.value+P,0),1);let O;Math.abs(E.value-C)<.5?O=s.easing(C)*s.max:O=Math.round(E.value)*s.max,l("update:model-value",O)},j=()=>{B()};return(S,C)=>(p(),y("div",{ref_key:"rootEl",ref:m,class:he(["wb-atom-radial-slider",z.value]),"touch-action":"none",style:ue(e.value)},[n("div",lo,[n("div",{class:"handle",onPointerdown:Q},null,32),C[0]||(C[0]=n("div",{class:"indicator"},null,-1))])],6))}}),vo=ne(io,[["__scopeId","data-v-65e55032"]]),co={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105 80"};function uo(r,t){return p(),y("svg",co,t[0]||(t[0]=[n("path",{d:"M45 11c15.24 0 30.17.93 37.63 1.48C83.18 18.43 84 29.06 84 40c0 10.93-.82 21.56-1.37 27.52C75.16 68.07 60.24 69 45 69c-15.14 0-29.97-.92-37.48-1.47C6.96 59.88 6 45.75 6 40s.96-19.88 1.52-27.53C15.03 11.92 29.86 11 45 11m0-6C22.98 5 1.91 6.89 1.91 6.89S0 31.64 0 40s1.91 33.11 1.91 33.11S22.98 75 45 75s43.09-1.89 43.09-1.89S90 57.03 90 40 88.09 6.89 88.09 6.89 67.02 5 45 5"},null,-1),n("path",{d:"M70 22.9c11.11 0 22 .53 28.08.88.42 3.92.92 9.98.92 16.22 0 6.22-.51 12.29-.92 16.22-6.07.36-16.96.88-28.08.88-11.02 0-21.83-.52-27.94-.87C41.62 51.17 41 43.33 41 40s.62-11.17 1.06-16.23c6.1-.35 16.91-.87 27.94-.87m0-5.4c-17.13 0-33.51 1.22-33.51 1.22S35 34.63 35 40s1.49 21.28 1.49 21.28S52.87 62.5 70 62.5s33.51-1.22 33.51-1.22S105 50.94 105 40s-1.49-21.28-1.49-21.28S87.13 17.5 70 17.5"},null,-1)]))}const ho={render:uo},po={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"};function fo(r,t){return p(),y("svg",po,t[0]||(t[0]=[n("path",{d:"M50 31c10.48 0 19 8.52 19 19s-8.52 19-19 19-19-8.52-19-19 8.52-19 19-19m0-6c-13.81 0-25 11.19-25 25s11.19 25 25 25 25-11.19 25-25-11.19-25-25-25M50 100c-1.66 0-3-1.34-3-3V83c0-1.66 1.34-3 3-3s3 1.34 3 3v14c0 1.66-1.34 3-3 3M50 20c-1.66 0-3-1.34-3-3V3c0-1.66 1.34-3 3-3s3 1.34 3 3v14c0 1.66-1.34 3-3 3M85.36 85.36a3 3 0 0 1-4.24 0l-9.9-9.9a3 3 0 0 1 0-4.24 3 3 0 0 1 4.24 0l9.9 9.9c1.17 1.16 1.17 3.06 0 4.24M28.79 28.79a3 3 0 0 1-4.24 0l-9.9-9.9a3 3 0 0 1 0-4.24 3 3 0 0 1 4.24 0l9.9 9.9a3 3 0 0 1 0 4.24M14.64 85.36a3 3 0 0 1 0-4.24l9.9-9.9a3 3 0 0 1 4.24 0 3 3 0 0 1 0 4.24l-9.9 9.9c-1.16 1.17-3.06 1.17-4.24 0M71.21 28.79a3 3 0 0 1 0-4.24l9.9-9.9a3 3 0 0 1 4.24 0 3 3 0 0 1 0 4.24l-9.9 9.9a3 3 0 0 1-4.24 0M100 50c0 1.66-1.34 3-3 3H83c-1.66 0-3-1.34-3-3s1.34-3 3-3h14c1.66 0 3 1.34 3 3M20 50c0 1.66-1.34 3-3 3H3c-1.66 0-3-1.34-3-3s1.34-3 3-3h14c1.66 0 3 1.34 3 3"},null,-1)]))}const mo={render:fo},wo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"};function yo(r,t){return p(),y("svg",wo,t[0]||(t[0]=[n("path",{d:"M50 6c24.26 0 44 19.74 44 44S74.26 94 50 94 6 74.26 6 50 25.74 6 50 6m0-6C22.39 0 0 22.39 0 50s22.39 50 50 50 50-22.39 50-50S77.61 0 50 0"},null,-1),n("path",{d:"M50 0v100c27.61 0 50-22.39 50-50S77.61 0 50 0"},null,-1)]))}const go={render:yo},bo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"};function zo(r,t){return p(),y("svg",bo,t[0]||(t[0]=[n("path",{fill:"none",d:"M62 54v20c5.52 0 10-4.48 10-10s-4.48-10-10-10"},null,-1),n("path",{d:"M50 6c24.26 0 44 19.74 44 44S74.26 94 50 94 6 74.26 6 50 25.74 6 50 6m0-6C22.39 0 0 22.39 0 50s22.39 50 50 50 50-22.39 50-50S77.61 0 50 0"},null,-1),n("circle",{cx:"30",cy:"64",r:"10"},null,-1),n("path",{d:"M43 24c0 4.48 2.94 8.27 7 9.54V14.46c-4.06 1.27-7 5.06-7 9.54M50 0v14.46c.95-.3 1.95-.46 3-.46 5.52 0 10 4.48 10 10s-4.48 10-10 10c-1.05 0-2.05-.16-3-.46V100c27.61 0 50-22.39 50-50S77.61 0 50 0m25 68c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10"},null,-1)]))}const Mo={render:zo},So={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 80"};function Co(r,t){return p(),y("svg",So,t[0]||(t[0]=[n("path",{d:"M50 11c15.24 0 30.17.93 37.63 1.48C88.18 18.43 89 29.06 89 40c0 10.93-.82 21.56-1.37 27.52C80.16 68.07 65.24 69 50 69c-15.14 0-29.97-.92-37.48-1.47C11.96 59.88 11 45.75 11 40s.96-19.88 1.52-27.53C20.03 11.92 34.86 11 50 11m0-6C27.98 5 6.91 6.89 6.91 6.89S5 31.64 5 40s1.91 33.11 1.91 33.11S27.98 75 50 75s43.09-1.89 43.09-1.89S95 57.03 95 40 93.09 6.89 93.09 6.89 72.02 5 50 5"},null,-1),n("path",{d:"M49 69V10h16L54 69z"},null,-1)]))}const xo={render:Co},Eo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"};function Vo(r,t){return p(),y("svg",Eo,t[0]||(t[0]=[n("path",{d:"M94 34.71V69H25.42zm6-9.71L0 75h100z"},null,-1)]))}const Ho={render:Vo},ko={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15"};function Ao(r,t){return p(),y("svg",ko,t[0]||(t[0]=[n("path",{d:"M7.5 3.5v4",style:{stroke:"#000","stroke-linecap":"round","stroke-miterlimit":"10"}},null,-1),n("path",{d:"M7.5-.5v16M-.5 7.5h16M1.84 1.84l11.32 11.32M1.84 13.16 13.16 1.84",style:{fill:"none",stroke:"#faf100","stroke-miterlimit":"10"}},null,-1)]))}const _o={render:Ao},Po={class:"wb-env-screen-panel"},To=["disabled"],Wo={class:"label"},Oo=["aria-label","onPointerdown"],Lo={class:"knob"},Io=["aria-label","onPointerdown"],Bo=oe({__name:"Panel",props:{modelValue:{type:Object,default(){return{}}}},emits:["update:model-value"],setup(r,{emit:t}){const s=r,l=t,m=d(1),o=h(()=>[{name:"horizontalCentering",svg:Me(ho),label:"H. Centering",min:0,max:1,step:.01},{name:"brightness",svg:Me(mo),label:"Brightness",min:0,max:1,step:.01},{name:"contrast",svg:Me(go),label:"Contrast",min:0,max:1,step:.01},{name:"color",svg:Me(Mo),label:"Color",min:0,max:1,step:.01},{name:"sharpness",svg:Me(xo),label:"Sharpness",min:0,max:1,step:.01},{name:"soundVolume",svg:Me(Ho),label:"Volume",min:0,max:1,step:.01}]);function b(z,e){l("update:model-value",{...s.modelValue,[z]:e})}let a;function _(z,e,v){z.preventDefault(),window.clearInterval(a),a=setInterval(()=>{const w=e.step*m.value;v?b(e.name,Math.min(Number(s.modelValue[e.name])+w,e.max)):b(e.name,Math.max(Number(s.modelValue[e.name])-w,e.min)),m.value=Math.min(m.value+1,10)},125)}function x(z){z.preventDefault(),window.clearInterval(a),m.value=1}return(z,e)=>(p(),y("div",Po,[(p(!0),y(ot,null,nt(o.value,(v,w)=>(p(),y("figure",{key:w,class:"control",disabled:v.disabled},[(p(),te(We(v.svg))),n("figcaption",Wo,He(v.label),1),n("div",null,[n("button",{"aria-label":`Decrease ${v.label}`,onPointerdown:E=>_(E,v,!1),onPointerup:x},null,40,Oo),n("div",Lo,[n("i",{style:ue({"--value":r.modelValue[v.name]})},[n("div",null,[N(k(_o)),e[0]||(e[0]=n("span",null,null,-1))])],4),N(vo,{"model-value":r.modelValue[v.name],"style-type":"screen-panel-control-knob",min:0,max:1,"onUpdate:modelValue":E=>b(v.name,E)},null,8,["model-value","onUpdate:modelValue"])]),n("button",{"aria-label":`Increase ${v.label}`,onPointerdown:E=>_(E,v,!0),onPointerup:x},null,40,Io)])],8,To))),128))]))}}),Ro=ne(Bo,[["__scopeId","data-v-a84c86b0"]]),No={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"};function Fo(r,t){return p(),y("svg",No,t[0]||(t[0]=[n("path",{d:"M50 8c23.16 0 42 18.84 42 42S73.16 92 50 92 8 73.16 8 50 26.84 8 50 8m0-8C22.39 0 0 22.39 0 50s22.39 50 50 50 50-22.39 50-50S77.61 0 50 0"},null,-1),n("path",{d:"M50 77c-2.21 0-4-1.79-4-4V27c0-2.21 1.79-4 4-4s4 1.79 4 4v46c0 2.21-1.79 4-4 4"},null,-1)]))}const Do={render:Fo},Uo=["aria-label"],$o=oe({__name:"PowerButton",props:{active:{type:Boolean,default:!1},label:{type:String,default:"Power"}},emits:["click"],setup(r,{emit:t}){const s=r,l=t,m=d(!1),o=d(0),b=h(()=>({active:s.active,broken:m.value}));be(()=>{window.clearTimeout(a)});let a;function _(e){m.value||(o.value>=10?m.value=!0:(z(e),o.value++),window.clearTimeout(a),a=window.setTimeout(()=>{o.value=0},500))}function x(e){z(e)}function z(e){l("click",e)}return(e,v)=>(p(),y("div",{class:he(["wb-env-screen-power-button",b.value]),"aria-label":r.active?"Turn Off":"Turn On"},[n("div",{class:"background"},[v[0]||(v[0]=n("i",{class:"light"},null,-1)),n("button",{onClick:x})]),n("button",{class:"foreground",onClick:_},[v[1]||(v[1]=n("i",{class:"light"},null,-1)),n("span",null,He(r.label),1),N(k(Do))])],10,Uo))}}),Yo=ne($o,[["__scopeId","data-v-9d2d3534"]]),Go={class:"content"},jo={key:0,class:"scanlines"},Jo={key:0,class:"frame"},qo={class:"panel"},Ko=oe({__name:"Screen",props:{core:{type:Object,default(){return null}},theme:{type:Object,default(){return null}},cursor:{type:[st,null],default:null},hasScanLines:{type:Boolean,default:!1},hasRealLook:{type:Boolean,default:!1},bootSequence:{type:[String,Number],default:ce.SEQUENCE_3},frameActive:{type:Boolean,default:!0},hasActiveAnimation:{type:Boolean,default:!0},modelValue:{type:Object,default(){return{contrast:0,brightness:0,color:0,sharpness:-1,horizontalCentering:0,soundVolume:1}}}},emits:["update:model-value","toggleScreenActive"],setup(r,{expose:t,emit:s}){const l=r,m=s,o=d(null),b=d(null),a=d(null),_=d(null),x=d(!1),z=d(!1),e=d({name:"",duration:0,resolve:null}),v=d(!1),w=d(),E=d(),B=h(()=>{var H;const V=((H=E.value)==null?void 0:H.size)||c(0,0);return c(()=>V*c(l.modelValue.horizontalCentering-.5,0))}),Q=h(()=>l.cursor?l.cursor.current:null),D=h(()=>l.theme.colors.screen.background),K=h(()=>({animate:v.value,"active-animation":l.hasActiveAnimation,"frame-active":l.frameActive,"screen-active":z.value,"real-look":l.hasRealLook,"open-panel":x.value,["boot-sequence-"+l.bootSequence]:!0})),j=h(()=>({"--turn-duration":e.value.duration+"ms","--horizontal-centering":l.modelValue.horizontalCentering-.5})),S=h(()=>({"backdrop-filter":[`contrast(${l.modelValue.contrast*2*100}%)`,`brightness(${l.modelValue.brightness*2*100}%)`,`saturate(${l.modelValue.color*2*100}%)`,`blur(${l.modelValue.sharpness*20/(window.devicePixelRatio||1)}px)`].join(" ")})),C=h(()=>{if(w.value){const V=c(()=>Math.round(w.value||c(0,0)));return{"--wrapper-position-x":V.x+"px","--wrapper-position-y":V.y+"px"}}return{}});X(()=>z.value,V=>{m("toggleScreenActive",V)}),X(()=>l.frameActive,()=>{q(()=>{L()})}),X(()=>D.value,V=>{var H;document.querySelector('[name="theme-color"]')&&((H=document.querySelector('[name="theme-color"]'))==null||H.setAttribute("content",V))}),X(()=>l.bootSequence,V=>{var J;let H;typeof V=="number"&&V<4?H=getComputedStyle(document.documentElement).getPropertyValue("--color-boot-sequence-"+V):H=getComputedStyle(document.documentElement).getPropertyValue("--color-background"),document.querySelector('[name="theme-color"]')&&((J=document.querySelector('[name="theme-color"]'))==null||J.setAttribute("content",H))});const P=new ge;Ee(()=>{P.add(G.resize.subscribe(L)),L()}),be(()=>{P.unsubscribe()});function O(){e.value.resolve&&e.value.resolve()}function re(){e.value.resolve&&e.value.resolve()}function L(){b.value&&a.value&&(w.value=c(()=>(c(window.innerWidth,window.innerHeight)-Je(b.value).size)/2),q(()=>{E.value=Je(a.value)}))}function U(V=4e3){return v.value?Promise.resolve(!1):(l.hasActiveAnimation||(V=0),e.value.duration=V,v.value=!0,new Promise(H=>{e.value.resolve=H,q(()=>z.value=!0)}).then(()=>(v.value=!1,!0)).catch(H=>{throw H}))}function Z(V=550){return v.value?Promise.resolve(!1):(l.hasActiveAnimation||(V=0),e.value.duration=V,v.value=!0,new Promise(H=>{e.value.resolve=H,q(()=>z.value=!1)}).then(()=>(v.value=!1,!0)).catch(H=>{throw H}))}function W(V=!x.value){x.value=V}function fe(){W()}function g(){z.value?Z():U()}return t({turnOn:U,turnOff:Z,togglePanel:W}),(V,H)=>(p(),y("div",{ref_key:"rootEl",ref:o,class:he(["wb-env-screen",K.value]),style:ue(j.value)},[n("div",{ref_key:"wrapperEl",ref:b,class:"wrapper",style:ue(C.value)},[n("div",{ref_key:"containerEl",ref:a,class:"container"},[N(ht,{name:"animation-turn",onAfterEnter:O,onAfterLeave:re},{default:Ce(()=>[pt(n("div",{ref_key:"backgroundEl",ref:_,class:"background"},[n("div",Go,[ye(V.$slots,"default",{},void 0,!0)]),r.hasScanLines&&z.value?(p(),y("div",jo,H[1]||(H[1]=[n("div",null,null,-1)]))):R("",!0),Q.value&&E.value?(p(),te(no,{key:1,class:"cursor","parent-layout":E.value,offset:B.value,cursor:Q.value},null,8,["parent-layout","offset","cursor"])):R("",!0),n("div",{class:"manipulation",style:ue(S.value)},null,4)],512),[[dt,z.value]])]),_:3}),ye(V.$slots,"container",{containerLayout:E.value},void 0,!0)],512),r.frameActive?(p(),y("div",Jo,[N(k(Ut)),N(Yo,{active:z.value,class:"power-button",options:r.modelValue,onClick:g},null,8,["active","options"]),n("div",qo,[N(Ro,{"model-value":r.modelValue,"onUpdate:modelValue":H[0]||(H[0]=J=>m("update:model-value",J))},null,8,["model-value"]),n("button",{class:"cover",onClick:fe},H[2]||(H[2]=[n("span",null,"Push",-1)]))])])):R("",!0)],4)],6))}}),Xo=ne(Ko,[["__scopeId","data-v-7a51e888"]]),Qo={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"260",height:"262"};function Zo(r,t){return p(),y("svg",Qo,t[0]||(t[0]=[Oe('<path d="M258 24v-2h-2v-2h-2v-2h-2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h-2V4h-2V2h-2V0H48v88h-2v2h-4v2h-4v2h-4v2h-2v2h-2v4h-2v4h-2v4h-2v6h-2v4h-2v2h-2v2h-4v2h-2v2h-2v2H8v2H6v4H4v2H2v4H0v58h2v62h102v-22h2v-2h4v-2h4v-2h4v-2h2v-2h2v-4h2v-2h2v-4h2v-2h2v-4h2v-2h4v-2h2v-2h2v-2h2v-2h2v-4h2v-2h2v-4h2v-4h2v-4h2v-4h2v-10h104V24z"></path><path fill="#77c" d="M54 4v118h4v-2h2v-2h4v-2h2v-2h2v-2h4V92h14v-4h22v2h2v2h128v76h16V24h-2v-2h-2v-2h-2v-2h-2v-2h-2v-2h-2v-2h-2v-2h-2V8h-2V6h-2V4z"></path><g fill="#fff"><path d="M116 96v24h-2v2h-2v2h-2v2h-4v2h-2v2h-2v2h-2v2h-2v2h-2v2h-2v2h-4v2h-2v2h-2v22h2v2h144V96zM80 100h2v-4h-4v6h2zM92 172h-2v6h4v-2h2v-2h-3zM116 186v-2h2v-2h2v-2h2v-2h2v-2h2v-2h2v-2H96v2h4v2h4v2h2v2h2v2h2v2h2v2zM138 174h-2v2h-2v2h-2v2h-2v2h-2v2h-2v2h-2v2h-2v2h-2v2h4v-2h6v2h4v2h2v2h2v4h-2v4h4v-4h2v-2h2v-4h2v-4h2v-4h2v-4h2v-10h-14z"></path><path d="M134 196v-2h-4v-2h-6v2h-4v6h2v4h8v-2h4v-2h2v-4zM88 182h2v8h-2zM102 192h6v-4h2v-2h-2v-2h-2v-2h-2v-2h-8v2h-4v6h2v2h8zM90 190h4v2h-4zM94 192h8v2h-8zM130 204h4v2h-4zM130 208v4h2v-2h4v-2h2v-2h-4v2zM116 200h2v2h-2zM104 236h2v2h-2zM120 206v-2h-2v2h1z"></path><path d="M120 208h-2v-2h-2v-4h-2v-2h-2v-4H94v-2h-4v16h-2v2h-2v2h-2v2h-2v2h-2v2H66v38h34v-22h4v-2h6v-2h4v-2h4v-4h2v-2h2v-4h2v-2h2v-4h2v-4h-8z"></path><path d="M120 206h2v2h-2zM102 92h-8v-2h-6v4h-2v6h-2v4h2v2h2v2h2v2h14V94h-2zM38 134h2v2h-2z"></path><path d="M80 214h2v-2h2v-2h2v-40h-2v-4h-2v-22h2v-2h2v-2h2v-2h4v-2h2v-2h2v-2h2v-2h2v-2h2v-2h2v-2h4v-2h2v-2h2V94h-4v-2h-4v2h2v2h2v16h-2v2H90v-2h-2v-2h-2v-2h-2v2h-2v2h-4v2h-2v2h-2v2h-4v2h-2v2h-2v2h-4v2h-4v2h-4v2h-4v2h-4v2h-4v2h-2v2h-4v2h-2v2h-2v2h-4v2h-2v2h-2v2h-4v2h-2v-4h2v-2h2v-2h4v-2h2v-2h2v-2h4v-2h2v-2h2v-2h2v-2h-6v-2h-2v-2h-2v-2h-2v-2h2v2h4v2h4v2h6v-2h4V92h-4v2h-2v2h-4v2h-4v4h-2v4h-2v4h-2v4h-2v6h-2v2h-2v2h-2v2h-4v2h-2v2h-2v2h-2v4H8v2H6v4H4v56h2v60h56v-42h18z"></path><path d="M30 140h2v2h-2zM22 146h2v2h-2zM54 124.12v1.85l4 .03v-1.88z"></path></g><path fill="#333" d="M144 8h24v30h-24z"></path><g fill="#77c"><path d="M130 118v-2h-4v-2h-4v2h2v2zM132 122h6v-2h-2v-6h2v-4h2v-2h-10v2h2v4h-2v2h2zM152 112h2v-2h4v-2h-14v2h4v2h-2v2h6z"></path><path d="M144 118h10v-2h2v-4h-2v2h-2v2h-6v-2h-4v2h2zM162 118h12v-10h-6v2h-2v2h4v4h-6v-4h-4v4h2zM178 116h2v2h10v-2h2v-4h-14zm4-2h6v2h-6zM210 120v-8h-2v-2h-2v-2h-12v2h-2v2h4v4h2v2h6v-2h-4v-4h6v2h-2v2h2v6h6v-2zM198 130h-2v2h-4v-2h-2v-2h-4v14h4v-8h2v2h4v-2h2v8h4v-14h-4zM180 128h-10v2h-2v6h2v2h10v-2h2v-6h-2zm-2 8h-6v-6h6zM156 130h2v4h-2v2h2v2h6v-2h-2v-6h2v-2h-8zM152 132h-4v4h2v2h6v-2h-4zM140 132h-4v-2h-2v-2h-4v2h2v2h2v2h-2v2h-2v2h4v-2h2v-2h4v8h6v-2h-2v-10h2v-2h-6z"></path></g><g fill="#bbb"><path d="M146 160v-2h2v-6h-2v-2h-4v-2h-24v2h2v2h-8v-2h2v-2h-12v2h4v14h6v-2h2v-2h2v-2h2v-2h2v-2h2v-2h2v-2h4v4h-2v2h10v-2h-2v-4h2v2h2v2h2v4h-2v2h-2v2h-4v-2h-2v-2h-2v6h14v-2h2v-2zm-30-4h-2v2h-2v-4h4z"></path><path d="M210 148v2h2v2h-8v-2h2v-2h-20v2h4v2h-2v2h-2v2h-2v-8h-6v4h-2v2h-2v2h-2v-4h2v-2h2v-2h-28v2h4v6h-2v4h-4v2h-2v2h28v-2h2v-2h2v-2h2v6h10v-2h-2v-4h2v-2h2v-2h2v-2h4v-2h2v14h6v-2h2v-2h2v-2h2v-2h2v-2h2v-2h2v-2h4v-2zm-44 8h-2v4h-2v2h-8v-2h2v-4h2v-4h2v-2h6zm42 0h-2v2h-2v-4h4z"></path></g><path d="M108 164h2v-2h2v-2h2v-2h-6zM140 160h-2v2h4v-2h2v-2h-4zM130 158h-2v6h10v-2h-8zM154 158h-4v4h-4v2h10v-2h-2zM170 160h-2v-2h-4v4h-2v2h8v-2h2v-2h2v-2h-4zM178 164h8v-2h-2v-2h2v-2h-8zM200 158v6h2v-2h2v-2h2v-2zM98 0v48h112V0zm106 44H104V4h100z"></path><path d="M198 8h-24v30h24zm-6 26h-12V12h12z"></path><path fill="#bbb" d="M104 4v40h100V4zm94 34h-24V8h24z"></path><path d="M188 182h4v2h-2v2h-2v2h-2v2h-2v2h-2v-10h2v-2h-10v2h2v18h6v-2h2v-2h2v-2h2v-2h2v-2h2v-2h2v-2h2v-2h2v-2h4v-2h-14zM218 180h-6v2h-2v2h-2v2h4v10h-4v4h14v-4h-4zM226 196h4v4h-4zM252 188v-2h2v-2h-2v-2h-2v-2h-12v2h-2v2h-2v2h8v-2h4v4h-4v4h4v4h-4v-2h-8v2h2v2h2v2h12v-2h2v-2h2v-2h-2v-2h-2v-4z"></path>',10)]))}const en={render:Zo},tn={class:"wb-env-no-disk"},on=oe({__name:"NoDisk",setup(r){return(t,s)=>(p(),y("div",tn,[N(k(en))]))}}),nn=ne(on,[["__scopeId","data-v-8c8ee13c"]]),rn={key:0,ref:"menu",class:"menu"},sn={key:1,class:"cover"},an="Web-Workbench release. Version 1.3",ln=oe({__name:"Header",props:{core:{},parentLayout:{},title:{},showCover:{type:Boolean},items:{}},emits:["inputContextMenu"],setup(r,{emit:t}){const s={size:c(window.innerWidth,window.innerHeight)},l=r,m=t,o=d(!1),b=h(()=>{var e,v;return l.items||((v=(e=l.core)==null?void 0:e.modules.windows)==null?void 0:v.contextMenu.activeItems.items)||[]});function a(...e){m("inputContextMenu",...e)}function _(){o.value=!1}function x(e){e.button===qe.RIGHT&&(e.preventDefault(),o.value=!0)}function z(e){e.button===qe.RIGHT&&(o.value=!1)}return(e,v)=>(p(),y("header",{class:"wb-env-molecule-header",onMouseout:_,onPointerdown:x,onPointerup:z},[e.showCover||o.value?R("",!0):(p(),y("nav",rn,[N(At,{core:e.core,items:b.value,"parent-layout":e.parentLayout||s,"onUpdate:modelValue":a},null,8,["core","items","parent-layout"])],512)),e.showCover||o.value?(p(),y("div",sn,[n("span",null,He(e.title||an),1)])):R("",!0)],32))}}),vn=ne(ln,[["__scopeId","data-v-7e00c742"]]),cn={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14"};function un(r,t){return p(),y("svg",cn,t[0]||(t[0]=[n("path",{d:"M6 4V0H0v6h4v8h8V4zM4 4H2V2h2zm6 8H6V6h4z",class:"svg-primary"},null,-1)]))}const hn={render:un},pn={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"12",viewBox:"4 4 14 12"};function dn(r,t){return p(),y("svg",pn,t[0]||(t[0]=[n("g",{class:"svg-primary"},[n("path",{d:"M4 8h2v2H4zM6 6h2v2H6zM14 6h2v2h-2zM16 8h2v2h-2zM8 4h6v2h-2v10h-2V6H8z"})],-1)]))}const fn={render:dn},mn={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"12"};function wn(r,t){return p(),y("svg",mn,t[0]||(t[0]=[n("g",{class:"svg-primary"},[n("path",{d:"M0 6h2v2H0zM6 0h2v10h2v2H4v-2h2zM2 8h2v2H2zM10 8h2v2h-2zM12 6h2v2h-2z"})],-1)]))}const yn={render:wn},gn={xmlns:"http://www.w3.org/2000/svg",width:"11",height:"14"};function bn(r,t){return p(),y("svg",gn,t[0]||(t[0]=[n("path",{d:"M1 2v2H0v6h1v2h2v2h3v-2H4v-2H2V8h9V6H2V4h2V2h2V0H3v2z",class:"svg-primary"},null,-1)]))}const zn={render:bn},Mn={xmlns:"http://www.w3.org/2000/svg",width:"11",height:"14"};function Sn(r,t){return p(),y("svg",Mn,t[0]||(t[0]=[n("path",{d:"M10 2v2h1v6h-1v2H8v2H5v-2h2v-2h2V8H0V6h9V4H7V2H5V0h3v2z",class:"svg-primary"},null,-1)]))}const Cn={render:Sn},xn={class:"sidebar-left"},En={key:0,class:"scrollbar scrollbar-right"},Vn={class:"range"},Hn={key:1,class:"scrollbar-corner"},kn={key:2,class:"scrollbar scrollbar-bottom"},An={class:"range"},_n=oe({__name:"ScrollContent",props:{options:{type:Object,default(){return{scrollX:!0,scrollY:!0,clampLeft:!1,clampBottom:!1}}},setTriggerReset:{type:Boolean,default:!1},setTriggerRefresh:{type:Object,default(){return null}},embed:{type:Boolean,default:!1},rootLayout:{type:Object,default(){return{size:c(0,0)}}},parentLayout:{type:Object,default(){return{size:c(0,0)}}},setParentLayout:{type:Function,default(){return()=>{}}},parentLayoutSizeOffset:{type:et,default(){return c(0,0)}}},emits:["click","refresh"],setup(r,{emit:t}){const s=r,l=d(s.parentLayout.size),m=t,o=d(null),b=d(null),a=d(null),_=d(null),x=d(null),z=d(!0),e=d({}),v=d({spacer:c(0,0),helper:c(0,0),content:c(0,0),wrapper:c(0,0),inner:c(0,0)}),w=d({startScroll:0,current:c(0,0),start:null,move:null}),E=ft(),B=h(()=>s.options.scrollX||s.options.scrollY||!!E.corner),Q=h(()=>({"--scroll-bar-size":`${Math.max(15-Fe.size,0)}`,...e.value})),D=h(()=>({active:z.value,"axis-x":s.options.scrollX,"axis-y":s.options.scrollY,embed:s.embed}));X(()=>s.setTriggerReset,()=>{O()}),X(()=>s.setTriggerRefresh,M=>{M&&M.reset?j():M&&M.scroll&&O()}),Ee(()=>{window.requestAnimationFrame(()=>{K()})});const K=()=>{const M=C(),A=c(s.options.scrollY?20:0,s.options.scrollX?20:0),$=s.parentLayout;if($){const Y=c(()=>A+s.parentLayoutSizeOffset);s.options.scrollX&&s.options.scrollY||s.setParentLayout({size:c(Math.min(M.x+Y.x,s.rootLayout.size.x),Math.min(M.y+Y.y,s.rootLayout.size.y))})}l.value=$.size},j=()=>{s.setParentLayout({size:c(0,0)}),q(()=>{K()})},S=()=>{var M,A;return c(((M=o.value)==null?void 0:M.offsetWidth)||0,((A=o.value)==null?void 0:A.offsetHeight)||0)},C=()=>{var M,A;return c(((M=b.value)==null?void 0:M.offsetWidth)||0,((A=b.value)==null?void 0:A.offsetHeight)||0)},P=()=>{window.requestAnimationFrame(()=>{U(),re()}),s.setParentLayout({scrollOffset:L()}),m("refresh",{scroll:!0})},O=()=>{var A,$,Y,ie,ze;v.value.content=S(),v.value.wrapper=c(((A=a.value)==null?void 0:A.offsetWidth)||0,(($=a.value)==null?void 0:$.offsetHeight)||0),v.value.inner=C(),v.value.helper=c(_.value&&((Y=_.value)==null?void 0:Y.offsetWidth)||0,x.value&&((ie=x.value)==null?void 0:ie.offsetHeight)||0),v.value.spacer=c(()=>Math.min(v.value.wrapper/v.value.inner,1)*v.value.helper);const M=L();s.setParentLayout({scrollOffset:M}),U(),re(),m("refresh",{}),(ze=o.value)==null||ze.scrollTo(s.options.clampLeft?0:M.x,s.options.clampBottom?v.value.inner.y:M.y)},re=()=>{const M=c(()=>w.value.current*(1-v.value.spacer/v.value.helper)),A=c(()=>v.value.spacer/v.value.helper);e.value=Object.assign(M.toCSSVars("helper-position"),A.toCSSVars("helper-size"))},L=()=>{var M,A;return c(((M=o.value)==null?void 0:M.scrollLeft)||0,((A=o.value)==null?void 0:A.scrollTop)||0)},U=()=>{const M=c(s.options.scrollY?Fe.size:0,s.options.scrollX?Fe.size:0),A=L();w.value.current=Ne(()=>A/(v.value.inner-v.value.content+M))},Z=M=>{var $;$e(M),M.preventDefault(),w.value.start=c(M.x,M.y),w.value.startScroll=(($=o.value)==null?void 0:$.scrollTop)||0;const A=G.pointerMove.subscribe(Y=>{var ie;w.value&&o.value&&(w.value.move=Ne(()=>c(Y.x,Y.y)-(w.value.start||0)),o.value.scrollTop=w.value.startScroll+v.value.inner.y*(((ie=w.value.move)==null?void 0:ie.y)||0)/v.value.helper.y)});G.pointerUp.pipe(Se()).subscribe(()=>{A.unsubscribe()})},W=M=>{if(M.preventDefault(),o.value){w.value.start=c(M.x,M.y),w.value.startScroll=o.value.scrollLeft||0;const A=G.pointerMove.subscribe($=>{var Y;w.value&&o.value&&(w.value.move=Ne(()=>c($.x,$.y)-w.value.start),o.value.scrollLeft=w.value.startScroll+v.value.inner.x*(((Y=w.value.move)==null?void 0:Y.x)||0)/v.value.helper.x)});G.pointerUp.pipe(Se()).subscribe(()=>{A.unsubscribe()})}},fe=()=>{de(1)},g=()=>{de(3)},V=()=>{de(0)},H=()=>{de(2)};let J;const pe=()=>{window.clearInterval(J)},de=M=>{window.clearInterval(J),J=setInterval(()=>{if(o.value)switch(M){case 0:o.value.scrollLeft-=16;break;case 1:o.value.scrollTop-=16;break;case 2:o.value.scrollLeft+=16;break;case 3:o.value.scrollTop+=16;break}},125)};return le("scrollContent",{refresh:O,setParentSize:K}),(M,A)=>(p(),y("div",{class:he(["wb-env-scroll-content",D.value]),style:ue(Q.value)},[n("div",{ref_key:"scrollWrapperEl",ref:a,class:"wrapper"},[n("div",xn,[ye(M.$slots,"sidebarLeft",{},void 0,!0)]),n("div",{ref_key:"scrollContentEl",ref:o,class:"content",onScroll:P},[n("div",{ref_key:"scrollInnerEl",ref:b,class:"inner"},[n("div",null,[ye(M.$slots,"default",{},()=>[A[0]||(A[0]=Oe('<div style="width:680px;height:100px;margin:20px;background:red;" data-v-eaa3dec4></div><div style="width:250px;height:240px;margin:20px;background:red;" data-v-eaa3dec4></div><div style="width:500px;height:240px;margin:20px;background:green;" data-v-eaa3dec4></div><div style="width:800px;height:240px;margin:20px;background:yellow;" data-v-eaa3dec4></div><div style="width:250px;height:240px;margin:20px;background:red;" data-v-eaa3dec4></div><div style="width:500px;height:3000px;margin:20px;background:green;" data-v-eaa3dec4></div><div style="width:800px;height:240px;margin:20px;background:yellow;" data-v-eaa3dec4></div>',7))],!0)])],512)],544)],512),z.value&&s.options.scrollY?(p(),y("div",En,[n("button",{class:"helper-top","touch-action":"none",onPointerdown:fe,onPointerup:pe},[N(k(fn))],32),n("span",Vn,[n("span",{ref_key:"scrollRightHelperEl",ref:x,class:"helper"},[n("button",{class:"spacer","touch-action":"none",onPointerdown:Z},null,32)],512)]),n("button",{class:"helper-bottom","touch-action":"none",onPointerdown:g,onPointerup:pe},[N(k(yn))],32)])):R("",!0),B.value?(p(),y("span",Hn,[ye(M.$slots,"corner",{},void 0,!0)])):R("",!0),z.value&&s.options.scrollX?(p(),y("div",kn,[n("button",{class:"helper-left","touch-action":"none",onPointerdown:V,onPointerup:pe},[N(k(zn))],32),n("span",An,[n("span",{ref_key:"scrollBottomHelperEl",ref:_,class:"helper"},[n("button",{ref:"scrollBottomSpacerEl",class:"spacer","touch-action":"none",onPointerdown:W},null,544)],512)]),n("button",{class:"helper-right","touch-action":"none",onPointerdown:H,onPointerup:pe},[N(k(Cn))],32)])):R("",!0)],6))}}),Pn=ne(_n,[["__scopeId","data-v-eaa3dec4"]]),Tn={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20"};function Wn(r,t){return p(),y("svg",Tn,t[0]||(t[0]=[n("g",{class:"svg-primary"},[n("path",{d:"M4 4h12v12H4z"}),n("path",{d:"M0 0v20h20V0zm18 18H2V2h16z"})],-1),n("path",{fill:"#FFF",d:"M8 8h4v4H8z",class:"svg-secondary"},null,-1)]))}const On={render:Wn},Ln={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"20"};function In(r,t){return p(),y("svg",Ln,t[0]||(t[0]=[Oe('<g class="svg-primary"><path d="M0 0v20h22V0zm16 14H2V2h14z"></path><path d="M4 4h10v8H4z"></path></g><g fill="#FFF" class="svg-secondary"><path fill="#" d="M6 6h14v12H6z" class="svg-secondary"></path></g>',2)]))}const Bn={render:In},Rn={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"20"};function Nn(r,t){return p(),y("svg",Rn,t[0]||(t[0]=[n("g",{class:"svg-primary"},[n("path",{d:"M8 6h10v10H8z"}),n("path",{d:"M0 0v20h22V0zm20 18H6V4h14z"})],-1),n("path",{fill:"#A4A5A5",d:"M2 2h14v2H6v10H2z",class:"svg-secondary"},null,-1)]))}const Fn={render:Nn},Dn={key:0,ref:"windowTitleWrapper",class:"title"},Un={class:"handlers handlers-right"},$n=oe({__name:"WindowHeader",props:{close:{type:Boolean},overlay:{type:Boolean},title:{},focused:{type:Boolean}},emits:["close","up","down","click:header"],setup(r,{emit:t}){const s=r,l=t,m=h(()=>({focused:s.focused}));function o(e){e.preventDefault(),l("close",e)}function b(e){e.preventDefault(),l("click:header",$e(e))}function a(e){e.preventDefault(),l("up",e)}function _(e){e.preventDefault(),l("down",e)}function x(e){e.target instanceof HTMLButtonElement&&e.target.blur()}function z(e){e.target instanceof HTMLButtonElement&&e.target.blur()}return(e,v)=>(p(),y("header",{class:he(["wb-env-molecule-window-header",m.value])},[n("div",{class:he(["handlers handlers-left",{"has-close":e.close}])},[e.close?(p(),y("button",{key:0,"aria-label":"Close Window",class:"control close","touch-action":"none",onClick:o},[N(k(On))])):R("",!0)],2),n("button",{tabindex:"-1",class:"title-wrapper",onPointerdown:b},[v[0]||(v[0]=n("span",{class:"background"},[n("span",{class:"line"}),n("span",{class:"line"}),n("span",{class:"dots"})],-1)),e.title?(p(),y("span",Dn,[n("span",{ref:"windowTitle"},He(e.title),513)],512)):R("",!0)],32),n("div",Un,[e.overlay?(p(),y("button",{key:0,"aria-label":"Move Window Up",class:"control overlay-top","touch-action":"none",onClick:a,onPointerup:x},[N(k(Bn))],32)):R("",!0),e.overlay?(p(),y("button",{key:1,"aria-label":"Move Window Down",class:"control overlay-bottom","touch-action":"none",onClick:_,onPointerup:z},[N(k(Fn))],32)):R("",!0)])],2))}}),Yn=ne($n,[["__scopeId","data-v-ca582c9d"]]),Qe=20,Gn=["data-id"],jn=2,Jn=oe({__name:"Window",props:{window:{type:vt,default:null},id:{type:String,default(){return null}},wrapper:{type:tt,default(){return null}},sidebarComponent:{type:Object,default(){return null}},sidebarComponentData:{type:Object,default(){return null}},component:{type:Object,default(){return null}},componentData:{type:Object,default(){return null}},symbolWrapper:{type:it,default(){return null}}},emits:["focus","ready","up","down","close","refresh"],setup(r,{emit:t}){const{core:s}=Ye(),l=d(null),m=d(null),o=r,b=t,a=d(o.window.options.hideRootHeader?0:Qe),_=h(()=>c(4,a.value+jn)),x=d(!0),z=d({start:void 0,move:void 0,offset:void 0}),e=d({start:void 0,move:void 0});function v(){e.value.start=void 0,e.value.move=void 0,e.value.offset=void 0}const w=new ge,E=d(!1),B=d(!1),Q=d(!1),D=d(),K=d(!0),j=d(0),S=h(()=>({size:c(()=>W.value.size-c(16,0)),position:W.value.position})),C=h(()=>{var i;return g.value.sidebar&&((i=s.value)==null?void 0:i.config.observable[_t.SHOW_STORAGE_SPACE])||!1}),P=h(()=>o.wrapper?{...o.wrapper.layout,size:c(()=>o.wrapper.layout.size+(o.window.options.hideRootHeader?Qe:0))}:{size:c(window.innerWidth,window.innerHeight)}),O=h(()=>({focused:g.value.focused})),re=h(()=>({close:g.value.close,overlay:g.value.overlay,title:g.value.title,focused:g.value.focused,fill:g.value.fillHeader||g.value.filled})),L=h(()=>Object.assign({"--header-height":j.value},W.value.size.toCSSVars("size"),W.value.position.toCSSVars("position"))),U=h(()=>({moving:E.value,scaling:B.value,scale:H.value,scroll:J.value,"scroll-x":g.value.scroll||g.value.scrollX,"scroll-y":g.value.scroll||g.value.scrollY,freeze:g.value.freeze,visible:x.value,embed:g.value.embed,focused:g.value.focused,borderless:g.value.borderless,"style-filled":g.value.filled})),Z=h(()=>P.value.size),W=h(()=>o.window.layout),fe=h(()=>W.value.size),g=h(()=>o.window.options),V=h(()=>g.value.focused||!1),H=h(()=>g.value.scale||g.value.scaleX||g.value.scaleY),J=h(()=>g.value.scroll||g.value.scrollX||g.value.scrollY);X(()=>fe.value,()=>{!B.value&&e.value&&(e.value.start=W.value.position,e.value.offset=0,ve(W.value.position,$()))}),X(()=>V.value,i=>{q(()=>{b("focus",me())}),i?w.add(G.pointerDown.pipe(Xe(({target:f})=>f&&m.value?!Vt(f,m.value):!1),Se()).subscribe(()=>{g.value.focused=!1})):w.unsubscribe()}),Ee(()=>{l.value&&(j.value=l.value.offsetHeight),o.wrapper&&K&&(K.value=!1,ee({scroll:!0}),g.value.center&&window.requestAnimationFrame(()=>{o.wrapper.centerWindow(o.id)})),V.value&&window.setTimeout(()=>{w.add(G.pointerDown.pipe(Xe(({target:i})=>i&&m.value?!!i.closest(`.wb-components-window[data-id="${o.id}"]`)&&!!i.closest(".wb-env-molecule-header"):!1),Se()).subscribe(()=>{g.value.focused=!1}))},300)}),be(()=>{w.unsubscribe()});function pe(i){o.window.setLayout(i)}function de(){g.value.focused=!1,g.value.freeze=!0}function M(){q(()=>{g.value.freeze=!1,g.value.focused=!0})}function A(){b("ready",me())}function $(){return c(()=>Z.value-W.value.size)}function Y(i){D.value=i,q(()=>D.value=void 0)}function ie(i=void 0){ke(i)}function ze(i){ee(i)}function ee(i){D.value=Object.assign({scroll:!0,resize:!0,reset:!1},i||{}),q(()=>D.value=void 0)}function Le(){g.value.freeze||o.wrapper.setActiveWindow(o.id)}function Ie(i){if(!g.value.freeze){v();const f=c(i.x,i.y);e.value.start=f,e.value.offset=c(()=>f-W.value.position);const I=$();E.value=!0;const T=G.pointerMove.subscribe(F=>{ve(c(F.x,F.y),I)});G.pointerUp.pipe(Se()).subscribe(()=>{T.unsubscribe(),E.value=!1,ee(),o.wrapper.savePosition(o.id,W.value.position)})}}function ve(i,f){i=c(()=>Math.min(i,o.wrapper.layout.position+Z.value));const I=e.value.start||c(0,0),T=e.value.move||c(0,0),F=e.value.offset||c(0,0);e.value.move=c(()=>i-I);const we=c(()=>Math.round(I+T-F)),Ae=c(Math.max(Ve.value.x?Math.min(we.x,f.x):we.x,0),Math.max(Ve.value.y?Math.min(we.y,f.y):Math.min(we.y,f.y+W.value.size.y-a.value),0));o.window.setLayout({position:Ae})}const Ve=h(()=>{const i=g.value.clampX||g.value.clamp,f=g.value.clampY||g.value.clamp;return{x:i===void 0?!0:i,y:f===void 0?!1:f}});function me(){return{id:o.id,scope:o.window,focused:V.value,refresh:ee}}function Be(){b("up",me())}function Re(){b("down",me())}function ke(i=void 0){q(()=>{b("close",{...me(),componentData:i})})}function Ge(){ke()}function u(i){$e(i);const f=c(i.x,i.y);z.value.start=f,z.value.offset=c(()=>f-W.value.size);const I=Z.value,T=G.pointerMove.subscribe(F=>{const we=z.value.start||c(0,0),Ae=c(()=>c(F.x,F.y)-we),rt=z.value.offset||c(0,0);z.value.move=Ae;let ae=c(()=>Math.round(we+Ae-rt));const{scaleX:_e,scaleY:Pe}=g.value;(!_e||_e&&ae.x+W.value.position.x<=I.x)&&(!Pe||Pe&&ae.y+W.value.position.y<=I.y)&&(!_e&&Pe?ae=c(W.value.size.x,ae.y):_e&&!Pe&&(ae=c(ae.x,W.value.size.y)),ae=c(Math.min(ae.x,I.x-o.window.layout.position.x),Math.min(ae.y,I.y-o.window.layout.position.y)),o.window.setLayout({size:ae}))});B.value=!0,G.pointerUp.pipe(Se()).subscribe(()=>{T.unsubscribe(),B.value=!1,ee(),o.wrapper.saveSize(o.id,W.value.size)})}return le("window",o.window),le("core",s.value),le("root-element",m.value),le("parentFocused",h(()=>g.value.focused)),le("parentLayout",S),le("options",O),le("window:refresh",ee),(i,f)=>(p(),y("aside",{ref_key:"rootEl",ref:m,"data-id":r.id,class:he(["wb-components-window",U.value]),style:ue(L.value),onPointerdown:Le},[n("div",null,[n("div",{ref_key:"headerEl",ref:l},[g.value.embed?R("",!0):(p(),te(Yn,xe({key:0},re.value,{"onClick:header":Ie,onUp:Be,onDown:Re,onClose:Ge}),null,16))],512),N(Pn,{options:g.value,class:"content",embed:"","set-parent-layout":pe,"parent-layout":W.value,"parent-layout-size-offset":_.value,"root-layout":P.value,"set-trigger-refresh":D.value,"set-trigger-reset":Q.value,onRefresh:Y},mt({sidebarLeft:Ce(()=>[C.value?(p(),te(We(r.sidebarComponent),xe({key:0},r.sidebarComponentData,{class:"sidebar-left"}),null,16)):R("",!0)]),default:Ce(()=>[ye(i.$slots,"default",{},()=>[(p(),te(We(r.component),xe(r.componentData,{"set-trigger-refresh":D.value,onRefresh:ze,onClose:ie,onFreeze:de,onUnfreeze:M,onReady:A}),null,16,["set-trigger-refresh"]))],!0)]),_:2},[H.value?{name:"corner",fn:Ce(()=>[n("button",{"aria-label":"Scale Window",tabindex:"-1",class:"helper-scale","touch-action":"none",onPointerdown:u},[N(k(hn))],32)]),key:"0"}:void 0]),1032,["options","parent-layout","parent-layout-size-offset","root-layout","set-trigger-refresh","set-trigger-reset"])])],46,Gn))}}),qn=ne(Jn,[["__scopeId","data-v-25166b01"]]),Kn=oe({__name:"WindowWrapper",props:{wrapper:{type:tt,default:null}},setup(r,{expose:t}){var j;const{core:s}=Ye(),l=r,m=wt("parentLayout",d({position:c(0,0),size:c(window.innerWidth,window.innerHeight)})),o=new ge,b=d(!1),a=(j=s.value)==null?void 0:j.modules.screen,_=h(()=>a==null?void 0:a.contentLayout.size),x=h(()=>Array.from(l.wrapper.models).sort((S,C)=>(S.layout.zIndex||0)-(C.layout.zIndex||0)));X(()=>m,()=>{e()},{deep:!0}),X(()=>_.value,S=>{S&&l.wrapper.setLayout({size:S})}),X(()=>l.wrapper,()=>{e()}),Ee(async()=>{o.add(G.resize.subscribe(w)),await e(!0),b.value=!0}),be(()=>{o.unsubscribe()});const z=S=>{const{id:C,layout:P,sidebarComponent:O,sidebarComponentData:re,component:L,componentData:U}=S;return{window:S,id:C,wrapper:l.wrapper,layout:P,sidebarComponent:O,sidebarComponentData:re,component:L,componentData:U}},e=(S=!1)=>S?(w(),Promise.resolve()):new Promise(C=>{q(()=>{window.setTimeout(()=>{w(),C(void 0)},500)})}),v=d(null),w=()=>{if(v.value){const{x:S,y:C,width:P,height:O}=v.value.getBoundingClientRect();l.wrapper.setLayout({position:c(S,C),size:c(P,O)})}},E=({id:S})=>{var C;l.wrapper.get(S)&&((C=l.wrapper.get(S))==null||C.ready())},B=({id:S,focused:C})=>{var P;l.wrapper.get(S)&&C&&((P=l.wrapper.get(S))==null||P.focus())},Q=({id:S})=>{l.wrapper.setWindowUpDown(S,!1)},D=({id:S})=>{l.wrapper.setWindowUpDown(S,!0)},K=({id:S,componentData:C})=>{var P;l.wrapper.get(S)&&((P=l.wrapper.get(S))==null||P.close(C))};return t({refresh:e}),(S,C)=>(p(),y("div",{ref_key:"rootEl",ref:v,class:"wb-components-window-wrapper"},[ye(S.$slots,"default",{},void 0,!0),r.wrapper&&b.value?(p(!0),y(ot,{key:0},nt(x.value,P=>(p(),te(qn,xe({key:P.id,ref_for:!0},z(P),{onReady:E,onFocus:B,onClose:K,onUp:Q,onDown:D}),null,16))),128)):R("",!0)],512))}}),Xn=ne(Kn,[["__scopeId","data-v-8c1bc858"]]),Qn=oe({__name:"WebDos",props:{command:{type:String,default:null}},emits:["close"],setup(r,{emit:t}){var b;const{core:s}=Ye(),l=t;Tt();const m=d([`Make by Lammpee ${new Date().getFullYear()}`,`Release ${(b=s.value)==null?void 0:b.version}`]);function o(){window.setTimeout(()=>{l("close")},1e3*(2+Math.floor(Math.random()*3)))}return(a,_)=>(p(),te(Pt,{"show-introduction":!1,"delimiter-prefix":"","start-commands":r.command,core:k(s),class:"wb-module-core-web-dos","pre-rows":m.value,onStartCommandsComplete:o},null,8,["start-commands","core","pre-rows"]))}}),Zn=ne(Qn,[["__scopeId","data-v-012d5740"]]),De=""+new URL("CBfz6dJl.woff2",import.meta.url).href,Ze=""+new URL("Ds3lXCLM.woff2",import.meta.url).href,er="data:font/woff2;base64,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",tr=[{preload:!0,fontFamily:"Amiga Topaz 13",fontVariant:"normal",fontFeatureSettings:"normal",fontStretch:"normal",fontWeight:400,fontStyle:"normal",fontDisplay:"swap",src:[De,"woff2"]},{preload:!0,fontFamily:"Amiga Topaz 13",fontVariant:"normal",fontFeatureSettings:"normal",fontStretch:"normal",fontWeight:700,fontStyle:"normal",fontDisplay:"swap",src:[De,"woff2"]},{preload:!0,fontFamily:"Amiga Topaz 13 Console",fontVariant:"normal",fontFeatureSettings:"normal",fontStretch:"normal",fontWeight:400,fontStyle:"normal",fontDisplay:"swap",src:[Ze,"woff2"]},{fontFamily:"Amiga Topaz 13",fontVariant:"normal",fontFeatureSettings:"normal",fontStretch:"normal",fontWeight:700,fontStyle:"normal",fontDisplay:"swap",src:[De,"woff2"]},{fontFamily:"Amiga Topaz 13 Console",fontVariant:"normal",fontFeatureSettings:"normal",fontStretch:"normal",fontWeight:700,fontStyle:"normal",fontDisplay:"swap",src:[Ze,"woff2"]},{fontFamily:"BitFont",fontVariant:"normal",fontFeatureSettings:"normal",fontWeight:400,fontStyle:"normal",fontDisplay:"swap",src:[er,"woff2"]}];function or(r=0){return"SLEEP "+Number(r)}async function nr(r,{disks:t,cloudStorages:s,withWebDos:l}){var z;const m=!l,o=e=>m?void 0:or(e),b=e=>e.length?[o(1e3),'Headline("Mount Disks")',o(1e3),...e.reduce((v,w)=>w.hidden?v.concat([`mountDisk "${w.name}"`]):v.concat([`mountDisk "${w.name}"`,o(1e3)]),[]),"rearrangeIcons -root"]:[];function a(e){const v=Object.values(Ke).filter(E=>e[E]);if(v.length>1)throw new Error("Multiple cloud storage types are not supported");const w=v[0];return{type:w,config:e[w]}}const _=e=>e.length<1?[]:[o(1e3),'Headline("Mount Cloud Storages")',o(1e3),...e.reduce((v,w)=>{const{type:E,config:B}=a(w);if(!B)throw new Error("Invalid storage configuration");switch(E){case Ke.FIREBASE:if(!B.apiKey||!B.url)throw new Error("Missing Firebase configuration");v.push(`cloudMountFirebase "${w.name}" --api-key="${B.apiKey}" --url="${B.url}"`);break;default:throw new Error(`Unsupported cloud storage type: ${E}`)}return v.push(o(1e3)),v},[])],x=["// Functions","SUB Separator(stars) STATIC",'PRINT STRING$(stars, "*")',"END SUB","SUB Headline(title$) STATIC",'LET title$ = "*** " + title + " ***"','PRINT ""',"Separator(LEN(title$))","PRINT title$","Separator(LEN(title$))",'PRINT ""',"END SUB","// Output"];x.push(...b(t)),x.push(..._(s)),x.push(o(1e3),'PRINT ""','PRINT "<strong>Waiting is user experience </strong>"'),await((z=r.modules.files)==null?void 0:z.fs.createTmpFile("BOOT.basic","BOOT.basic",{type:"basic",content:x.filter(e=>e!==void 0)}))}const rr=oe({__name:"Core",props:{config:{},core:{}},emits:["ready"],setup(r,{emit:t}){const s=d(null),l=d(null),m=d(null),o=d(null),b=d(null),a=r,_=t,{registerFont:x}=Wt();x(tr);const z=h(()=>{var u;return(u=a.core.modules.windows)==null?void 0:u.contentWrapper}),e=h(()=>{var u;return(u=a.core.modules.screen)!=null&&u.currentTheme?a.core.modules.screen.currentTheme:new ut}),v=h(()=>{var i;const u=(i=e.value)==null?void 0:i.toCSSVars();return u?`:root {
        ${Object.keys(u).map(f=>`${f}: ${u[String(f)]};`).join(`
`)}
      }`:null});Bt(()=>({style:[v.value&&{key:"wb-core-vars",type:"text/css",innerHTML:v.value}].filter(Boolean)}));const w=yt();le("core",a.core);const E=h(()=>"no-boot"in w.query),B=h(()=>"no-webdos"in w.query),Q=d(a.config.noDisk===Ht.FORCE),D=h(()=>Q.value||"no-disk"in w.query),K=h(()=>"no-cloud-storage"in w.query),j=new ge,S=d({position:c(0,0),size:c(0,0)});le("parentLayout",S);const C=d(!1),P=d(!1),O=d(!1),re=d([]),L=h(()=>a.core.config.observable),U=d(ce.SEQUENCE_1),Z=h({get(){return a.core.config.observable[se.SCREEN_CONFIG]},set(u){a.core.config.set(se.SCREEN_CONFIG,u)}}),W=h(()=>({"--default-cursor":`url(${Nt})`})),fe=h(()=>U.value===ce.NO_DISK),g=h(()=>Z.value.horizontalCentering),V=h(()=>a.core.modules.windows?a.core.modules.windows.contentWrapper.isHeaderVsible():!0),H=h(()=>ve.value?ce.ERROR:U.value),J=h(()=>a.core.modules.screen?a.core.modules.screen.cursor:null),pe=h(()=>({frameActive:L.value[se.SCREEN_1084_FRAME],hasRealLook:L.value[se.SCREEN_REAL_LOOK],hasScanLines:L.value[se.SCREEN_SCAN_LINES],hasActiveAnimation:!E.value&&L.value[se.SCREEN_ACTIVE_ANIMATION]})),de=h(()=>L.value[se.SCREEN_1084_FRAME]),M=h(()=>({ready:O.value,waiting:A.value})),A=h(()=>a.core.executionCounter>0),$=h(()=>{var u;return(u=a.core.modules.windows)==null?void 0:u.contextMenu.activeItems.items});X(()=>g.value,()=>{ee()});let Y=-1;X(()=>A.value,(u,i)=>{J.value&&(u&&!i?Y=window.setTimeout(()=>{var f;(f=J.value)==null||f.setWait(!0)},0):u||(window.clearTimeout(Y),J.value.setWait(!1)))}),X(()=>de.value,()=>{q(()=>{ee(),q(()=>{var u,i,f;(i=(u=a.core.modules.symbols)==null?void 0:u.defaultWrapper)==null||i.rearrangeIcons({root:!0}),(f=a.core.modules.windows)==null||f.contentWrapper.setWindowPositions(ct.CENTER)})})}),Ee(async()=>{var u,i;j.add(G.resize.subscribe(ee)),window.fileSystem=(u=a.core.modules.files)==null?void 0:u.fs,l.value&&a.core.addModule(at,{contentEl:l.value}),await a.core.setup({firebase:a.config.firebase,symbols:a.config.symbols,disks:a.config.disks}),ee(),j.add(a.core.errorObserver.subscribe(f=>{me(f)})),await ze(),await Le(),await Ot(Rt(a.config.startCommands).pipe(Lt(f=>a.core.executeCommand(f)),It())),(i=a.config.rootItems)!=null&&i.length&&await a.core.addRootItems(await a.config.rootItems({core:a.core}))}),be(()=>{var u;re.value.forEach(i=>{var f;return(f=a.core.modules.files)==null?void 0:f.fs.removeFloppyDisk(i)}),(u=a.core.modules.windows)==null||u.clear(),j.unsubscribe()});function ie(u){!O.value&&!u&&(Q.value=!0),u&&q(()=>{ee()})}function ze(){var f,I;let u,i=!1;if(E.value||(L.value[se.BOOT_WITH_SEQUENCE]?u=new Promise(T=>window.setTimeout(async()=>{var F;await((F=m.value)==null?void 0:F.turnOn(1500)),T(!0)},1e3)):L.value[se.BOOT_WITH_WEBDOS]?u=(f=m.value)==null?void 0:f.turnOn(2e3):u=(I=m.value)==null?void 0:I.turnOn(0)),i=!!u,!i&&m.value&&(u=m.value.turnOn(2e3).then(()=>{var T;return(T=b.value)==null?void 0:T.refresh()}).catch(T=>{throw T})),u=u==null?void 0:u.then(()=>{var T;return(T=m.value)==null?void 0:T.togglePanel(!0)}),i)return u}function ee(){var u,i;if(s.value&&l.value&&o.value){const{left:f,top:I,width:T,height:F}=s.value.getBoundingClientRect();S.value={position:c(f,I),size:c(T,F)},l.value&&((u=a.core.modules.screen)==null||u.updateContentLayout(l.value),(i=a.core.modules.screen)==null||i.updateScreenLayout(o.value))}}async function Le(){const u=a.core.addExecution(),i=E.value?!1:L.value[se.BOOT_WITH_SEQUENCE]||!1;await Be(i),D.value?U.value=ce.NO_DISK:(U.value=ce.READY,ee(),C.value=!0,await new Promise(f=>{q(async()=>{var T,F;l.value&&o.value&&((T=a.core.modules.screen)==null||T.updateContentLayout(l.value),(F=a.core.modules.screen)==null||F.updateScreenLayout(o.value)),P.value=!0;const I=B.value?!1:L.value[se.BOOT_WITH_WEBDOS]||!1;await Re(I),O.value=!0,f(void 0)})}),u(),_("ready"))}function Ie(){ve.value=Ve.value.shift()}const ve=d(),Ve=d([]);function me(u,i=!0){console.warn(u);const f={input:"Press left mouse button or touch to continue.",message:u.message,stack:null,code:`#${Math.floor(Math.random()*99999999)}.${Math.floor(Math.random()*99999999)}`};i||(f.input=void 0),f.userInteraction=i,ve.value?Ve.value.push(f):ve.value=f}async function Be(u){const i=[ce.SEQUENCE_1,ce.SEQUENCE_2,ce.SEQUENCE_3];if(u){let f=i.length;const I=async()=>{f--,U.value=i[i.length-Number(f)],f>0&&(await new Promise(T=>{window.setTimeout(T,je)}),await I())};await new Promise(T=>window.setTimeout(T,je/2)),await I()}else U.value=i[i.length-1]}async function Re(u){await void 0;const i=K.value?[]:a.config.cloudStorages;await nr(a.core,{withWebDos:u,disks:a.config.disks,cloudStorages:i});const f=['remove "TMP:BOOT.basic"'];return u?await ke():f.unshift('basic "TMP:BOOT.basic"'),a.core.executeCommands(f)}function ke(){var i,f;const u=(i=a.core.modules.windows)==null?void 0:i.addWindow({component:Zn,componentData:{core:a.core,command:'basic "TMP:BOOT.basic"'},options:{title:"WebDOS",scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!0,embed:!0}},{full:!0});if(u)return(f=u.wrapper)==null||f.centerWindow(u),u.focus(),u==null?void 0:u.awaitClose()}function Ge(){}return(u,i)=>(p(),y("div",{ref_key:"rootEl",ref:s,class:he(["wb-env-core",k(M)]),style:ue(k(W))},[gt(" ["+He(k(e).name)+"] ",1),N(Xo,xe({ref_key:"screenEl",ref:m,modelValue:k(Z),"onUpdate:modelValue":i[0]||(i[0]=f=>bt(Z)?Z.value=f:null),"boot-sequence":k(H),theme:k(e),cursor:k(J)},k(pe),{onToggleScreenActive:ie}),{default:Ce(()=>{var f;return[n("div",{ref_key:"innerEl",ref:o,class:"inner"},[k(C)&&k(V)?(p(),te(vn,{key:0,core:u.core,"show-cover":!k(O),items:k($),"parent-layout":(f=u.core.modules.windows)==null?void 0:f.contentWrapper.layout},null,8,["core","show-cover","items","parent-layout"])):R("",!0),n("div",{ref_key:"contentEl",ref:l,class:"content"},[k(C)?(p(),te(Xn,{key:0,ref_key:"windowWrapperEl",ref:b,core:u.core,wrapper:k(z),"clamp-y":!1},{default:Ce(()=>{var I,T,F;return[k(P)&&((T=(I=u.core.modules.symbols)==null?void 0:I.defaultWrapper)!=null&&T.id)?(p(),te(lt,{key:0,core:u.core,"wrapper-id":(F=u.core.modules.symbols.defaultWrapper)==null?void 0:F.id,"parent-scrollable":!1,class:"symbol-wrapper","clamp-symbols":!0,"show-storage-bar":!1},null,8,["core","wrapper-id"])):R("",!0)]}),_:1},8,["core","wrapper"])):R("",!0),k(fe)?(p(),te(nn,{key:1})):R("",!0),k(ve)?(p(),te(kt,xe({key:2},k(ve),{onClose:Ie}),null,16)):R("",!0)],512)],512)]}),_:1},16,["modelValue","boot-sequence","theme","cursor"])],6))}}),Yr=ne(rr,[["__scopeId","data-v-698d382b"]]);export{Yr as default};

import{Z as _,j as p,k as m,u as c,ar as A}from"./D5MpIc4o.js";import{_ as h,i as B,t as a,v as n,z as w,x as i,y as C,$ as k,a0 as $}from"./BVOdMTUx.js";import"./CTgiTu_k.js";const O={components:{AtomMarkdown:_},props:{...p},emits:[...m],setup(e,t){const l=c(e,t);return l.setContextMenu(r),l},data(){return{content:["# Calculator",`Version: **1.0**  
Created by **Thorn-Welf Walli**`].join(`
`)}},computed:{contextMenu(){return new A(r,{core:this.core})}}},b={class:"wb-disks-workbench13-calculator-info"};function v(e,t,l,d,o,s){const u=B("atom-markdown");return a(),n("div",b,[w(u,{content:o.content},null,8,["content"])])}const x=h(O,[["render",v],["__scopeId","data-v-2d33b183"]]),r=({core:e})=>{const{windows:t}=e.modules;return[{title:"Calculator",items:[{hotKey:"I",keyCode:73,title:"Info",action(){t.addWindow({title:"Info",component:x,componentData:{},options:{prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Calculator"})}}]}]},g={props:{...p},emits:[...m],setup(e,t){const l=c(e,t);return l.setContextMenu(r),l},data(){return{tmpValueA:null,tmpValueB:null,tmpOperator:null,result:null,value:null,buttons:["7","8","9","CA","CE","4","5","6","*","/","1","2","3","+","-","0",".","<-","+-","="]}},computed:{resultValue(){return[this.tmpValueA,this.tmpOperator,this.tmpValueB].filter(e=>e!==null).join(" ")}},methods:{async onClickButton(e){const t=e.target.value;if(/^[0-9,.]+$/.test(t)&&this.tmpOperator===null?this.tmpValueA=(this.tmpValueA||"")+t:/^[0-9,.]+$/.test(t)&&this.tmpOperator&&this.tmpValueA!==null&&(this.tmpValueB=(this.tmpValueB||"")+t),/^[\\/*-+=]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB!==null&&this.tmpOperator){const l=await this.core.modules.parser.parseMath(`${this.tmpValueA}${this.tmpOperator}${this.tmpValueB}`);this.tmpValueA=l,this.tmpOperator=null,this.tmpValueB=null}/^[\\/*-+]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB===null&&(this.tmpOperator=t),/^<-$/.test(t)&&this.tmpValueA!==null&&(this.tmpValueA!==null&&this.tmpValueB===null?(this.tmpOperator=null,this.tmpValueA=String(this.tmpValueA).slice(0,this.tmpValueA.length-1)):this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=String(this.tmpValueB).slice(0,this.tmpValueB.length-1))),/^\+-$/.test(t)&&(this.tmpValueA!==null&&this.tmpValueB===null?this.tmpValueA=parseFloat(this.tmpValueA)*-1:this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=parseFloat(this.tmpValueB)*-1)),/^CA$/.test(t)&&(this.tmpOperator=this.tmpValueA=this.tmpValueB=null),/^CE$/.test(t)&&(this.tmpValueB!==null?this.tmpValueB=null:this.tmpOperator?this.tmpOperator=null:this.tmpValueA!==null&&(this.tmpValueA=null))}}},y={class:"wb-disks-workbench13-calculator"},M={class:"result","data-hook":"calculatorResult"},I={class:"buttons"},W=["value"];function E(e,t,l,d,o,s){return a(),n("div",y,[i("span",M,C(s.resultValue),1),i("div",I,[(a(!0),n(k,null,$(o.buttons,(u,V)=>(a(),n("span",{key:V},[i("input",{type:"button",value:u,onClick:t[0]||(t[0]=(...f)=>s.onClickButton&&s.onClickButton(...f))},null,8,W)]))),128))])])}const D=h(g,[["render",E],["__scopeId","data-v-756f39d2"]]);export{D as default};

(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{356:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return A}));n(242);var r=n(116),c=n(117),o=n(245),h=n(243),d=n(244),f=(n(75),n(254)),l=n(253),v=n(283);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var c=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var A=function(t){Object(o.a)(n,t);var e=y(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).status=0,c}return Object(c.a)(n,[{key:"onPointerMove",value:function(t,e){var n=this;if(e.pressed&&this.selectedAnchor)return this.selectedAnchor.x=t.x,this.selectedAnchor.y=t.y,this._app.canvas.addPassiveRenderAction((function(){n.render(!0)})),{render:!0}}},{key:"onPointerDown",value:function(t){var e=this,n=this.getAnchorByPosition(t.x,t.y);switch(this.status){case 1:if(!n)return this.status=2,this._app.canvas.addRenderAction((function(){e.render(!1),e.reset()})),{save:!0,render:!0};this.selectedAnchor=n;break;default:n&&this.anchors[0]===n?(this.status=1,this.selectedAnchor=n):this.selectedAnchor=n||this.addAnchor(t.x,t.y)}return this._app.canvas.addPassiveRenderAction((function(){e.render(e.status<2)})),{render:!0}}},{key:"isClosed",value:function(){return this.status>0}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(e,n){var data=[].concat(t._brush.data);l.default.drawBrush({color:t._brush.primaryColor,data:data,x:e,y:n,app:t._app})};Object(f.polygon)(n,this.anchors,this.status>0,{filled:this.filled}),e&&this.drawAnchors()}},{key:"reset",value:function(){v.default.prototype.reset.apply(this,arguments),this.status=0}}]),n}(v.default)}}]);
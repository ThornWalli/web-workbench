import{d as P,r as u,a0 as p,y as f,z as m,C as r,D as i,A as l,P as C,X as k,Y as D,Z as T,a3 as M,ae as N,B as _,F as O,I as z,_ as A}from"./BkRx7U8b.js";import{h,r as H}from"./CNkvSXuu.js";import{P as c,D as L,g as b,b as I,a as j}from"./CJzlme9J.js";import{C as S}from"./BJmh0rUk.js";import{W as R}from"./BPnw8H1C.js";import{W as $}from"./eRs2tlcG.js";import{_ as g}from"./C-jUgzLs.js";import{W}from"./CcXWfcLA.js";import{W as G}from"./D9PjJnFw.js";import{W as X}from"./DpGpKT4E.js";import{u as Y}from"./JsFOm8c5.js";import{u as Z}from"./ClLpnmyR.js";import"./BoZA8JgY.js";import"./BTMT_sH9.js";const q={class:"wb-module-core-color-settings"},J={class:"col-1"},K={class:"colors-select-list"},Q=["value"],ee={class:"col-1 colors"},le={class:"color-controls"},oe={class:"color-preview"},se=P({__name:"ColorSettings",emits:["close"],setup(te,{emit:F}){const{core:d}=Z();Y();const x=F,V=d.value?.config?.get(S.THEME)||c[L],a=u({...V,colors:b(V.colors)}),n=u(a.value.colors[1]),t=u(h(a.value.colors[1])),y=u("Save"),v=u(),E=u({presets:{label:"Presets",options:[{title:"Select Theme",value:""},...Object.keys(c).map(s=>({title:c[s].name,value:s}))]},filter:{label:"Filter",options:[{title:"Invert",value:"invert(100%)"},{title:"Brightness",value:"brightness(50%)"}]}});p(()=>v.value,s=>{if(s){const e=c[s];a.value={name:e.name,colors:b(e.colors),filter:e.filter},console.log({name:e.name,colors:b(e.colors),filter:e.filter}),n.value=a.value.colors[0]}}),p(()=>n.value,s=>{t.value=h(s)}),p(()=>t.value,s=>{const e=Object.values(s).map(o=>Number(o));n.value=a.value.colors[a.value.colors.indexOf(n.value)]=H(...e)},{deep:!0});function U(){const s={...a.value,colors:I(a.value.colors)};d.value?.config.set(S.THEME,s),d.value?.modules.screen?.setTheme(new j("custom",s)),x("close")}return(s,e)=>(m(),f("div",q,[r(R,{class:"form",onSubmit:U},{default:i(()=>[l("div",null,[l("div",J,[r(W,C(E.value.presets,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o)}),null,16,["modelValue"]),r($,{label:"Colors",class:"color-select"},{default:i(()=>[l("div",K,[(m(!0),f(k,null,D(a.value.colors,(o,B)=>(m(),f("label",{key:B,style:T({"--color":o})},[M(l("input",{"onUpdate:modelValue":e[1]||(e[1]=w=>n.value=w),type:"radio",name:"color",value:o},null,8,Q),[[N,n.value]])],4))),128))])]),_:1}),r(W,C(E.value.filter,{modelValue:a.value.filter,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.filter=o)}),null,16,["modelValue"])]),l("div",ee,[l("div",le,[l("div",oe,[l("i",{style:T(`background-color: rgb(${t.value.join(", ")});`)},null,4)]),l("div",null,[l("div",null,[r(g,{modelValue:t.value[0],"onUpdate:modelValue":e[3]||(e[3]=o=>t.value[0]=o),"style-type":"color-select",label:"Red",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[l("span",null,_(t.value[0].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),l("div",null,[r(g,{modelValue:t.value[1],"onUpdate:modelValue":e[4]||(e[4]=o=>t.value[1]=o),"style-type":"color-select",label:"Green",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[l("span",null,_(t.value[1].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),l("div",null,[r(g,{modelValue:t.value[2],"onUpdate:modelValue":e[5]||(e[5]=o=>t.value[2]=o),"style-type":"color-select",label:"Blue",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[l("span",null,_(t.value[2].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])])])])])]),r(X,{align:"outer",full:""},{default:i(()=>[y.value?(m(),O(G,{key:0,"style-type":"primary",label:y.value,type:"submit"},null,8,["label"])):z("",!0)]),_:1})]),_:1})]))}}),Ve=A(se,[["__scopeId","data-v-6980c64d"]]);export{Ve as default};

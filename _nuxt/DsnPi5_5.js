import{W as B}from"./BPnw8H1C.js";import{W as c}from"./D9PjJnFw.js";import{W as O}from"./DpGpKT4E.js";import{W as g}from"./DJBUgBH1.js";import{W as x}from"./CPrp_Jrr.js";import{u as P}from"./JsFOm8c5.js";import{u as V}from"./ClLpnmyR.js";import{d as f}from"./B3Wmi0DA.js";import{d as D,r as d,k as a,y as N,z as p,C as n,D as v,F as R,I as $,P as b,G as h,O as z}from"./BkRx7U8b.js";const G={class:"wb-module-files-open"};var H=(t=>(t.FILE="file",t.FOLDER="folder",t.BOTH="both",t))(H||{});const Z=D({__name:"Open",props:{type:{},fsItem:{},model:{}},emits:["close"],setup(t,{emit:y}){const{core:o}=V();if(!o.value?.modules.files)throw new Error("Files module not found");P();const W="file",l=t,r=y,s=d({...l.model,path:l.model?.path||l.fsItem.getPath()}),u={cancel:"Cancel",open:"Open"},F=a(()=>({label:null,placeholder:"Pathâ€¦",modelValue:s.value.path})),C=a(()=>({name:"path",modelValue:s.value.path,"onUpdate:model-value":e=>{s.value.path=e},onSelect:k})),m=d(l.fsItem||o.value?.modules.files?.fs.root),i=a(()=>m.value instanceof f),I=a(()=>{const e=l.type||W;return e==="both"||!i.value&&["file"].includes(e)||i.value&&["folder"].includes(e)}),_=a(()=>l.fsItem?l.fsItem:o.value?.modules.files?.fs.root?o.value?.modules.files.fs.root:null),k=e=>{m.value=z(e),e instanceof f&&(s.value.path=e.getPath())},S=()=>{r("close")},w=()=>{r("close",s.value.path)};return(e,M)=>(p(),N("div",G,[n(B,{onSubmit:w},{default:v(()=>[n(x,b(F.value,{readonly:""}),null,16),h(o)?.modules.files?.fileSystem?(p(),R(g,b({key:0},C.value,{"file-system":h(o)?.modules.files.fileSystem,"fs-item":_.value}),null,16,["file-system","fs-item"])):$("",!0),n(O,{align:"outer",full:""},{default:v(()=>[n(c,{"style-type":"secondary",label:u.cancel,onClick:S},null,8,["label"]),n(c,{"style-type":"primary",label:u.open,type:"submit",disabled:!I.value},null,8,["label","disabled"])]),_:1})]),_:1})]))}});export{H as S,Z as _};

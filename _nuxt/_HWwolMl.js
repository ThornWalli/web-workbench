import{c as a}from"./VQ31Hp6z.js";import{u as e}from"./Dkhtr-D7.js";import{u as l}from"./D1WZfvAb.js";import{d as v,r as u,k as t,y as o,z as s,A as i,B as n,X as d,Y as r,_ as c}from"./BfpYGSxR.js";import"./Cy0zoxeo.js";import"./jSR9Z_uS.js";const p={class:"wb-disks-workbench13-calculator"},m={class:"result","data-hook":"calculatorResult"},f={class:"buttons"},$=["value"],g=c(v({__name:"Calculator",props:{model:{}},setup(v){const{core:c}=l(),{setContextMenu:g}=e();g(a,{model:v.model});const C=u(),k=u(),j=u(),S=u(["7","8","9","CA","CE","4","5","6","*","/","1","2","3","+","-","0",".","<-","+-","="]),h=t(()=>[C.value,j.value,k.value].filter(a=>void 0!==a).join(" "));async function onClickButton(a){var e,l,v;if(a.target instanceof HTMLInputElement&&(null==(e=c.value)?void 0:e.modules.parser)){const e=null==(l=a.target)?void 0:l.value;if(/^[0-9,.]+$/.test(e)&&void 0===j.value?C.value=(C.value||"")+e:/^[0-9,.]+$/.test(e)&&j.value&&void 0!==C.value&&(k.value=(k.value||"")+e),/^[\\/*-+=]$/.test(e)&&void 0!==C.value&&void 0!==k.value&&j.value){const a=await(null==(v=c.value.modules.parser)?void 0:v.parseMath(`${C.value}${j.value}${k.value}`));C.value=String(a),j.value=void 0,k.value=void 0}/^[\\/*-+]$/.test(e)&&void 0!==C.value&&void 0===k.value&&(j.value=e),/^<-$/.test(e)&&void 0!==C.value&&(void 0!==C.value&&void 0===k.value?(j.value=void 0,C.value=String(C.value).slice(0,C.value.length-1)):void 0!==C.value&&j.value&&(k.value=String(k.value).slice(0,String(k.value).length-1))),/^\+-$/.test(e)&&(void 0!==C.value&&void 0===k.value?C.value=String(-1*parseFloat(C.value)):void 0!==C.value&&j.value&&(k.value=String(-1*parseFloat(k.value||"0")))),/^CA$/.test(e)&&(j.value=C.value=k.value=void 0),/^CE$/.test(e)&&(void 0!==k.value?k.value=void 0:j.value?j.value=void 0:void 0!==C.value&&(C.value=void 0))}}return(a,e)=>(s(),o("div",p,[i("span",m,n(h.value),1),i("div",f,[(s(!0),o(d,null,r(S.value,(a,e)=>(s(),o("span",{key:e},[i("input",{type:"button",value:a,onClick:onClickButton},null,8,$)]))),128))])]))}}),[["__scopeId","data-v-42c89fa5"]]);export{g as default};

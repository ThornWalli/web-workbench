var A=Object.defineProperty;var u=e=>{throw TypeError(e)};var g=(e,t,i)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var s=(e,t,i)=>g(e,typeof t!="symbol"?t+"":t,i),p=(e,t,i)=>t.has(e)||u("Cannot "+i);var c=(e,t,i)=>(p(e,t,"read from private field"),i?i.call(e):t.get(e)),a=(e,t,i)=>t.has(e)?u("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),d=(e,t,i,o)=>(p(e,t,"write to private field"),o?o.call(e,i):t.set(e,i),i);import{a as l,f as w}from"./DCzE-LO6.js";import{s as n}from"./CrQvwhUk.js";const D=new Promise(e=>{/complete|interactive|loaded/.test(document.readyState)?e():document.addEventListener("DOMContentLoaded",e,!1)});var h;class k{constructor(){a(this,h);window.requestAnimationFrame(()=>{document.documentElement.style.overflowY="scroll",d(this,h,window.innerWidth-document.body.offsetWidth),document.documentElement.style.overflowY=null})}get size(){return c(this,h)}}h=new WeakMap;const M=new k;function y(e,t){return e===t?!0:e.parentElement?e.parentElement!==t?y(e.parentElement,t):!0:!1}window.requestAnimationFrame(()=>{document.documentElement.style.overflowY="scroll",window.innerWidth-document.body.offsetWidth,document.documentElement.style.overflowY=null});function f(e){if(e.touches&&e.touches.length>0){const t=e.touches[0];e.clientX=t.clientX,e.clientY=t.clientY}return"x"in e||(e.x=e.clientX,e.y=e.clientY),e}var r;class b{constructor(){a(this,r,new Map);s(this,"capsLockActive",!1);s(this,"shiftLeftActive",!1);s(this,"shiftRightActive",!1);s(this,"cmdLeftActive",!1);s(this,"cmdRightActive",!1);s(this,"altLeftActive",!1);s(this,"altRightActive",!1);s(this,"pointerDown",null);s(this,"pointerUp",null);s(this,"pointerMove",null);s(this,"keyDown",null);s(this,"keyUp",null);this.resize=this.get("resize",window).pipe(n()),this.pointerDown=this.getPointerDown(),this.pointerUp=this.getPointerUp(),this.pointerMove=this.getPointerMove(),this.keypress=this.get("keypress").pipe(n()),this.keydown=this.keyDown=this.get("keydown").pipe(n()),this.keyup=this.keyUp=this.get("keyup").pipe(n()),this.keyDown.subscribe(({keyCode:t,location:i})=>{switch(t){case 91:this.cmdLeftActive=!0;break;case 93:this.cmdRightActive=!0;break;case 16:i===2?this.shiftRightActive=!0:this.shiftLeftActive=!0;break;case 18:i===2?this.altRightActive=!0:this.altLeftActive=!0;break;case 20:this.capsLockActive=!this.capsLockActive;break}}),this.keyUp.subscribe(({keyCode:t,location:i})=>{switch(t){case 91:this.cmdLeftActive=!1;break;case 93:this.cmdRightActive=!1;break;case 16:i===2?this.shiftRightActive=!1:this.shiftLeftActive=!1;break;case 18:i===2?this.altRightActive=!1:this.altLeftActive=!1;break}})}getPointerDown(t){return this.get("pointerdown",t).pipe(l(i=>f(i))).pipe(n())}getPointerUp(t){return this.get("pointerup",t).pipe(l(i=>f(i))).pipe(n())}getPointerMove(t){return this.get("pointermove",t).pipe(l(i=>f(i))).pipe(n())}get(t,i){i=i||document,c(this,r).has(i)||c(this,r).set(i,new Map);const o=c(this,r).get(i);if(!o.has(t)){const v={passive:!0,capture:!1};o.set(t,w(i,t,v))}return o.get(t)}reset(){Array.from(c(this,r).values).forEach(t=>t.unsubscribe()),c(this,r).reset()}get cmdActive(){return this.cmdLeftActive||this.cmdRightActive}get altActive(){return this.altLeftActive||this.altRightActive}get shiftActive(){return this.shiftLeftActive||this.shiftRightActive}}r=new WeakMap;let m;const P=m||(m=new b);export{D as a,y as c,P as d,M as s,f as t};

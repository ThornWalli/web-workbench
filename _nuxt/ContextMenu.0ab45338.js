import{_ as l,k as n,l as c,m as a,t as d,f as h,q as v,v as y,C as x,x as f,y as I,J as b,N as C,O as g,z as S,I as k,G as $,L as w,F as A}from"./entry.7783902a.js";import{S as V,b as p,g as E,r as T,q as s}from"./index.faf1b937.js";const O={props:{text:{type:String,default:""}}},R={class:"wb-env-atom-context-menu-text"},H={class:"inner"},K={class:"title"};function D(e,t,o,u,_,i){return n(),c("li",R,[a("div",H,[a("span",K,d(o.text),1)])])}const M=l(O,[["render",D],["__scopeId","data-v-989cae5d"]]),P={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16"},U=a("g",{class:"svg-primary"},[a("path",{d:"M20 2V0H2v2H0v12h2v2h18v-2h2V2h-2zm-1 12h-5v-2H8v2H3v-2h2v-2h2V8h2V6h2V4h2V2h3.667v10H19v2z"}),a("path",{d:"M12 6h2v4h-4V8h2z"})],-1),B=[U];function z(e,t){return n(),c("svg",P,B)}const L={render:z};const N={components:{SvgControlContextInputHotkey:L},props:{title:{type:String,default:"Item Title"},hotKey:{type:String,default:null},action:{type:Function,default:null}},emits:["files"],data(){return{accept:"application/json",subscription:new V}},mounted(){this.optionsWrapper=this.options,this.$nextTick(()=>{this.hotKey&&this.subscription.add(p.keyDown.subscribe(e=>{var t;p.cmdActive&&((t=this.hotKey)==null?void 0:t.charCodeAt(0))===e.keyCode&&this.executeAction()}))})},unmounted(){this.subscription.unsubscribe()},methods:{onChange(e){const t=e.target,o=Array.from((e.dataTransfer||e.target).files);t.value=null,this.action?this.action(o):this.$emit("files",o)}}},X={class:"wb-env-atom-context-menu-upload"},W={class:"inner"},q={class:"title"},F={key:0,class:"hotkey"},j=["accept"];function G(e,t,o,u,_,i){const r=h("svg-control-context-input-hotkey");return n(),c("li",X,[a("div",W,[a("span",q,d(o.title),1),o.hotKey?(n(),c("span",F,[v(r),y(" "+d(o.hotKey),1)])):x("",!0),a("input",{accept:_.accept,type:"file",onChange:t[0]||(t[0]=(...m)=>i.onChange&&i.onChange(...m))},null,40,j)])])}const J=l(N,[["render",G],["__scopeId","data-v-f2a1e17f"]]);const Y={},Q=e=>(f("data-v-0c77b733"),e=e(),I(),e),Z={class:"wb-env-atom-context-menu-separator"},ee=Q(()=>a("span",null,null,-1)),te=[ee];function oe(e,t){return n(),c("li",Z,te)}const se=l(Y,[["render",oe],["__scopeId","data-v-0c77b733"]]);const ne={},ae={class:"wb-env-atom-context-menu-spacer"};function ce(e,t){return n(),c("li",ae)}const ie=l(ne,[["render",ce],["__scopeId","data-v-ee12a337"]]);const re=[{title:"Item 1"},{title:"Item 2",items:[{title:"Sub Item 1",hotKey:"S",keyCode:73},{type:s.SEPARATOR},{title:"Sub Item 2",items:[{title:"Sub Item 2.1"},{title:"Sub Item 2.2",items:[{title:"Sub Item 2.1"},{title:"Sub Item 2.2",items:[{title:"Sub Item 2.1"},{title:"Sub Item 2.2"}]}]}]},{title:"Sub Item 3"}]},{title:"Checkbox",items:[{type:s.RADIO,name:"test-radio-1",value:"test-radio-value-1",title:"Checkbox 1 (as Radio)"},{type:s.RADIO,name:"test-radio-1",value:"test-radio-value-2",title:"Checkbox 2 (as Radio)"},{type:s.RADIO,name:"test-radio-1",value:"test-radio-value-3",title:"Checkbox 3 (as Radio)"},{type:s.SEPARATOR},{type:s.CHECKBOX,name:"test-checkbox-1",value:"test-checkbox-value-1",title:"Checkbox 1"},{type:s.CHECKBOX,name:"test-checkbox-2",value:"test-checkbox-value-2",title:"Checkbox 2"},{type:s.CHECKBOX,name:"test-checkbox-3",value:"test-checkbox-value-3",title:"Checkbox 3"}]},{type:s.CHECKBOX,title:"Item 5",hotKey:"I",keyCode:73}],le={components:{ItemText:M,ItemUpload:J,ItemSeparator:se,ItemSpacer:ie,ItemDefault:b(()=>A(()=>import("./Item.5cfb96c2.js"),["./Item.5cfb96c2.js","./index.faf1b937.js","./entry.7783902a.js","./index.56665add.js","./index.c26f1597.css","./viewport.f3ae7a6b.js","./Item.e515f939.css"],import.meta.url))},props:{direction:{type:String,default:"bottom",validator:e=>["top","bottom"].includes(e)},parentLayout:{type:Object,default(){return{size:E(window.innerWidth,window.innerHeight)}}},items:{type:Array,required:!1,default(){return T(re)}}},emits:["update:modelValue"],computed:{sortedItems(){return this.items.sort((t,o)=>t.order-o.order)}},methods:{onUpdateModelValueItem(...e){this.$emit("update:modelValue",...e)},getComponent(e){switch(e.type){case s.SPACER:return"ItemSpacer";case s.SEPARATOR:return"ItemSeparator";case s.TEXT:return"ItemText";case s.UPLOAD:return"ItemUpload";default:return"ItemDefault"}}}};function _e(e,t,o,u,_,i){return n(),c("ul",{class:w(["wb-atom-context-menu",{[`direction-${o.direction}`]:o.direction}])},[(n(!0),c(C,null,g(i.sortedItems,r=>(n(),S($(i.getComponent(r)),k({key:r.id,tag:"li","parent-layout":o.parentLayout},r,{"onUpdate:modelValue":i.onUpdateModelValueItem}),null,16,["parent-layout","onUpdate:modelValue"]))),128))],2)}const pe=l(le,[["render",_e],["__scopeId","data-v-54e3de4c"]]);export{L as S,pe as W};

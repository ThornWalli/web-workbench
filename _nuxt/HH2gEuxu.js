import{i as n}from"./OlYXjGCK.js";import{W as k}from"./BPnw8H1C.js";import{W as y}from"./CPrp_Jrr.js";import{W as x}from"./CcXWfcLA.js";import{W as B}from"./DpGpKT4E.js";import{W as _}from"./D9PjJnFw.js";import{u as P}from"./Dv1mzSl-.js";import{d as C,r as z,L as E,k as r,F as G,z as M,D as w,C as l,A as b,S as p,ac as u,G as N,_ as $}from"./BkRx7U8b.js";import"./eRs2tlcG.js";import"./ClLpnmyR.js";import"./BTMT_sH9.js";import"./KQEr41HO.js";import"./D4lI5vpz.js";import"./OAVrZOa6.js";import"./Wv4Ty0OG.js";import"./D4b9WN8K.js";import"./CVx03s7S.js";import"./rEnmFtaA.js";import"./BnD3zOT9.js";import"./312NxIbt.js";import"./Bpi429LP.js";import"./DFTH32ee.js";import"./CTpy3bpH.js";import"./D7YMvfqk.js";import"./CNkvSXuu.js";import"./B4rpyJsK.js";import"./BtH6r1li.js";import"./QwGUwJAP.js";import"./BoZA8JgY.js";import"./Cpj98o6Y.js";import"./DG6QdPnO.js";import"./B3Wmi0DA.js";import"./CtlMGvom.js";import"./CxKYomUj.js";import"./CJzlme9J.js";import"./CcuCSIbb.js";import"./Gl1UmUM-.js";import"./CV0dHcg-.js";import"./CaAbksje.js";const A={class:"dimension"},H=C({__name:"Export",props:{model:{}},emits:["close"],setup(v,{emit:V}){const{t:i}=P(),a=v,d=z(!1),c=a.model.app.currentDocument.meta.dimension,t=E({type:"png",filename:"",quality:1,dimension:a.model.app.currentDocument.meta.dimension,dimensionType:"px"}),f=[{label:"PNG",value:"image/png"},{label:"JPEG",value:"image/jpeg"},{label:"WebP",value:"image/webp"}],h=r(()=>({label:i("window.export_document.filename.label"),modelValue:t.filename,"onUpdate:modelValue":e=>{t.filename=e},placeholder:"Filename"})),W=r(()=>({label:i("window.export_document.type.label"),modelValue:t.type,"onUpdate:modelValue":e=>{t.type=e},options:f})),g=r(()=>({label:i("window.export_document.quality.label"),type:"number",max:100,min:1,step:1,modelValue:t.quality*100,"onUpdate:modelValue":e=>{t.quality=e/100},placeholder:"Quality (1-100)"})),D=r(()=>({type:"number",label:i("window.export_document.width.label"),modelValue:s(t.dimension).x,"onUpdate:modelValue":e=>{let o=1;const m=s(n(e,0),!0).x;d.value&&(o=m/c.x),t.dimension=n(m,c.y*o)},placeholder:"Width"})),F=r(()=>({type:"number",label:i("window.export_document.height.label"),modelValue:s(t.dimension).y,"onUpdate:modelValue":e=>{let o=1;const m=s(n(0,e),!0).y;d.value&&(o=m/c.y),t.dimension=n(c.x*o,m)},placeholder:"Height"})),T=r(()=>({label:i("window.export_document.dimension_type.label"),modelValue:t.dimensionType||"px","onUpdate:modelValue":e=>{t.dimensionType=e},options:[{label:i("window.export_document.dimension_type.items.pixel.label"),value:"px"},{label:i("window.export_document.dimension_type.items.percent.label"),value:"%"}]}));function s(e,o=!1){return t.dimensionType==="%"?o?n(()=>Math.round(e*a.model.app.currentDocument.meta.dimension)):n(()=>e/a.model.app.currentDocument.meta.dimension):n(()=>Math.round(e))}const q=V;function U(){let e;a.model.app.currentDocument.meta.dimension&&(e=s(t.dimension,!0)),a.model.actions?.export({filename:t.filename,type:t.type||f[0].value,quality:t.quality||100,resize:e}),q("close")}return(e,o)=>(M(),G(k,{class:"wb-disks-extras13-web-paint-export",onSubmit:U},{default:w(()=>[l(y,p(u(h.value)),null,16),l(x,p(u(W.value)),null,16),l(y,p(u(g.value)),null,16),b("div",null,[b("div",A,[b("div",null,[l(y,p(u(D.value)),null,16),l(y,p(u(F.value)),null,16)]),l(_,{type:"button","style-type":"primary",label:d.value?"R":"A",onClick:o[0]||(o[0]=m=>d.value=!d.value)},null,8,["label"])]),l(x,p(u(T.value)),null,16)]),l(B,null,{default:w(()=>[l(_,{type:"submit","style-type":"primary",label:N(i)("window.export_document.apply.label")},null,8,["label"])]),_:1})]),_:1}))}}),Te=$(H,[["__scopeId","data-v-192419c6"]]);export{Te as default};

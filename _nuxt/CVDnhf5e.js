import{i as e}from"./BHmTNEz3.js";import{W as l}from"./Dnkwg0NB.js";import{W as a}from"./CCnhm4BD.js";import{W as n}from"./CP7cPb5u.js";import{W as o}from"./CnxF4DWy.js";import{W as t}from"./Caob76XJ.js";import{d as i,r as m,L as u,k as s,F as p,z as d,D as r,C as y,A as c,S as b,ac as v,_ as f}from"./BfpYGSxR.js";import"./BWKGU6Bw.js";const V={class:"dimension"},g=f(i({__name:"Export",props:{model:{}},emits:["close"],setup(i,{emit:f}){const g=i,x=m(!1),D=g.model.app.currentDocument.meta.dimension,h=u({type:"png",filename:"",quality:1,dimension:g.model.app.currentDocument.meta.dimension,dimensionType:"px"}),j=[{label:"PNG",value:"image/png"},{label:"JPEG",value:"image/jpeg"},{label:"WebP",value:"image/webp"}],W=s(()=>({label:"Filename",modelValue:h.filename,"onUpdate:modelValue":e=>{h.filename=e},placeholder:"Filename"})),_=s(()=>({label:"Type",modelValue:h.type,"onUpdate:modelValue":e=>{h.type=e},options:j})),T=s(()=>({label:"Quality",type:"number",max:100,min:1,step:1,modelValue:100*h.quality,"onUpdate:modelValue":e=>{h.quality=e/100},placeholder:"Quality (1-100)"})),U=s(()=>({type:"number",label:"Width",modelValue:getDimensionValue(h.dimension).x,"onUpdate:modelValue":l=>{let a=1;const n=getDimensionValue(e(l,0),!0).x;x.value&&(a=n/D.x),h.dimension=e(n,D.y*a)},placeholder:"Width"})),q=s(()=>({type:"number",label:"Height",modelValue:getDimensionValue(h.dimension).y,"onUpdate:modelValue":l=>{let a=1;const n=getDimensionValue(e(0,l),!0).y;x.value&&(a=n/D.y),h.dimension=e(D.x*a,n)},placeholder:"Height"})),P=s(()=>({label:"Type",modelValue:h.dimensionType||"px","onUpdate:modelValue":e=>{h.dimensionType=e},options:[{label:"Pixels",value:"px"},{label:"Percentage",value:"%"}]}));function getDimensionValue(l,a=!1){return"%"===h.dimensionType?e(a?()=>Math.round(l*g.model.app.currentDocument.meta.dimension):()=>l/g.model.app.currentDocument.meta.dimension):e(()=>Math.round(l))}const S=f;function onSubmit(){var e;let l;g.model.app.currentDocument.meta.dimension&&(l=getDimensionValue(h.dimension,!0)),null==(e=g.model.actions)||e.export({filename:h.filename,type:h.type||j[0].value,quality:h.quality||100,resize:l}),S("close")}return(e,i)=>(d(),p(l,{class:"wb-disks-extras13-web-paint-export",onSubmit:onSubmit},{default:r(()=>[y(a,b(v(W.value)),null,16),y(n,b(v(_.value)),null,16),y(a,b(v(T.value)),null,16),c("div",null,[c("div",V,[c("div",null,[y(a,b(v(U.value)),null,16),y(a,b(v(q.value)),null,16)]),y(t,{type:"button","style-type":"primary",label:x.value?"R":"A",onClick:i[0]||(i[0]=e=>x.value=!x.value)},null,8,["label"])]),y(n,b(v(P.value)),null,16)]),y(o,null,{default:r(()=>[y(t,{type:"submit","style-type":"primary",label:"Export"})]),_:1})]),_:1}))}}),[["__scopeId","data-v-c58fc335"]]);export{g as default};

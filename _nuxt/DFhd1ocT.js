import{d as D,r as u,a0 as f,y as _,z as c,C as r,D as i,A as o,P as S,X as M,Y as N,Z as W,a3 as O,ae as z,B as b,F as A,I as H,_ as L}from"./BUU1NkbK.js";import{h as F,r as I}from"./CNkvSXuu.js";import{P as d,D as j,g,b as R,a as $}from"./CHpeLE9u.js";import{C as x}from"./BJmh0rUk.js";import{W as G}from"./B1olVgM4.js";import{W as X}from"./CZFypg2d.js";import{_ as V}from"./DBJy15Pp.js";import{W as U}from"./B4Wca970.js";import{W as Y}from"./Uu07fvcW.js";import{W as Z}from"./C0s6aVd8.js";import{u as q}from"./Xupdrwif.js";import{u as J}from"./DcvgOCRL.js";import"./9V19AFUE.js";import"./7MFW2ODw.js";const K={class:"wb-module-core-color-settings"},Q={class:"col-1"},ee={class:"colors-select-list"},le=["value"],oe={class:"col-1 colors"},se={class:"color-controls"},te={class:"color-preview"},ae=D({__name:"ColorSettings",emits:["close"],setup(re,{emit:B}){var T,h;const{core:v}=J();q();const w=B,y=((h=(T=v.value)==null?void 0:T.config)==null?void 0:h.get(x.THEME))||d[j],a=u({...y,colors:g(y.colors)}),n=u(a.value.colors[1]),t=u(F(a.value.colors[1])),E=u("Save"),p=u(),C=u({presets:{label:"Presets",options:[{title:"Select Theme",value:""},...Object.keys(d).map(s=>({title:d[s].name,value:s}))]},filter:{label:"Filter",options:[{title:"Invert",value:"invert(100%)"},{title:"Brightness",value:"brightness(50%)"}]}});f(()=>p.value,s=>{if(s){const e=d[s];a.value={name:e.name,colors:g(e.colors),filter:e.filter},console.log({name:e.name,colors:g(e.colors),filter:e.filter}),n.value=a.value.colors[0]}}),f(()=>n.value,s=>{t.value=F(s)}),f(()=>t.value,s=>{const e=Object.values(s).map(l=>Number(l));n.value=a.value.colors[a.value.colors.indexOf(n.value)]=I(...e)},{deep:!0});function P(){var e,l,m;const s={...a.value,colors:R(a.value.colors)};(e=v.value)==null||e.config.set(x.THEME,s),(m=(l=v.value)==null?void 0:l.modules.screen)==null||m.setTheme(new $("custom",s)),w("close")}return(s,e)=>(c(),_("div",K,[r(G,{class:"form",onSubmit:P},{default:i(()=>[o("div",null,[o("div",Q,[r(U,S(C.value.presets,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l)}),null,16,["modelValue"]),r(X,{label:"Colors",class:"color-select"},{default:i(()=>[o("div",ee,[(c(!0),_(M,null,N(a.value.colors,(l,m)=>(c(),_("label",{key:m,style:W({"--color":l})},[O(o("input",{"onUpdate:modelValue":e[1]||(e[1]=k=>n.value=k),type:"radio",name:"color",value:l},null,8,le),[[z,n.value]])],4))),128))])]),_:1}),r(U,S(C.value.filter,{modelValue:a.value.filter,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.filter=l)}),null,16,["modelValue"])]),o("div",oe,[o("div",se,[o("div",te,[o("i",{style:W(`background-color: rgb(${t.value.join(", ")});`)},null,4)]),o("div",null,[o("div",null,[r(V,{modelValue:t.value[0],"onUpdate:modelValue":e[3]||(e[3]=l=>t.value[0]=l),"style-type":"color-select",label:"Red",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(t.value[0].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),o("div",null,[r(V,{modelValue:t.value[1],"onUpdate:modelValue":e[4]||(e[4]=l=>t.value[1]=l),"style-type":"color-select",label:"Green",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(t.value[1].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),o("div",null,[r(V,{modelValue:t.value[2],"onUpdate:modelValue":e[5]||(e[5]=l=>t.value[2]=l),"style-type":"color-select",label:"Blue",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(t.value[2].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])])])])])]),r(Z,{align:"outer",full:""},{default:i(()=>[E.value?(c(),A(Y,{key:0,"style-type":"primary",label:E.value,type:"submit"},null,8,["label"])):H("",!0)]),_:1})]),_:1})]))}}),Ee=L(ae,[["__scopeId","data-v-6980c64d"]]);export{Ee as default};

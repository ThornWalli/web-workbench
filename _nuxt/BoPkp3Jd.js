import{h as e,i}from"./Bx5hh_92.js";import{W as n}from"./Dnkwg0NB.js";import{W as o}from"./CnxF4DWy.js";import{W as s}from"./Caob76XJ.js";import{W as t}from"./CP7cPb5u.js";import{W as a}from"./CCnhm4BD.js";import{E as m}from"./B2YYxTED.js";import{p as l,i as r}from"./BHmTNEz3.js";import{d,y as p,z as u,A as v,Z as j,$ as c,_ as f,r as b,L as y,k as x,a0 as h,F as w,D as _,C as W,I as g,S as A,ac as V}from"./BfpYGSxR.js";import"./D1WZfvAb.js";import"./jSR9Z_uS.js";import"./DL1FsYWj.js";import"./B-meQdOw.js";import"./Caivkp23.js";import"./CrNGlbV0.js";import"./D7Us3e3D.js";import"./tbUmQ5LT.js";import"./CS1Zomql.js";import"./CcnVWkhV.js";import"./CY5IK1Gp.js";import"./Dw-z6kis.js";import"./ytSRQE8W.js";import"./B15fucc8.js";import"./BteAwo4N.js";import"./BVLmgizW.js";import"./Cy0zoxeo.js";import"./BENg2Ku2.js";import"./CJFEEUyp.js";import"./C98WWl5r.js";import"./CVVDEXDJ.js";import"./CxZzHJhT.js";import"./BSzGBLGV.js";import"./D3MPJlJW.js";import"./GLWL0ZEA.js";import"./Cah-phv7.js";import"./DAKnsb8o.js";import"./I81pZH22.js";import"./CV0dHcg-.js";import"./BWKGU6Bw.js";const D=f(d({__name:"AspectRatioPreview",props:{dimension:{}},setup:e=>(e,i)=>{var n,o,s,t,a,m,l,r;return u(),p("div",{class:c(["wb-env-element-aspect-ratio-preview",{portrait:(null==(n=e.dimension)?void 0:n.x)<(null==(o=e.dimension)?void 0:o.y),landscape:(null==(s=e.dimension)?void 0:s.x)>(null==(t=e.dimension)?void 0:t.y),square:(null==(a=e.dimension)?void 0:a.x)===(null==(m=e.dimension)?void 0:m.y)}]),style:j({"--aspect-ratio-x":null==(l=e.dimension)?void 0:l.x,"--aspect-ratio-y":null==(r=e.dimension)?void 0:r.y})},i[0]||(i[0]=[v("div",null,[v("div")],-1)]),6)}}),[["__scopeId","data-v-16883977"]]),I=f(d({__name:"New",props:{model:{}},emits:["close"],setup(d,{emit:p}){const j=d,c=b(e),f=y({dimension:l(e.dimension.x,e.dimension.y),name:c.value.name||"New Document"}),I=x(()=>{var e;return(null==(e=i.find(e=>e.formats.find(e=>e.name===c.value.name)))?void 0:e.formats.find(e=>e.name===c.value.name))||i[0].formats[0]});h(()=>I.value.dimension,e=>{e&&(f.dimension=l(e.x,e.y))});const q=x(()=>({embed:!0,hideLabel:!0,label:"Width",required:!0,placeholder:"Width in px",modelValue:f.dimension.x,"onUpdate:modelValue":e=>{f.dimension.x=parseInt(e)}})),L=x(()=>({embed:!0,hideLabel:!0,label:"Height",type:"number",min:1,step:1,modelValue:f.dimension.y,"onUpdate:modelValue":e=>{f.dimension.y=parseInt(e)},required:!0,placeholder:"Height in px"})),R=x(()=>({embed:!0,hideLabel:!0,label:"Title",modelValue:f.name||"New Document","onUpdate:modelValue":e=>{f.name=e},required:!0,placeholder:"Document Title"})),S=b({embed:!0,hideLabel:!0,name:"Template",label:"template",options:i.map(e=>({label:e.group,options:e.formats.map(e=>({label:e.name,value:e.name}))})).flat(),modelValue:c.value,"onUpdate:modelValue":n=>{var o;c.value=(null==(o=i.find(e=>e.formats.find(e=>e.name===n)))?void 0:o.formats.find(e=>e.name===n))||e},required:!0,placeholder:"Select a Template"}),T=x(()=>{var e;return(null==(e=I.value)?void 0:e.dimension)?[`**Aspect Ratio:** ${getAspectRatio(I.value.dimension.x,I.value.dimension.y).x}:${getAspectRatio(I.value.dimension.x,I.value.dimension.y).y}`].join("\n"):""}),k=p;function onSubmit(e){e.preventDefault(),j.model.actions.newDocument({...f,dimension:r(f.dimension)}),k("close")}function getAspectRatio(e,i){if("number"!=typeof e||"number"!=typeof i||e<=0||i<=0)throw new Error("Width and height must be positive numbers");const n=function gcd(e,i){return 0===i?e:gcd(i,e%i)}(e,i);return{x:e/n,y:i/n}}return(e,i)=>(u(),w(n,{class:"wb-disks-extras13-web-paint-new",onSubmit:onSubmit},{default:_(()=>{var e;return[v("div",null,[v("div",null,[W(t,A(V(S.value)),null,16),W(a,A(V(q.value)),null,16),W(a,A(V(L.value)),null,16),W(a,A(V(R.value)),null,16),(null==(e=I.value)?void 0:e.dimension)?(u(),w(m,{key:0,content:T.value},null,8,["content"])):g("",!0)]),(null==f?void 0:f.dimension)?(u(),w(D,{key:0,dimension:null==f?void 0:f.dimension},null,8,["dimension"])):g("",!0)]),W(o,{embed:""},{default:_(()=>[W(s,{type:"submit","style-type":"primary",label:"Apply"})]),_:1})]}),_:1}))}}),[["__scopeId","data-v-1f59c907"]]);export{I as default};

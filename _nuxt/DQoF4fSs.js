import{d as l,r as e,a0 as a,y as o,z as s,C as t,D as r,A as u,P as i,X as n,Y as c,Z as m,a3 as v,ae as d,B as p,F as f,I as b,_ as j}from"./BfpYGSxR.js";import{h as y,r as V}from"./BVLmgizW.js";import{P as g,D as _,g as S,b as U,a as h}from"./Cah-phv7.js";import{C}from"./g1R7VqXM.js";import{W}from"./Dnkwg0NB.js";import{W as x}from"./BWKGU6Bw.js";import{_ as k}from"./DcnHnZr4.js";import{W as w}from"./CP7cPb5u.js";import{W as z}from"./Caob76XJ.js";import{W as E}from"./CnxF4DWy.js";import{u as T}from"./Dkhtr-D7.js";import{u as B}from"./D1WZfvAb.js";import"./C98WWl5r.js";import"./jSR9Z_uS.js";const I={class:"wb-module-core-color-settings"},O={class:"col-1"},P={class:"colors-select-list"},D=["value"],F={class:"col-1 colors"},H={class:"color-controls"},M={class:"color-preview"},Y=j(l({__name:"ColorSettings",emits:["close"],setup(l,{emit:j}){var Y,q;const{core:A}=B();T();const G=j,N=(null==(q=null==(Y=A.value)?void 0:Y.config)?void 0:q.get(C.THEME))||g[_],R=e({...N,colors:S(N.colors)}),X=e(R.value.colors[1]),Z=e(y(R.value.colors[1])),$=e("Save"),J=e(),K=e({presets:{label:"Presets",options:[{title:"Select Theme",value:""},...Object.keys(g).map(l=>({title:g[l].name,value:l}))]},filter:{label:"Filter",options:[{title:"Invert",value:"invert(100%)"},{title:"Brightness",value:"brightness(50%)"}]}});function onSubmit(){var l,e,a;const o={...R.value,colors:U(R.value.colors)};null==(l=A.value)||l.config.set(C.THEME,o),null==(a=null==(e=A.value)?void 0:e.modules.screen)||a.setTheme(new h("custom",o)),G("close")}return a(()=>J.value,l=>{if(l){const e=g[l];R.value={name:e.name,colors:S(e.colors),filter:e.filter},console.log({name:e.name,colors:S(e.colors),filter:e.filter}),X.value=R.value.colors[0]}}),a(()=>X.value,l=>{Z.value=y(l)}),a(()=>Z.value,l=>{const e=Object.values(l).map(l=>Number(l));X.value=R.value.colors[R.value.colors.indexOf(X.value)]=V(...e)},{deep:!0}),(l,e)=>(s(),o("div",I,[t(W,{class:"form",onSubmit:onSubmit},{default:r(()=>[u("div",null,[u("div",O,[t(w,i(K.value.presets,{modelValue:J.value,"onUpdate:modelValue":e[0]||(e[0]=l=>J.value=l)}),null,16,["modelValue"]),t(x,{label:"Colors",class:"color-select"},{default:r(()=>[u("div",P,[(s(!0),o(n,null,c(R.value.colors,(l,a)=>(s(),o("label",{key:a,style:m({"--color":l})},[v(u("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>X.value=l),type:"radio",name:"color",value:l},null,8,D),[[d,X.value]])],4))),128))])]),_:1}),t(w,i(K.value.filter,{modelValue:R.value.filter,"onUpdate:modelValue":e[2]||(e[2]=l=>R.value.filter=l)}),null,16,["modelValue"])]),u("div",F,[u("div",H,[u("div",M,[u("i",{style:m(`background-color: rgb(${Z.value.join(", ")});`)},null,4)]),u("div",null,[u("div",null,[t(k,{modelValue:Z.value[0],"onUpdate:modelValue":e[3]||(e[3]=l=>Z.value[0]=l),"style-type":"color-select",label:"Red",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:r(()=>[u("span",null,p(Z.value[0].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),u("div",null,[t(k,{modelValue:Z.value[1],"onUpdate:modelValue":e[4]||(e[4]=l=>Z.value[1]=l),"style-type":"color-select",label:"Green",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:r(()=>[u("span",null,p(Z.value[1].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),u("div",null,[t(k,{modelValue:Z.value[2],"onUpdate:modelValue":e[5]||(e[5]=l=>Z.value[2]=l),"style-type":"color-select",label:"Blue",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:r(()=>[u("span",null,p(Z.value[2].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])])])])])]),t(E,{align:"outer",full:""},{default:r(()=>[$.value?(s(),f(z,{key:0,"style-type":"primary",label:$.value,type:"submit"},null,8,["label"])):b("",!0)]),_:1})]),_:1})]))}}),[["__scopeId","data-v-6980c64d"]]);export{Y as default};

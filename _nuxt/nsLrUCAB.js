const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CshrRwMP.js","./Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{d as V,r as x,k as d,a0 as D,y as O,z as P,A as g,C as r,B as A,D as s,K as F,_ as W}from"./BUU1NkbK.js";import{c as I}from"./CrUGcTIi.js";import{u as M}from"./Xupdrwif.js";import{W as Y}from"./B1olVgM4.js";import{W as p}from"./BHtCX32_.js";import{W as l}from"./Uu07fvcW.js";import"./DcvgOCRL.js";import"./7MFW2ODw.js";import"./B2exwp0w.js";import"./CZFypg2d.js";const L={class:"wb-disks-extras13-base64-converter"},N={class:"buttons"},S=V({__name:"Base64Converter",props:{model:{}},setup(w){const{setContextMenu:T}=M();T(I,{model:w.model});const u=x(500),m=t=>(t==null?void 0:t.length)>u.value?`${t.slice(0,u.value)}...`:String(t),a=x("data:text/plain;base64,"),v=x(),b=d(()=>{try{return btoa(a.value.split(",")[1])}catch{return"ERROR!"}}),f=d(()=>{try{return atob(a.value.split(",")[1])}catch{return"ERROR!"}}),y=d(()=>{try{return a.value.split(":")[1].split(";")[0]}catch{return"ERROR!"}}),_=d(()=>y.value==="ERROR!");D(()=>v.value,t=>{if(t!=null&&t.length){const e=new FileReader;e.onload=o=>{var n;typeof((n=o.target)==null?void 0:n.result)=="string"&&(a.value=o.target.result)},e.readAsDataURL(t[0])}});const R=async()=>{const t=await F(()=>import("./CshrRwMP.js").then(e=>e.F),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.default);try{const e=new Blob([$(a.value)],{type:"application/json;charset=utf-8"});await t.saveAs(e,`file.${y.value}`)}catch(e){console.error("An error occurred during export.",e)}},U=t=>{try{a.value=`data:text/plain;base64,${btoa(t)}`}catch(e){console.error("Error converting plain text to base64",e)}},k=t=>{try{a.value=t}catch(e){console.error("Error converting plain text to base64",e)}},B=t=>{try{a.value=`data:text/plain;base64,${t}`}catch(e){console.error("Error converting plain text to base64",e)}},E=t=>{try{a.value=`data:${t};base64,${b.value}`}catch(e){console.error("Error converting plain text to base64",e)}},i=t=>{try{switch(t){case"base64":navigator.clipboard.writeText(b.value);break;case"dataUrl":navigator.clipboard.writeText(a.value);break;case"plainText":navigator.clipboard.writeText(f.value);break}}catch(e){console.error("Error copying to clipboard",e)}};function $(t){var C;const e=t.split(","),o=(C=e[0].match(/:(.*?);/))==null?void 0:C[1],n=atob(e[1]);let c=n.length;const h=new Uint8Array(c);for(;c--;)h[Number(c)]=n.charCodeAt(c);return new Blob([h],{type:o})}return(t,e)=>(P(),O("div",L,[g("p",null," The display is truncated if the length exceeds "+A(u.value)+" characters. ",1),r(Y,{class:"form"},{default:s(()=>[r(p,{"model-value":y.value,placeholder:"MimeType",label:"MimeType","onUpdate:modelValue":E},{after:s(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[0]||(e[0]=o=>i("base64"))})]),_:1},8,["model-value"]),r(p,{"model-value":m(b.value),placeholder:"Base64…",label:"Base64","onUpdate:modelValue":B},{after:s(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[1]||(e[1]=o=>i("base64"))})]),_:1},8,["model-value"]),r(p,{"model-value":m(a.value),placeholder:"Data Url",label:"Data Url","onUpdate:modelValue":k},{after:s(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[2]||(e[2]=o=>i("dataUrl"))})]),_:1},8,["model-value"]),r(p,{"model-value":m(f.value),placeholder:"Plain Text…",label:"Plain Text","onUpdate:modelValue":U},{after:s(()=>[r(l,{"style-type":"secondary",label:"COPY",onClick:e[3]||(e[3]=o=>i("plainText"))})]),_:1},8,["model-value"]),g("div",N,[r(l,{modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=o=>v.value=o),accept:void 0,type:"upload",label:"Upload File"},null,8,["modelValue"]),r(l,{disabled:_.value,"style-type":"secondary",label:"Download",onClick:R},null,8,["disabled"])])]),_:1})]))}}),te=W(S,[["__scopeId","data-v-d2769625"]]);export{te as default};

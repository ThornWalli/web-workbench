import{ai as f,p,k as m,u as c,al as A}from"./index.0203ab4e.js";import{_ as h,f as B,k as a,l as n,q as C,m as i,t as k,M as w,N as $}from"./entry.63e43b59.js";import"./index.26bb4b3d.js";const b={components:{AtomMarkdown:f},props:{...p},emits:[...m],setup(e,t){const l=c(e,t);return l.setContextMenu(r),l},data(){return{content:["# Calculator",`Version: **1.0**  
Created by **Thorn-Welf Walli**`].join(`
`)}},computed:{contextMenu(){return new A(r,{core:this.core})}}},v={class:"wb-disks-workbench13-calculator-info"};function O(e,t,l,d,o,s){const u=B("atom-markdown");return a(),n("div",v,[C(u,{content:o.content},null,8,["content"])])}const x=h(b,[["render",O],["__scopeId","data-v-6d6b90ca"]]),r=({core:e})=>{const{windows:t}=e.modules;return[{title:"Calculator",items:[{hotKey:"I",keyCode:73,title:"Info",action(){t.addWindow({title:"Info",component:x,componentData:{},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Calculator"})}}]}]};const y={props:{...p},emits:[...m],setup(e,t){const l=c(e,t);return l.setContextMenu(r),l},data(){return{tmpValueA:null,tmpValueB:null,tmpOperator:null,result:null,value:null,buttons:["7","8","9","CA","CE","4","5","6","*","/","1","2","3","+","-","0",".","<-","+-","="]}},computed:{resultValue(){return[this.tmpValueA,this.tmpOperator,this.tmpValueB].filter(e=>e!==null).join(" ")}},methods:{async onClickButton(e){const t=e.target.value;if(/^[0-9,.]+$/.test(t)&&this.tmpOperator===null?this.tmpValueA=(this.tmpValueA||"")+t:/^[0-9,.]+$/.test(t)&&this.tmpOperator&&this.tmpValueA!==null&&(this.tmpValueB=(this.tmpValueB||"")+t),/^[\\/*-+=]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB!==null&&this.tmpOperator){const l=await this.core.modules.parser.parseMath(`${this.tmpValueA}${this.tmpOperator}${this.tmpValueB}`);this.tmpValueA=l,this.tmpOperator=null,this.tmpValueB=null}/^[\\/*-+]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB===null&&(this.tmpOperator=t),/^<-$/.test(t)&&this.tmpValueA!==null&&(this.tmpValueA!==null&&this.tmpValueB===null?(this.tmpOperator=null,this.tmpValueA=String(this.tmpValueA).slice(0,this.tmpValueA.length-1)):this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=String(this.tmpValueB).slice(0,this.tmpValueB.length-1))),/^\+-$/.test(t)&&(this.tmpValueA!==null&&this.tmpValueB===null?this.tmpValueA=parseFloat(this.tmpValueA)*-1:this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=parseFloat(this.tmpValueB)*-1)),/^CA$/.test(t)&&(this.tmpOperator=this.tmpValueA=this.tmpValueB=null),/^CE$/.test(t)&&(this.tmpValueB!==null?this.tmpValueB=null:this.tmpOperator?this.tmpOperator=null:this.tmpValueA!==null&&(this.tmpValueA=null))}}},g={class:"wb-disks-workbench13-calculator"},M={class:"result","data-hook":"calculatorResult"},I={class:"buttons"},W=["value"];function E(e,t,l,d,o,s){return a(),n("div",g,[i("span",M,k(s.resultValue),1),i("div",I,[(a(!0),n(w,null,$(o.buttons,(u,_)=>(a(),n("span",{key:_},[i("input",{type:"button",value:u,onClick:t[0]||(t[0]=(...V)=>s.onClickButton&&s.onClickButton(...V))},null,8,W)]))),128))])])}const j=h(y,[["render",E],["__scopeId","data-v-2b7f988a"]]);export{j as default};

import{E as N}from"./Xk46uXlJ.js";import{s as b}from"./Ds4KxLLa.js";import{y as i,z as l,A as n,d as A,r as v,k as z,a0 as _,o as B,F as P,I as d,C as h,G as t,B as R,Z as O,_ as $}from"./BkRx7U8b.js";import{u as F}from"./JsFOm8c5.js";import{t as m,e as L}from"./ClLpnmyR.js";import{c as G}from"./B820l9tm.js";import"./OlYXjGCK.js";import"./BTMT_sH9.js";import"./B9nPFJJ2.js";import"./B4rpyJsK.js";const U={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14"};function Y(a,e){return l(),i("svg",U,e[0]||(e[0]=[n("path",{fill:"#05a",d:"M0 0h12v14H0z"},null,-1),n("path",{fill:"#fff",d:"M0 2v2h1v2h2v2h1v2h2v2h1v2h3V2z"},null,-1)]))}const k={render:Y},Z={xmlns:"http://www.w3.org/2000/svg",width:"11",height:"18"};function j(a,e){return l(),i("svg",Z,e[0]||(e[0]=[n("path",{d:"M6 2h1v2H6zM7 4h1v2H7zM5 0h1v2H5zM4 2h1v2H4zM7 16H4v-4H3v6h5v-6H7zM8 6h1v2H8zM10 10V8H9v2H8v2h3v-2zM2 10V8H1v2H0v2h3v-2zM3 4h1v2H3zM2 6h1v2H2z"},null,-1)]))}const x={render:j},W={class:"content"},q={class:"pagination"},J=A({__name:"DocumentReader",props:{model:{type:Object,default(){return{fsItem:null,value:L()}}}},setup(a){const e=v(null),r=a,{setContextMenu:y,...D}=F();y(G,{model:r.model});const c=v([]),o=v(0);let f;const p=v(0),I=z(()=>({"--scroll-bar-size":`${b.size}`})),C=z(()=>c.value[o.value]);_(()=>o.value,()=>{e.value&&(e.value.scrollTop=0)}),_(()=>r.model,()=>{w()},{deep:!0}),B(()=>{w()});function w(){r.model.fsItem&&(D.window.options.title=r.model.fsItem.name+" - Document Reader");const u=r.model.value.content.split(/\[PAGE\][\n]+/);o.value=0,c.value=u}function g(){o.value=Math.max(o.value-1,0)}function E(){o.value=Math.min(o.value+1,c.value.length-1)}function S(){H(()=>{e.value&&(e.value.scrollTop=Math.max(e.value.scrollTop-20,0))})}function T(){H(()=>{e.value&&(e.value.scrollTop=Math.min(e.value.scrollTop+20,e.value.scrollHeight))})}function M(){window.clearInterval(f)}function H(s){window.clearInterval(f),f=window.setInterval(s,125)}function V(s){e.value&&(s.preventDefault(),p.value=e.value.scrollTop/(e.value.scrollHeight-e.value.offsetHeight))}return(s,u)=>(l(),i("div",{class:"wb-disks-workbench13-document-reader",style:O(I.value)},[n("div",W,[n("div",{ref_key:"scrollContainerEl",ref:e,class:"content-scroll",onScroll:V},[h(N,{"font-family":a.model.value[t(m).FONT_FAMILY],"font-size":a.model.value[t(m).FONT_SIZE],"line-height":a.model.value[t(m).LINE_HEIGHT],content:C.value,"modular-scale":r.model.value[t(m).MODULAR_SCALE]},null,8,["font-family","font-size","line-height","content","modular-scale"])],544)]),n("div",q,[n("div",{class:"pagination-frame pagination-current",onPointerdown:g},[n("span",null,R(o.value+1),1)],32),p.value>0?(l(),i("div",{key:0,class:"pagination-frame pagination-scroll_up",onPointerdown:S,onPointerup:M},[n("i",null,[h(t(x))])],32)):d("",!0),u[0]||(u[0]=n("div",{class:"pagination-spacer"},null,-1)),p.value<1?(l(),i("div",{key:1,class:"pagination-frame pagination-scroll-down",onPointerdown:T,onPointerup:M},[n("i",null,[h(t(x))])],32)):d("",!0)]),o.value>0?(l(),P(t(k),{key:0,class:"corner corner_left",onPointerdown:g})):d("",!0),o.value<c.value.length-1?(l(),P(t(k),{key:1,class:"corner corner-right",onPointerdown:E})):d("",!0)],4))}}),se=$(J,[["__scopeId","data-v-be8d6e75"]]);export{se as default};

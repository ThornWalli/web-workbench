var t=Object.defineProperty,__publicField=(e,i,s)=>((e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s)(e,"symbol"!=typeof i?i+"":i,s);import{n as e}from"./B1k18Rg6.js";import{K as i}from"./Cy0zoxeo.js";import{s}from"./CIasQYz1.js";import{a as c,f as h}from"./DL1FsYWj.js";const r=new class DomEvents{constructor(){var t,h,r,a;__publicField(this,"observers",new Map),__publicField(this,"capsLockActive",!1),__publicField(this,"shiftLeftActive",!1),__publicField(this,"shiftRightActive",!1),__publicField(this,"cmdLeftActive",!1),__publicField(this,"cmdRightActive",!1),__publicField(this,"ctrlLeftActive",!1),__publicField(this,"ctrlRightActive",!1),__publicField(this,"altLeftActive",!1),__publicField(this,"altRightActive",!1),__publicField(this,"pointerActive",!1),__publicField(this,"pointerDown"),__publicField(this,"pointerUp"),__publicField(this,"pointerMove"),__publicField(this,"pointerCancel"),__publicField(this,"keyDown"),__publicField(this,"keyUp"),__publicField(this,"keyPress"),__publicField(this,"resize"),this.resize=this.get("resize",window).pipe(s()),this.pointerDown=this.get("pointerdown").pipe(c(t=>e(t))).pipe(s()),this.pointerUp=this.get("pointerup").pipe(c(t=>e(t))).pipe(s()),this.pointerMove=this.get("pointermove").pipe(c(t=>e(t))).pipe(s()),this.pointerCancel=this.get("pointercancel").pipe(c(t=>e(t)),s()),null==(t=this.pointerDown)||t.subscribe(()=>{this.pointerActive=!0}),null==(h=this.pointerUp)||h.subscribe(()=>{this.pointerActive=!1}),this.keyPress=this.get("keypress").pipe(s()),this.keyDown=this.get("keydown",void 0,{passive:!1,capture:!0}).pipe(s()),this.keyUp=this.get("keyup").pipe(s()),null==(r=this.keyDown)||r.subscribe(({code:t})=>{switch(t){case i.CONTROL_LEFT:this.ctrlLeftActive=!0;break;case i.CONTROL_RIGHT:this.ctrlRightActive=!0;break;case i.META_LEFT:this.cmdLeftActive=!0;break;case i.CONTEXT_MENU:this.cmdRightActive=!0;break;case i.SHIFT_LEFT:this.shiftLeftActive=!0;break;case i.SHIFT_RIGHT:this.shiftRightActive=!0;break;case i.ALT_LEFT:this.altLeftActive=!0;break;case i.ALT_RIGHT:this.altRightActive=!0;break;case i.CAPS_LOCK:this.capsLockActive=!this.capsLockActive}}),null==(a=this.keyUp)||a.subscribe(({code:t})=>{switch(t){case i.CONTROL_LEFT:this.ctrlLeftActive=!1;break;case i.CONTROL_RIGHT:this.ctrlRightActive=!1;break;case i.META_LEFT:this.cmdLeftActive=!1;break;case i.CONTEXT_MENU:this.cmdRightActive=!1;break;case i.SHIFT_LEFT:this.shiftLeftActive=!1;break;case i.SHIFT_RIGHT:this.shiftRightActive=!1;break;case i.ALT_LEFT:this.altLeftActive=!1;break;case i.ALT_RIGHT:this.altRightActive=!1}})}get(t,e,i={passive:!0,capture:!1}){e=e||document,this.observers.has(e)||this.observers.set(e,new Map);const s=this.observers.get(e);return s&&!s.has(t)&&s.set(t,h(e,t,i)),s.get(t)}reset(){this.observers.clear()}get cmdActive(){return this.cmdLeftActive||this.cmdRightActive}get ctrlActive(){return this.ctrlLeftActive||this.ctrlRightActive}get altActive(){return this.altLeftActive||this.altRightActive}get shiftActive(){return this.shiftLeftActive||this.shiftRightActive}resolveHotKey(t,e){const i="string"==typeof e?e:e.code,s="string"==typeof e?e:e.key;return!(t.shift&&!this.shiftActive)&&(!(t.alt&&!this.altActive)&&(!(t.ctrl&&!this.ctrlActive&&!this.cmdActive)&&(!(t.cmd&&!this.cmdActive&&!this.ctrlActive)&&(!(t.caps&&!this.capsLockActive)&&((!t.code||(null==t?void 0:t.code)===i)&&(!t.key||(null==t?void 0:t.key)===s))))))}};export{r as d};

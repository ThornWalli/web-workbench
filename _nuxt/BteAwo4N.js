import{n as a}from"./BVLmgizW.js";async function imageDataToDataURI(a,t="image/png",e=1){const n=new OffscreenCanvas(a.width,a.height),i=n.getContext("2d");null==i||i.putImageData(a,0,0);return function blobToDataURI(a){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=a=>e(a),n.readAsDataURL(a)})}(await n.convertToBlob({type:t,quality:e}))}function pixelratedCanvas(t,e=["#000000"],n=!1){const i=t.getImageData(0,0,t.canvas.width,t.canvas.height),s=i.data;for(let o=0;o<s.length;o+=4){const t=s[Number(o)],n=s[o+1],i=s[o+2],r=a(`#${t.toString(16)}${n.toString(16)}${i.toString(16)}`);e.includes(r)&&255===s[o+3]||(s[o+3]=0)}return n&&(t=new OffscreenCanvas(i.width,i.height).getContext("2d")),t.putImageData(i,0,0),t.canvas}async function urlToCanvas(a){var t;const e=await function loadImage(a){return new Promise((t,e)=>{const n=new Image;n.onload=()=>t(n),n.onerror=e,n.src=a})}(a),n=new OffscreenCanvas(e.width,e.height);return null==(t=n.getContext("2d"))||t.drawImage(e,0,0,e.width,e.height),n}async function imageToCanvas(a){var t;const e=new OffscreenCanvas(a.width,a.height);return null==(t=e.getContext("2d"))||t.drawImage(a,0,0,a.width,a.height),e}async function imageBitmapToCanvas(a){const t=new OffscreenCanvas(a.width,a.height);return t.getContext("2d").drawImage(a,0,0,a.width,a.height),t}async function imageDataToCanvas(a){const t=new OffscreenCanvas(a.width,a.height);return t.getContext("2d").putImageData(a,0,0),t}function resizeCanvas(a,t,e){e||(e=t*(a.height/a.width));const n=new OffscreenCanvas(t,e),i=n.getContext("2d");return i.imageSmoothingEnabled=!1,i.drawImage(a,0,0,t,e),n}function flipCanvas(a,t,e){const n=new OffscreenCanvas(a.width,a.height),i=n.getContext("2d");return i.translate(1*a.width,1*a.height),i.scale(-1,-1),i.drawImage(a,0,0,a.width,a.height),n}export{imageToCanvas as a,imageDataToCanvas as b,imageDataToDataURI as c,flipCanvas as f,imageBitmapToCanvas as i,pixelratedCanvas as p,resizeCanvas as r,urlToCanvas as u};

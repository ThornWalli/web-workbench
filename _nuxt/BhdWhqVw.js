import{i as o}from"./CpIyErmU.js";import{W as k}from"./zN_i5VNN.js";import{W as c}from"./5shrcVAo.js";import{W as b}from"./BhskwtQu.js";import{W as q}from"./CEj5Oeuu.js";import{W as v}from"./lhdRl-LK.js";import{d as w,r as B,L as C,k as r,F as E,z,D as x,C as n,A as y,S as m,ac as s,_ as H}from"./Bx1Gqxs7.js";import"./B4u0sjAe.js";const M={class:"dimension"},N=w({__name:"Export",props:{model:{}},emits:["close"],setup(V,{emit:W}){const a=V,u=B(!1),d=a.model.app.currentDocument.meta.dimension,l=C({type:"png",filename:"",quality:1,dimension:a.model.app.currentDocument.meta.dimension,dimensionType:"px"}),f=[{label:"PNG",value:"image/png"},{label:"JPEG",value:"image/jpeg"},{label:"WebP",value:"image/webp"}],g=r(()=>({label:"Filename",modelValue:l.filename,"onUpdate:modelValue":e=>{l.filename=e},placeholder:"Filename"})),h=r(()=>({label:"Type",modelValue:l.type,"onUpdate:modelValue":e=>{l.type=e},options:f})),_=r(()=>({label:"Quality",type:"number",max:100,min:1,step:1,modelValue:l.quality*100,"onUpdate:modelValue":e=>{l.quality=e/100},placeholder:"Quality (1-100)"})),D=r(()=>({type:"number",label:"Width",modelValue:p(l.dimension).x,"onUpdate:modelValue":e=>{let t=1;const i=p(o(e,0),!0).x;u.value&&(t=i/d.x),l.dimension=o(i,d.y*t)},placeholder:"Width"})),F=r(()=>({type:"number",label:"Height",modelValue:p(l.dimension).y,"onUpdate:modelValue":e=>{let t=1;const i=p(o(0,e),!0).y;u.value&&(t=i/d.y),l.dimension=o(d.x*t,i)},placeholder:"Height"})),T=r(()=>({label:"Type",modelValue:l.dimensionType||"px","onUpdate:modelValue":e=>{l.dimensionType=e},options:[{label:"Pixels",value:"px"},{label:"Percentage",value:"%"}]}));function p(e,t=!1){return l.dimensionType==="%"?t?o(()=>Math.round(e*a.model.app.currentDocument.meta.dimension)):o(()=>e/a.model.app.currentDocument.meta.dimension):o(()=>Math.round(e))}const P=W;function U(){var t;let e;a.model.app.currentDocument.meta.dimension&&(e=p(l.dimension,!0)),(t=a.model.actions)==null||t.export({filename:l.filename,type:l.type||f[0].value,quality:l.quality||100,resize:e}),P("close")}return(e,t)=>(z(),E(k,{class:"wb-disks-extras13-web-paint-export",onSubmit:U},{default:x(()=>[n(c,m(s(g.value)),null,16),n(b,m(s(h.value)),null,16),n(c,m(s(_.value)),null,16),y("div",null,[y("div",M,[y("div",null,[n(c,m(s(D.value)),null,16),n(c,m(s(F.value)),null,16)]),n(v,{type:"button","style-type":"primary",label:u.value?"R":"A",onClick:t[0]||(t[0]=i=>u.value=!u.value)},null,8,["label"])]),n(b,m(s(T.value)),null,16)]),n(q,null,{default:x(()=>[n(v,{type:"submit","style-type":"primary",label:"Export"})]),_:1})]),_:1}))}}),J=H(N,[["__scopeId","data-v-985ee8b2"]]);export{J as default};

import{d as k,r as n,a0 as f,t as _,v as d,z as r,A as i,x as o,L as T,Z as A,$ as L,X as S,a3 as M,ab as N,y as b,C as P,F as z,_ as D}from"./DepUWdG1.js";import{h,r as H}from"./CNkvSXuu.js";import{P as c,D as O,a as $}from"./BY0KaPQX.js";import{C as x}from"./BJmh0rUk.js";import{W as j}from"./CgHJs8D8.js";import{a as I}from"./ouyT7PHM.js";import{_ as g}from"./BTBmRolL.js";import{W}from"./DoBqXM-L.js";import{W as R}from"./C8kdTkyf.js";import{W as G}from"./RHmh6MO8.js";import{u as X}from"./CJrV-oJY.js";import{u as Z}from"./hgdfUW9W.js";import"./C5mdboMC.js";import"./C9SoOunh.js";import"./BDV1uWkE.js";import"./D5m4u8d2.js";const q={class:"wb-module-core-color-settings"},J={class:"col-1"},K={class:"colors-select-list"},Q=["value"],Y={class:"col-1 colors"},ee={class:"color-controls"},le={class:"color-preview"},oe=k({__name:"ColorSettings",emits:["close"],setup(te,{emit:F}){var E,C;const{core:v}=Z();X();const U=F,a=n(((C=(E=v.value)==null?void 0:E.config)==null?void 0:C.get(x.THEME))||c[O]),u=n(a.value.colors[1]),s=n(h(a.value.colors[1])),V=n("Save"),p=n(),y=n({presets:{label:"Presets",options:[{title:"Select Theme",value:""},...Object.keys(c).map(t=>({title:c[t].name,value:t}))]},filter:{label:"Filter",options:[{title:"Invert",value:"invert(100%)"},{title:"Brightness",value:"brightness(50%)"}]}});f(()=>p.value,t=>{if(t){const e=c[t];a.value={name:e.name,colors:e.colors,filter:e.filter},console.log({name:e.name,colors:e.colors,filter:e.filter}),u.value=a.value.colors[0]}}),f(()=>u.value,t=>{s.value=h(t)}),f(()=>s.value,t=>{const e=Object.values(t).map(l=>Number(l));u.value=a.value.colors[a.value.colors.indexOf(u.value)]=H(...e)},{deep:!0});function w(){var e,l,m;const t=a.value;(e=v.value)==null||e.config.set(x.THEME,t),(m=(l=v.value)==null?void 0:l.modules.screen)==null||m.setTheme(new $("custom",t)),U("close")}return(t,e)=>(d(),_("div",q,[r(j,{class:"form",onSubmit:w},{default:i(()=>[o("div",null,[o("div",J,[r(W,T(y.value.presets,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l)}),null,16,["modelValue"]),r(I,{label:"Colors",class:"color-select"},{default:i(()=>[o("div",K,[(d(!0),_(A,null,L(a.value.colors,(l,m)=>(d(),_("label",{key:m,style:S({"--color":l})},[M(o("input",{"onUpdate:modelValue":e[1]||(e[1]=B=>u.value=B),type:"radio",name:"color",value:l},null,8,Q),[[N,u.value]])],4))),128))])]),_:1}),r(W,T(y.value.filter,{modelValue:a.value.filter,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.filter=l)}),null,16,["modelValue"])]),o("div",Y,[o("div",ee,[o("div",le,[o("i",{style:S(`background-color: rgb(${s.value.join(", ")});`)},null,4)]),o("div",null,[o("div",null,[r(g,{modelValue:s.value[0],"onUpdate:modelValue":e[3]||(e[3]=l=>s.value[0]=l),"style-type":"color-select",label:"Red",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(s.value[0].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),o("div",null,[r(g,{modelValue:s.value[1],"onUpdate:modelValue":e[4]||(e[4]=l=>s.value[1]=l),"style-type":"color-select",label:"Green",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(s.value[1].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])]),o("div",null,[r(g,{modelValue:s.value[2],"onUpdate:modelValue":e[5]||(e[5]=l=>s.value[2]=l),"style-type":"color-select",label:"Blue",class:"color-slider",max:255,min:0,step:1,"handle-size":.2},{after:i(()=>[o("span",null,b(s.value[2].toString(16).toUpperCase()),1)]),_:1},8,["modelValue"])])])])])]),r(G,{align:"outer",full:""},{default:i(()=>[V.value?(d(),P(R,{key:0,"style-type":"primary",label:V.value,type:"submit"},null,8,["label"])):z("",!0)]),_:1})]),_:1})]))}}),ye=D(oe,[["__scopeId","data-v-762712e2"]]);export{ye as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bsj8ZD74.js","./Bx5hh_92.js","./BfpYGSxR.js","./D1WZfvAb.js","./jSR9Z_uS.js","./CXbNF4JJ.css","./BHmTNEz3.js","./DL1FsYWj.js","./B-meQdOw.js","./Caivkp23.js","./CrNGlbV0.js","./D7Us3e3D.js","./tbUmQ5LT.js","./CS1Zomql.js","./CcnVWkhV.js","./CY5IK1Gp.js","./Dw-z6kis.js","./ytSRQE8W.js","./B15fucc8.js","./BteAwo4N.js","./BVLmgizW.js","./Cy0zoxeo.js","./BENg2Ku2.js","./CJFEEUyp.js","./C98WWl5r.js","./CVVDEXDJ.js","./CxZzHJhT.js","./BSzGBLGV.js","./D3MPJlJW.js","./GLWL0ZEA.js","./Cah-phv7.js","./DAKnsb8o.js","./I81pZH22.js","./CV0dHcg-.js","./SfinneV3.js","./BqFfl9wP.css","./CP7cPb5u.js","./BWKGU6Bw.js","./DEAznjDA.css","./CuhyRvkQ.css","./CCnhm4BD.js","./DaDAJXAw.css","./Dnkwg0NB.js","./CHLd88nu.css","./CnxF4DWy.js","./Bn0T8SwD.css","./Caob76XJ.js","./CiACgkXc.css","./BJPTWp8v.css"])))=>i.map(i=>d[i]);
import{d as e,k as l,r as a,a0 as t,o,F as i,z as n,R as s,Z as d,$ as r,D as u,A as h,K as v,a1 as c,_ as m}from"./BfpYGSxR.js";import{u as f}from"./D1WZfvAb.js";const p=["width","height","title"];var b=(e=>(e[e.CUSTOM=0]="CUSTOM",e[e.SMALL=8]="SMALL",e[e.SEMI=12]="SEMI",e[e.MEDIUM=16]="MEDIUM",e[e.LARGE=24]="LARGE",e[e.XLARGE=32]="XLARGE",e[e.XXLARGE=48]="XXLARGE",e))(b||{});const y=m(e({__name:"ColorSelect",props:{size:{},modelValue:{},id:{},name:{},hoverable:{type:Boolean},readonly:{type:Boolean},disabled:{type:Boolean},embed:{type:Boolean},selected:{type:Boolean},ratio:{}},emits:["update:model-value"],setup(e,{emit:m}){const{core:b}=f(),y=l(()=>g.readonly?"div":"button"),w=m,g=e,S=l(()=>g.size||16),C=l(()=>g.ratio||1),R=a(null);function refresh(){if(!R.value)return;const e=R.value.getContext("2d",{willReadFrequently:!0});e&&(e.clearRect(0,0,R.value.width,R.value.height),g.modelValue.a<255?(e.beginPath(),e.moveTo(0,0),e.lineTo(R.value.width,0),e.lineTo(0,R.value.height),e.fillStyle=`rgb(${g.modelValue.toCSSRGB()})`,e.fill(),e.beginPath(),e.moveTo(0,R.value.height),e.lineTo(R.value.width,0),e.lineTo(R.value.width,R.value.height),e.fillStyle="white",e.fill(),e.beginPath(),e.moveTo(0,R.value.height),e.lineTo(R.value.width,0),e.lineTo(R.value.width,R.value.height),e.fillStyle=`rgba(${g.modelValue.toCSSRGBA()})`,e.fill()):(e.fillStyle=`rgb(${g.modelValue.toCSSRGB()})`,e.fillRect(0,0,R.value.width,R.value.height)))}async function onClick(){if(g.readonly||g.disabled)return;const e=await async function openColorPicker(e){if(E)return E;return E=b.value.modules.windows.addWindow({component:await v(()=>import("./Bsj8ZD74.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]),import.meta.url).then(e=>e.default),componentData:{color:e},options:{title:"Color Picker",filled:!0}},{group:"extras13WebPaint"}),E.awaitClose().then(({value:e})=>(E=void 0,e))}(g.modelValue);e&&w("update:model-value",e)}let E;return t(()=>g.modelValue,()=>{refresh()},{immediate:!0}),t(()=>y.value,()=>{c(()=>{refresh()})}),o(()=>{refresh()}),(e,l)=>(n(),i(s(y.value),{type:"button",class:r(["wb-env-element-color-select",{disabled:e.disabled,hoverable:e.hoverable,readonly:e.readonly,embed:e.embed,selected:e.selected}]),style:d({"--ratio":C.value,"--size":S.value}),onClick:onClick},{default:u(()=>[h("canvas",{ref_key:"canvasEl",ref:R,width:2*S.value,height:2*S.value,title:e.modelValue.toHex()},null,8,p)]),_:1},8,["style","class"]))}}),[["__scopeId","data-v-40ca9b1c"]]);export{b as C,y as W};

var n,e,r,t,i=Object.defineProperty,__publicField=(n,e,r)=>((n,e,r)=>e in n?i(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r)(n,"symbol"!=typeof e?e+"":e,r);import{c as a}from"./C98WWl5r.js";import{g as o}from"./CVVDEXDJ.js";function defineCommands(n){return e=>n(e)}class CommandContainer{constructor({name:n,description:e,args:r,action:t}){__publicField(this,"name"),__publicField(this,"description"),__publicField(this,"args",[]),__publicField(this,"action"),this.name=[].concat(n),this.description=e,this.args=r||this.args,this.action=t}}function generateCommands(n){return n.map(n=>new CommandContainer(n))}function parseParsedCommand(n,e){return n.args.reduce((n,r)=>{const t=[].concat(r.name);t.length<1&&t.push(`argument-${r.index}`);const i=a(r.name[0]);if("index"in r&&void 0!==r.index&&Number(r.index)in e.args){const t=r.index;let a=e.args[Number(t)];a=void 0===a||a,n[t]=a,n.unresolved[Number(t)]=e.unresolved.args[Number(t)],n[i]=a,n.unresolved[String(i)]=e.unresolved.args[Number(t)]}return t.forEach(r=>{if(r in e.kwargs){const t=e.kwargs[r];n[i]=void 0===t||t,n.unresolved[i]=void 0===e.kwargs[String(r)]||t}}),n},{unresolved:{}})}class ArgumentInfo{constructor({name:n,index:e,flag:r,description:t}){__publicField(this,"name"),__publicField(this,"index"),__publicField(this,"flag"),__publicField(this,"description"),this.name=[].concat(n),this.index=e,this.flag=r,this.description=t}}function requireStripAnsi(){if(t)return r;t=1;const i=function requireAnsiRegex(){return e?n:(e=1,n=({onlyFirst:n=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,n?void 0:"g")})}();return r=n=>"string"==typeof n?n.replace(i(),""):n}var u,s,h,f,l,d,m,g,p={exports:{}},v={exports:{}};function requireDefaults(){if(h)return s;h=1;var n=function requireClone(){return u||(u=1,n=v,e=function(){function clone3(n,e,r,t){"object"==typeof e&&(r=e.depth,t=e.prototype,e.filter,e=e.circular);var i=[],a=[],o="undefined"!=typeof Buffer;return void 0===e&&(e=!0),void 0===r&&(r=1/0),function _clone(n,r){if(null===n)return null;if(0==r)return n;var u,s;if("object"!=typeof n)return n;if(clone3.__isArray(n))u=[];else if(clone3.__isRegExp(n))u=new RegExp(n.source,__getRegExpFlags(n)),n.lastIndex&&(u.lastIndex=n.lastIndex);else if(clone3.__isDate(n))u=new Date(n.getTime());else{if(o&&Buffer.isBuffer(n))return u=Buffer.allocUnsafe?Buffer.allocUnsafe(n.length):new Buffer(n.length),n.copy(u),u;void 0===t?(s=Object.getPrototypeOf(n),u=Object.create(s)):(u=Object.create(t),s=t)}if(e){var h=i.indexOf(n);if(-1!=h)return a[h];i.push(n),a.push(u)}for(var f in n){var l;s&&(l=Object.getOwnPropertyDescriptor(s,f)),l&&null==l.set||(u[f]=_clone(n[f],r-1))}return u}(n,r)}function __objToStr(n){return Object.prototype.toString.call(n)}function __getRegExpFlags(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),e}return clone3.clonePrototype=function clonePrototype(n){if(null===n)return null;var c=function(){};return c.prototype=n,new c},clone3.__objToStr=__objToStr,clone3.__isDate=function __isDate(n){return"object"==typeof n&&"[object Date]"===__objToStr(n)},clone3.__isArray=function __isArray(n){return"object"==typeof n&&"[object Array]"===__objToStr(n)},clone3.__isRegExp=function __isRegExp(n){return"object"==typeof n&&"[object RegExp]"===__objToStr(n)},clone3.__getRegExpFlags=__getRegExpFlags,clone3}(),n.exports&&(n.exports=e)),v.exports;var n,e}();return s=function(e,r){return e=e||{},Object.keys(r).forEach(function(t){void 0===e[t]&&(e[t]=n(r[t]))}),e}}function requireWcwidth(){if(d)return p.exports;d=1;var n=requireDefaults(),e=function requireCombining(){return l?f:(l=1,f=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]])}(),r={nul:0,control:0};function wcswidth(n,e){if("string"!=typeof n)return wcwidth$1(n,e);for(var r=0,t=0;t<n.length;t++){var i=wcwidth$1(n.charCodeAt(t),e);if(i<0)return-1;r+=i}return r}function wcwidth$1(n,r){return 0===n?r.nul:n<32||n>=127&&n<160?r.control:function bisearch(n){var r,t=0,i=e.length-1;if(n<e[0][0]||n>e[i][1])return!1;for(;i>=t;)if(r=Math.floor((t+i)/2),n>e[r][1])t=r+1;else{if(!(n<e[r][0]))return!0;i=r-1}return!1}(n)?0:1+(n>=4352&&(n<=4447||9001==n||9002==n||n>=11904&&n<=42191&&12351!=n||n>=44032&&n<=55203||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65135||n>=65280&&n<=65376||n>=65504&&n<=65510||n>=131072&&n<=196605||n>=196608&&n<=262141))}return p.exports=function wcwidth2(n){return wcswidth(n,r)},p.exports.config=function(e){return e=n(e||{},r),function wcwidth2(n){return wcswidth(n,e)}},p.exports}function requireWidth(){if(g)return m;g=1;var n=requireStripAnsi(),e=requireWcwidth();return m=function(r){return e(n(r))}}var w,x,b,j={};function requireUtils(){if(w)return j;w=1;var n=requireWidth();function repeatString(n,e){return Array.apply(null,{length:e+1}).join(n).slice(0,e)}return j.padRight=function padRight(e,r,t){e=null!=e?e:"",e=String(e);var i=r-n(e);return i<=0?e:e+repeatString(t||" ",i)},j.padCenter=function padCenter(e,r,t){e=null!=e?e:"",e=String(e);var i=r-n(e);if(i<=0)return e;var a=Math.floor(i/2),o=i-a;return repeatString(t||" ",a)+e+repeatString(t||" ",o)},j.padLeft=function padLeft(e,r,t){e=null!=e?e:"",e=String(e);var i=r-n(e);return i<=0?e:repeatString(t||" ",i)+e},j.splitIntoLines=function splitIntoLines(e,r){return e.split("\n").map(function(e){return function _splitIntoLines(e,r){return e.trim().split(" ").reduce(function(e,t){var i=e[e.length-1];return i&&n(i.join(" "))+n(t)<r?e[e.length-1].push(t):e.push([t]),e},[]).map(function(n){return n.join(" ")})}(e,r)}).reduce(function(n,e){return n.concat(e)},[])},j.splitLongWords=function splitLongWords(e,r,t){for(var i=[],a=(e=e.trim()).split(" "),o="",u=n(t);o||a.length;){if(o){var s=o;o=""}else s=a.shift();if(n(s)>r){for(var h=0,f=0,l=r-u;h<s.length;){var d=n(s.charAt(h));if(d+f>l)break;f+=d,++h}o=s.slice(h),s=s.slice(0,h),s+=t}i.push(s)}return i.join(" ")},j.truncateString=function truncateString(e,r){if(e=null!=e?e:"",e=String(e),r==1/0)return e;for(var t=0,i=0;t<e.length;){var a=n(e.charAt(t));if(a+i>r)break;i+=a,++t}return e.slice(0,t)},j}const _=o(function requireColumnify(){if(b)return x;b=1;var n=requireWidth(),e=requireUtils(),r=e.padRight,t=e.padCenter,i=e.padLeft,a=e.splitIntoLines,o=e.splitLongWords,u=e.truncateString,s=function DEFAULT_HEADING_TRANSFORM2(n){return n.toUpperCase()},h=Object.freeze({maxWidth:1/0,minWidth:0,columnSplitter:" ",truncate:!1,truncateMarker:"â€¦",preserveNewLines:!1,paddingChr:" ",showHeaders:!0,headingTransform:s,dataTransform:function DEFAULT_DATA_TRANSFORM2(n,e,r){return n}});function mixin(){return Object.assign?Object.assign.apply(Object,arguments):ObjectAssign.apply(void 0,arguments)}function ObjectAssign(n,e){if(null==n)throw new TypeError("Cannot convert first argument to object");for(var r,t=Object(n),i=!1,a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o){for(var u=Object.keys(Object(o)),s=0,h=u.length;s<h;s++){var f=u[s];try{var l=Object.getOwnPropertyDescriptor(o,f);void 0!==l&&l.enumerable&&(t[f]=o[f])}catch(d){i||(i=!0,r=d)}}if(i)throw r}}return t}return x=function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=f.config||{};delete f.config;var d=f.maxLineWidth||1/0;"auto"===d&&(d=process.stdout.columns||1/0),delete f.maxLineWidth,(f=mixin({},h,f)).config=f.config||Object.create(null),f.spacing=f.spacing||"\n",f.preserveNewLines=!!f.preserveNewLines,f.showHeaders=!!f.showHeaders,f.columns=f.columns||f.include;var m=f.columns||[];e=function toArray(n,e){if(Array.isArray(n))return n;var r=[];for(var t in n){var i={};i[e[0]||"key"]=t,i[e[1]||"value"]=n[t],r.push(i)}return r}(e,m),m.length||e.forEach(function(n){for(var e in n)-1===m.indexOf(e)&&m.push(e)});var g=m.reduce(function(n,e){var r=Object.create(f);return n[e]=mixin(r,l[e]),n},Object.create(null));m.forEach(function(n){var e=g[n];e.name=n,e.maxWidth=Math.ceil(e.maxWidth),e.minWidth=Math.ceil(e.minWidth),e.truncate=!!e.truncate,e.align=e.align||"left"}),e=e.map(function(n){var e=Object.create(null);return m.forEach(function(r){e[r]=null!=n[r]?n[r]:"",e[r]=""+e[r],g[r].preserveNewLines?e[r]=e[r].replace(/[^\S\n]/gim," "):e[r]=e[r].replace(/\s/gim," ")}),e}),m.forEach(function(n){var r=g[n];e=e.map(function(e,t){var i=Object.create(r);e[n]=r.dataTransform(e[n],i,t);var a=Object.keys(i);if(-1!==a.indexOf("name")){if(r.headingTransform!==s)return;r.headingTransform=function(n){return n}}return a.forEach(function(n){return r[n]=i[n]}),e})});var p={};f.showHeaders&&(m.forEach(function(n){var e=g[n];e.showHeaders?p[n]=e.headingTransform(e.name):p[n]=""}),e.unshift(p)),m.forEach(function(r){var t=g[r];t.width=e.map(function(n){return n[r]}).reduce(function(e,r){return e>=t.maxWidth?e:Math.max(e,Math.min(t.maxWidth,Math.max(t.minWidth,n(r))))},0)}),m.forEach(function(n){var r=g[n];e=e.map(function(e){return e[n]=o(e[n],r.width,r.truncateMarker),e})}),m.forEach(function(r){var t=g[r];e=e.map(function(e,i){var o=e[r];(e[r]=a(o,t.width),t.truncate&&e[r].length>1)&&(e[r]=a(o,t.width-n(t.truncateMarker)),function endsWith(n,e,r){r=(r=r||n.length)-e.length;var t=n.lastIndexOf(e);return-1!==t&&t===r}(e[r][0],t.truncateMarker)||(e[r][0]+=t.truncateMarker),e[r]=e[r].slice(0,1));return e})}),m.forEach(function(r){var t=g[r];t.width=e.map(function(e){return e[r].reduce(function(e,r){return e>=t.maxWidth?e:Math.max(e,Math.min(t.maxWidth,Math.max(t.minWidth,n(r))))},0)}).reduce(function(n,e){return n>=t.maxWidth?n:Math.max(n,Math.min(t.maxWidth,Math.max(t.minWidth,e)))},0)});var v=function createRows(n,e,a,o){return n.map(function(n){var u=[],s=0;a.forEach(function(e){s=Math.max(s,n[e].length)});for(var h=function _loop2(s){u[s]=u[s]||[],a.forEach(function(a){var h=e[a],f=n[a][s]||"";"right"===h.align?u[s].push(i(f,h.width,o)):"center"===h.align||"centre"===h.align?u[s].push(t(f,h.width,o)):u[s].push(r(f,h.width,o))})},f=0;f<s;f++)h(f);return u})}(e,g,m,f.paddingChr);return v.reduce(function(n,e){return n.concat(e.reduce(function(n,e){return n.concat(e.join(f.columnSplitter))},[]))},[]).map(function(n){return u(n,d)}).join(f.spacing)}}());class TableColumn{constructor(n){__publicField(this,"value","unknown"),__publicField(this,"align","left"),__publicField(this,"minWidth",0),__publicField(this,"maxWidth",0),__publicField(this,"spacerChar"," "),__publicField(this,"headingTransform",n=>n);const{value:e,align:r,minWidth:t,maxWidth:i,spacerChar:a,headingTransform:o}=n||{};this.value=e||this.value,this.align=r||this.align,this.minWidth=t||this.minWidth,this.maxWidth=Math.max(i||this.maxWidth,this.minWidth),this.spacerChar=a||this.spacerChar,this.headingTransform=o||this.headingTransform}}class Table{constructor(n){__publicField(this,"headerPadding",0),__publicField(this,"showHeader",!0),__publicField(this,"columns",[]),__publicField(this,"rows",[]);const{showHeader:e,headerPadding:r,columns:t}={showHeader:!0,headerPadding:0,columns:[],...n};this.showHeader=e,this.headerPadding=r,this.addColumns(t)}addColumn(n){this.columns.push(new TableColumn(n))}addColumns(n){n.forEach(n=>this.addColumn(n))}addRow(n){this.rows.push(n)}addRows(n){n.forEach(n=>this.addRow(n))}static createSpacer(n,e,r){if(n.length<e){e-=n.length;for(let t=0;t<e;t++)n+=r}return n}toColumnify(){const n=this.columns.map(n=>n.value),e=this.rows.reduce((n,e,r)=>{r<1&&this.showHeader&&this.headerPadding&&n.push(...Array(this.headerPadding).fill(""));const t=this.columns.reduce((n,r,t)=>({...n,[r.value]:e[Number(t)]}),{});return n.push(t),n},[]),r=this.columns.reduce((n,e)=>(n[e.value]=new TableColumn,e.align&&(n[e.value].align=e.align),e.minWidth&&(n[e.value].minWidth=e.minWidth),e.maxWidth&&(n[e.value].maxWidth=e.maxWidth),n[e.value].headingTransform=n=>n,n),{});return _(e,{showHeaders:this.showHeader,preserveNewLines:!0,config:r,columns:n}).replace(/\xC2/g," ")}}export{ArgumentInfo as A,CommandContainer as C,Table as T,_ as c,defineCommands as d,generateCommands as g,parseParsedCommand as p};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./5k3KJYIe.js","./C0_snZds.js","./CrQvwhUk.js","./Bk_zE6I5.js","./CpQI5kI4.js","./BeevJImz.js","./B0t7NmfR.js","./nVvl5S5H.js","./Ch9TGLTe.js","./BdqeVm17.js","./DhVLdAEy.js","./C5mdboMC.js","./Buq6GmRM.js","./uY512OOx.js","./BhIZyK9R.js","./CmzGbntK.js","./DWF7crJ9.js","./Navigation.DwhcyBPh.css","./D9s5NzWA.js","./HG1m6jKG.js","./CD8Wqi-R.js","./Markdown.CP1BJIQC.css","./contextMenu.CRcejXXD.css","./BDRXRM8j.js","./C1Z8QYso.js","./BrQUI1fL.js","./CDk6Z4eJ.js","./TimelineCanvas.tu713HhJ.css","./Project.qhWtLW14.css","./S21qHZGJ.js","./-XQioQgL.js","./DCzE-LO6.js","./CMn89ocD.js","./D2-8fvMy.js","./BuOfD760.js","./Cpj98o6Y.js","./Bl7v0_lh.js","./BRmnW_0a.js","./FormField.C-XP2HqP.css","./CheckboxGroup.CfoKKRAI.css","./B0ueQ7OP.js","./Button.DCu0A7yh.css","./index.Dk_nD45a.css","./CoJnnkc_.js","./RangeSlider.ClOfXQ-W.css","./UNTsdnlX.js","./Textarea.MpAzpZQ-.css","./DptxkuMs.js","./BRT6S-89.js","./ByW6ry1A.js","./PS8j2qfJ.js","./index.C5z2Rh2f.css","./BThQ8Ko0.js","./ContextMenu.Bbt4XPiD.css","./-HFibmZg.js","./Metronom.D5VAYzvq.css","./DOQRJiqD.js","./ZA9ggWey.js","./Track.CYmk2Klm.css","./39n9DbAC.js","./Notes.DWyYRlYA.css","./DDBNJyW8.js","./Dl8hRVGx.js","./Timeline.C_UvXKMb.css","./DdDm7Pff.js"])))=>i.map(i=>d[i]);
import{H as s,D as O,V as y}from"./DhVLdAEy.js";import{k as b}from"./C5mdboMC.js";function C(r){return r.toISOString().slice(0,10).replace(/[-]/g,"")}const D=Object.freeze({NATURAL:"natural",SHARP:"sharp",DOUBLE_SHARP:"doubleSharp",FLAT:"flat",DOUBLE_FLAT:"doubleFlat"}),P=Object.freeze({ADD:"add",REPLACE:"replace"}),w=Object.freeze({LARGE:"large",MEDIUM:"medium",SMALL:"small"}),Y=D,v=Object.freeze({TOP:"top",BOTTOM:"bottom"}),L=Object.freeze({DEFAULT:"default",ASCENDING:"ascending",DESCENDING:"descending",EQUAL:"equal"});function H(r){return async({modules:c})=>{const{windows:l}=c,[_,f,E]=await Promise.all([s(()=>import("./5k3KJYIe.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(e=>e.default),s(()=>import("./B0t7NmfR.js").then(e=>e.i),__vite__mapDeps([6,7,1,8]),import.meta.url).then(e=>e.default),s(()=>import("./BdqeVm17.js"),__vite__mapDeps([9,6,7,1,8,10,11]),import.meta.url).then(e=>e.default)]),u=new _;u.start();const[R,h,I,N,A]=await Promise.all([s(()=>import("./Buq6GmRM.js"),__vite__mapDeps([12,7,1,13,14,11,6,8,15,16,10,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url).then(e=>e.default),s(()=>import("./S21qHZGJ.js"),__vite__mapDeps([29,13,14,11,30,31,1,4,5,32,2,3,33,10,34,8,18,35,36,37,38,39,40,41,20,21,42,25,43,44,45,46,19,47,48,49,50,51,52,53,54,7,6,16,17,55,0,15,22,23,24,26,27,56,57,58]),import.meta.url).then(e=>e.default),s(()=>import("./39n9DbAC.js"),__vite__mapDeps([59,40,10,41,26,1,7,18,8,11,60]),import.meta.url).then(e=>e.default),s(()=>import("./DDBNJyW8.js"),__vite__mapDeps([61,16,7,1,10,17,54,6,8,55,30,31,4,5,32,2,3,0,23,24,25,26,27,18,11]),import.meta.url).then(e=>e.default),s(()=>import("./Dl8hRVGx.js"),__vite__mapDeps([62,40,10,41,6,7,1,8,23,24,25,26,27,18,11,63]),import.meta.url).then(e=>e.default)]),T=O([]),o=y(await S()),n=l.addWindow({title:"Synthesizer",component:R,componentData:{core:r,midiController:u,model:o},options:{scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!0,embed:!0,borderless:!0}},{group:"extras13Synthesizer",full:!0});o.actions={removeTrack:async e=>{await p(r,`Remove Track \\"${e.name}\\" from Project??`)&&(o[t.SYNTHESIZER_PROJECT].tracks=o[t.SYNTHESIZER_PROJECT].tracks.filter(i=>i!==e))},clearTracks:async()=>{await p(r,"Remove all Tracks from Project??")&&(o[t.SYNTHESIZER_PROJECT].tracks=[])},newProject:async()=>{const e=new E,a=await d(r,"New Project:",e.name);a&&(e.name=a,o[t.SYNTHESIZER_PROJECT]=e)},openProject:async()=>{const e=await r.executeCommand("openFileDialog");if(e){const a=new E(e.value);o[t.SYNTHESIZER_PROJECT]=a}},saveProject:async()=>{const e=await btoa(JSON.stringify(o[t.SYNTHESIZER_PROJECT]));return o.fsItem=await r.executeCommand(`saveFileDialog --data="${e}" --extension="json"`),o.fsItem},importProject:async e=>{const a=new E(JSON.parse(await e.text()));o[t.SYNTHESIZER_PROJECT]=a},exportProject:async()=>{const e=await s(()=>import("./DdDm7Pff.js").then(a=>a.F),__vite__mapDeps([64,35]),import.meta.url).then(a=>a.default);try{const a=o[t.SYNTHESIZER_PROJECT],i=new Blob([JSON.stringify(a)],{type:"application/json;charset=utf-8"});await e.saveAs(i,`${C(new Date)}-${b(a.name)}.json`)}catch(a){console.error("An error occurred during export.",a)}},newTrack:async()=>{const e=new f,a=await d(r,"New Track:",e.name);a&&(e.name=a,console.log(e),o[t.SYNTHESIZER_PROJECT].tracks.push(e))},editTrack:(e,a={})=>{const i=l.addWindow({parentWindow:n,title:`Track: ${e.name}`,component:h,componentData:{parentWindow:n,model:o,trackModel:{...m(e),...a}},options:{scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!1}},{group:"extras13Synthesizer",full:!0});return T.push(i),{window:i,close:i.awaitClose().then(()=>new f(e)),ready:i.awaitReady()}},openDebugNotes:()=>{const e=l.addWindow({parentWindow:n,title:"Debug Notes",component:I,componentData:{parentWindow:n},options:{scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0});return T.push(e),{window:e,close:e.awaitClose(),ready:e.awaitReady()}},openDebugMidi:()=>{const e=l.addWindow({parentWindow:n,title:"Debug Midi",component:N,componentData:{midiController:u,parentWindow:n},options:{scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0});return T.push(e),{window:e,close:e.awaitClose(),ready:e.awaitReady()}},openDebugTimeline:()=>{const e=l.addWindow({parentWindow:n,title:"Debug Timeline",component:A,componentData:{midiController:u,parentWindow:n},options:{scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0});return T.push(e),{window:e,close:e.awaitClose(),ready:e.awaitReady()}},closeTracks:()=>{T.forEach(e=>e.close())},close:()=>{T.forEach(e=>e.close()),n.close()},focus:()=>{n.focus()}}}}const t={SYNTHESIZER_BPM:"extras13_synthesizer_bpm",SYNTHESIZER_PROJECT:"extras13_synthesizer_project",SYNTHESIZER_TRACK:"extras13_synthesizer_track",SYNTHESIZER_TRACK_SHOW_NOTE_LABELS:"extras13_synthesizer_showNoteLabels",SYNTHESIZER_TRACK_SHOW_KEYBOARD:"extras13_synthesizer_showKeyboard",SYNTHESIZER_TRACK_INSTRUMENT:"extras13_synthesizer_instrument",SYNTHESIZER_TRACK_START_OCTAVE:"extras13_synthesizer_startOctave",SYNTHESIZER_TRACK_OCTAVE_COUNT:"extras13_synthesizer_octaveCount",SYNTHESIZER_TRACK_KEYBOARD_ALIGN:"extras13_synthesizer_keyboardAlign",SYNTHESIZER_TRACK_KEYBOARD_SIZE:"extras13_synthesizer_keyboardSize",SYNTHESIZER_TRACK_DURATION:"extras13_synthesizer_duration",SYNTHESIZER_TRACK_BEAT_COUNT:"extras13_synthesizer_beat_count",SYNTHESIZER_TRACK_BASE_NOTE:"extras13_synthesizer_base_note",SYNTHESIZER_TRACK_NOTE_COUNT:"extras13_synthesizer_note_count",SYNTHESIZER_TRACK_INPUT_OPERATION:"extras13_synthesizer_input_operation",SYNTHESIZER_TRACK_INPUT_DOT:"extras13_synthesizer_input_dot",SYNTHESIZER_TRACK_INPUT_TRIPLET:"extras13_synthesizer_input_triplet",SYNTHESIZER_TRACK_INPUT_MODIFICATION:"extras13_synthesizer_input_modification",SYNTHESIZER_TRACK_INPUT:"extras13_synthesizer_input",SYNTHESIZER_TRACK_INPUT_NOTE:"extras13_synthesizer_input_note"},Z={};function d(r,c,l=""){return r.executeCommand(`openDialog -title="${c}" -prompt -prompt-value="${l}" -apply="Save" -abort="Cancel"`)}function p(r,c){return r.executeCommand(`openDialog "${c}" -confirm`)}async function K(){const[r,c]=await Promise.all([s(()=>import("./B0t7NmfR.js").then(_=>_.i),__vite__mapDeps([6,7,1,8]),import.meta.url).then(_=>_.default),s(()=>import("./BdqeVm17.js"),__vite__mapDeps([9,6,7,1,8,10,11]),import.meta.url).then(_=>_.default)]);return new c({tracks:[new r({name:"Test",type:"Synth",notes:[{note:{name:"c",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:0},{note:{name:"d",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.0625},{note:{name:"e",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.125},{note:{name:"f",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.1875},{note:{name:"g",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.25},{note:{name:"a",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.3125},{note:{name:"b",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.375},{note:{name:"c",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.4375},{note:{name:"d",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.5},{note:{name:"e",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.5625},{note:{name:"f",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.625},{note:{name:"g",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.6875},{note:{name:"a",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.75},{note:{name:"b",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.8125},{note:{name:"c",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.875},{note:{name:"d",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.9375},{note:{name:"e",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1},{note:{name:"f",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.0625},{note:{name:"g",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.125},{note:{name:"a",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.1875},{note:{name:"b",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.25},{note:{name:"c",octave:6,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.3125}],beatCount:2})]})}function m(r){return{[t.SYNTHESIZER_TRACK]:r,[t.SYNTHESIZER_TRACK_KEYBOARD_ALIGN]:v.TOP,[t.SYNTHESIZER_TRACK_KEYBOARD_SIZE]:w.SMALL,[t.SYNTHESIZER_TRACK_SHOW_NOTE_LABELS]:!1,[t.SYNTHESIZER_TRACK_DURATION]:"2n",[t.SYNTHESIZER_TRACK_INPUT_OPERATION]:P.ADD,[t.SYNTHESIZER_TRACK_SHOW_KEYBOARD]:!0,[t.SYNTHESIZER_TRACK_INPUT_DOT]:!1,[t.SYNTHESIZER_TRACK_INPUT_TRIPLET]:!1,[t.SYNTHESIZER_TRACK_INPUT_MODIFICATION]:Y.NATURAL,[t.SYNTHESIZER_TRACK_START_OCTAVE]:3,[t.SYNTHESIZER_TRACK_OCTAVE_COUNT]:2,[t.SYNTHESIZER_TRACK_INPUT]:"note",[t.SYNTHESIZER_TRACK_INPUT_NOTE]:""}}async function S(){return{[t.SYNTHESIZER_PROJECT]:await K(),[t.SYNTHESIZER_BPM]:120}}const x=Object.freeze(Object.defineProperty({__proto__:null,CONFIG_DEFAULTS:Z,CONFIG_NAMES:t,confirmDialog:p,default:H,getDefaultModel:S,getDefaultTrackModel:m,renamingDialog:d},Symbol.toStringTag,{value:"Module"}));export{t as C,L as G,w as K,D as N,v as a,m as b,S as g,d as r,x as s};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BlGw-RJp.js","./6C4StZv5.js","./D4lI5vpz.js","./JXQ19Fa6.js","./DmCMAY6H.js","./DlfJZ9EB.js","./BhyNvxlc.js","./DMsu-ujD.js","./C6aID195.js","./C7NxlA_s.js","./CYlf7ZdY.js","./C5mdboMC.js","./CSkguZLQ.js","./CGk7t0fz.js","./BY0KaPQX.js","./WDa1eyhd.js","./C8jOnDpX.js","./ywkUN1ns.css","./Dr9DEtSu.js","./dKD_XmLJ.js","./ey0azPGz.js","./DlyVNOZd.js","./BOXo5Fuj.css","./CRcejXXD.css","./D5pZ5GXT.js","./gfIAX8eU.js","./BSj7esSs.js","./CNkvSXuu.js","./B-KIywKT.js","./CRoeSbxe.css","./BjlzH42y.css","./BQ6Y8h4g.js","./0lJVpglL.js","./D7n7Xkqx.js","./CSlkdJUE.js","./BtN4NQcH.js","./C74p8FrD.css","./BWMaiRCQ.js","./Dwimt4ZI.js","./BZb93yOb.js","./D0k1iu44.css","./CbV9MIPk.js","./P7niO_tl.css","./Byz-YLfZ.js","./CyrJI8Kf.js","./CJLX7oOC.js","./760CSKKR.css","./CuwYBdrU.js","./DogGH0My.js","./iKMg5t-_.css","./Cx7-EOTB.css","./DHFnP78R.js","./DH_HuRtJ.js","./Dl2oMTx5.css","./CshrRwMP.js","./Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{H as s,D as O,I as y}from"./CYlf7ZdY.js";import{k as b}from"./C5mdboMC.js";function C(r){return r.toISOString().slice(0,10).replace(/[-]/g,"")}const D=Object.freeze({NATURAL:"natural",SHARP:"sharp",DOUBLE_SHARP:"doubleSharp",FLAT:"flat",DOUBLE_FLAT:"doubleFlat"}),P=Object.freeze({ADD:"add",REPLACE:"replace"}),w=Object.freeze({LARGE:"large",MEDIUM:"medium",SMALL:"small"}),Y=D,v=Object.freeze({TOP:"top",BOTTOM:"bottom"}),L=Object.freeze({DEFAULT:"default",ASCENDING:"ascending",DESCENDING:"descending",EQUAL:"equal"});function H(r){return async({modules:c})=>{const{windows:l}=c,[_,f,E]=await Promise.all([s(()=>import("./BlGw-RJp.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(e=>e.default),s(()=>import("./BhyNvxlc.js").then(e=>e.i),__vite__mapDeps([6,7,2,8]),import.meta.url).then(e=>e.default),s(()=>import("./C7NxlA_s.js"),__vite__mapDeps([9,6,7,2,8,10,11]),import.meta.url).then(e=>e.default)]),u=new _;u.start();const[R,h,I,N,A]=await Promise.all([s(()=>import("./CSkguZLQ.js"),__vite__mapDeps([12,7,2,13,14,11,6,8,15,16,10,17,18,19,20,21,22,23,24,25,26,27,28,29,30]),import.meta.url).then(e=>e.default),s(()=>import("./BQ6Y8h4g.js"),__vite__mapDeps([31,13,14,11,32,25,33,2,3,1,34,5,35,10,18,8,36,37,38,39,40,41,7,6,16,17,42,0,4,15,19,20,21,22,23,24,26,27,28,29,43,44,45,46]),import.meta.url).then(e=>e.default),s(()=>import("./CuwYBdrU.js"),__vite__mapDeps([47,48,10,49,28,25,7,2,26,27,18,8,11,50]),import.meta.url).then(e=>e.default),s(()=>import("./DHFnP78R.js"),__vite__mapDeps([51,16,7,2,10,17,41,25,6,8,42,32,33,3,1,34,5,0,4,24,26,27,28,29,18,11]),import.meta.url).then(e=>e.default),s(()=>import("./DH_HuRtJ.js"),__vite__mapDeps([52,48,10,49,6,7,2,8,24,25,26,27,28,29,18,11,53]),import.meta.url).then(e=>e.default)]),T=O([]),o=y(await S()),n=l.addWindow({component:R,componentData:{core:r,midiController:u,model:o},options:{title:"Synthesizer",scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!0,embed:!0,borderless:!0}},{group:"extras13Synthesizer",full:!0});o.actions={removeTrack:async e=>{await p(r,`Remove Track \\"${e.name}\\" from Project??`)&&(o[t.SYNTHESIZER_PROJECT].tracks=o[t.SYNTHESIZER_PROJECT].tracks.filter(i=>i!==e))},clearTracks:async()=>{await p(r,"Remove all Tracks from Project??")&&(o[t.SYNTHESIZER_PROJECT].tracks=[])},newProject:async()=>{const e=new E,a=await d(r,"New Project:",e.name);a&&(e.name=a,o[t.SYNTHESIZER_PROJECT]=e)},openProject:async()=>{const e=await r.executeCommand("openFileDialog");if(e){const a=new E(e.value);o[t.SYNTHESIZER_PROJECT]=a}},saveProject:async()=>{const e=await btoa(JSON.stringify(o[t.SYNTHESIZER_PROJECT]));return o.fsItem=await r.executeCommand(`saveFileDialog --data="${e}" --extension="json"`),o.fsItem},importProject:async e=>{const a=new E(JSON.parse(await e.text()));o[t.SYNTHESIZER_PROJECT]=a},exportProject:async()=>{const e=await s(()=>import("./CshrRwMP.js").then(a=>a.F),__vite__mapDeps([54,55]),import.meta.url).then(a=>a.default);try{const a=o[t.SYNTHESIZER_PROJECT],i=new Blob([JSON.stringify(a)],{type:"application/json;charset=utf-8"});await e.saveAs(i,`${C(new Date)}-${b(a.name)}.json`)}catch(a){console.error("An error occurred during export.",a)}},newTrack:async()=>{const e=new f,a=await d(r,"New Track:",e.name);a&&(e.name=a,console.log(e),o[t.SYNTHESIZER_PROJECT].tracks.push(e))},editTrack:(e,a={})=>{const i=l.addWindow({parentWindow:n,component:h,componentData:{parentWindow:n,model:o,trackModel:{...m(e),...a}},options:{title:`Track: ${e.name}`,scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!1}},{group:"extras13Synthesizer",full:!0});return T.push(i),{window:i,close:i.awaitClose().then(()=>new f(e)),ready:i.awaitReady()}},openDebugNotes:()=>{const e=l.addWindow({parentWindow:n,component:I,componentData:{parentWindow:n},options:{title:"Debug Notes",scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0});return T.push(e),{window:e,close:e.awaitClose(),ready:e.awaitReady()}},openDebugMidi:()=>{const e=l.addWindow({parentWindow:n,component:N,componentData:{midiController:u,parentWindow:n},options:{title:"Debug Midi",scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0});return T.push(e),{window:e,close:e.awaitClose(),ready:e.awaitReady()}},openDebugTimeline:()=>{const e=l.addWindow({parentWindow:n,component:A,componentData:{midiController:u,parentWindow:n},options:{title:"Debug Timeline",scaleX:!1,scaleY:!0,scrollX:!1,scrollY:!0}},{group:"extras13Synthesizer",full:!0});return T.push(e),{window:e,close:e.awaitClose(),ready:e.awaitReady()}},closeTracks:()=>{T.forEach(e=>e.close())},close:()=>{T.forEach(e=>e.close()),n.close()},focus:()=>{n.focus()}}}}const t={SYNTHESIZER_BPM:"extras13_synthesizer_bpm",SYNTHESIZER_PROJECT:"extras13_synthesizer_project",SYNTHESIZER_TRACK:"extras13_synthesizer_track",SYNTHESIZER_TRACK_SHOW_NOTE_LABELS:"extras13_synthesizer_showNoteLabels",SYNTHESIZER_TRACK_SHOW_KEYBOARD:"extras13_synthesizer_showKeyboard",SYNTHESIZER_TRACK_INSTRUMENT:"extras13_synthesizer_instrument",SYNTHESIZER_TRACK_START_OCTAVE:"extras13_synthesizer_startOctave",SYNTHESIZER_TRACK_OCTAVE_COUNT:"extras13_synthesizer_octaveCount",SYNTHESIZER_TRACK_KEYBOARD_ALIGN:"extras13_synthesizer_keyboardAlign",SYNTHESIZER_TRACK_KEYBOARD_SIZE:"extras13_synthesizer_keyboardSize",SYNTHESIZER_TRACK_DURATION:"extras13_synthesizer_duration",SYNTHESIZER_TRACK_BEAT_COUNT:"extras13_synthesizer_beat_count",SYNTHESIZER_TRACK_BASE_NOTE:"extras13_synthesizer_base_note",SYNTHESIZER_TRACK_NOTE_COUNT:"extras13_synthesizer_note_count",SYNTHESIZER_TRACK_INPUT_OPERATION:"extras13_synthesizer_input_operation",SYNTHESIZER_TRACK_INPUT_DOT:"extras13_synthesizer_input_dot",SYNTHESIZER_TRACK_INPUT_TRIPLET:"extras13_synthesizer_input_triplet",SYNTHESIZER_TRACK_INPUT_MODIFICATION:"extras13_synthesizer_input_modification",SYNTHESIZER_TRACK_INPUT:"extras13_synthesizer_input",SYNTHESIZER_TRACK_INPUT_NOTE:"extras13_synthesizer_input_note"},Z={};function d(r,c,l=""){return r.executeCommand(`openDialog -title="${c}" -prompt -prompt-value="${l}" -apply="Save" -abort="Cancel"`)}function p(r,c){return r.executeCommand(`openDialog "${c}" -confirm`)}async function K(){const[r,c]=await Promise.all([s(()=>import("./BhyNvxlc.js").then(_=>_.i),__vite__mapDeps([6,7,2,8]),import.meta.url).then(_=>_.default),s(()=>import("./C7NxlA_s.js"),__vite__mapDeps([9,6,7,2,8,10,11]),import.meta.url).then(_=>_.default)]);return new c({tracks:[new r({name:"Test",type:"Synth",notes:[{note:{name:"c",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:0},{note:{name:"d",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.0625},{note:{name:"e",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.125},{note:{name:"f",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.1875},{note:{name:"g",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.25},{note:{name:"a",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.3125},{note:{name:"b",octave:3,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.375},{note:{name:"c",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.4375},{note:{name:"d",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.5},{note:{name:"e",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.5625},{note:{name:"f",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.625},{note:{name:"g",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.6875},{note:{name:"a",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.75},{note:{name:"b",octave:4,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.8125},{note:{name:"c",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.875},{note:{name:"d",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:.9375},{note:{name:"e",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1},{note:{name:"f",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.0625},{note:{name:"g",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.125},{note:{name:"a",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.1875},{note:{name:"b",octave:5,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.25},{note:{name:"c",octave:6,sharp:!1,doubleSharp:!1},time:{number:32,character:"n",dot:!1,triplet:!1},delay:1.3125}],beatCount:2})]})}function m(r){return{[t.SYNTHESIZER_TRACK]:r,[t.SYNTHESIZER_TRACK_KEYBOARD_ALIGN]:v.TOP,[t.SYNTHESIZER_TRACK_KEYBOARD_SIZE]:w.SMALL,[t.SYNTHESIZER_TRACK_SHOW_NOTE_LABELS]:!1,[t.SYNTHESIZER_TRACK_DURATION]:"2n",[t.SYNTHESIZER_TRACK_INPUT_OPERATION]:P.ADD,[t.SYNTHESIZER_TRACK_SHOW_KEYBOARD]:!0,[t.SYNTHESIZER_TRACK_INPUT_DOT]:!1,[t.SYNTHESIZER_TRACK_INPUT_TRIPLET]:!1,[t.SYNTHESIZER_TRACK_INPUT_MODIFICATION]:Y.NATURAL,[t.SYNTHESIZER_TRACK_START_OCTAVE]:3,[t.SYNTHESIZER_TRACK_OCTAVE_COUNT]:2,[t.SYNTHESIZER_TRACK_INPUT]:"note",[t.SYNTHESIZER_TRACK_INPUT_NOTE]:""}}async function S(){return{[t.SYNTHESIZER_PROJECT]:await K(),[t.SYNTHESIZER_BPM]:120}}const x=Object.freeze(Object.defineProperty({__proto__:null,CONFIG_DEFAULTS:Z,CONFIG_NAMES:t,confirmDialog:p,default:H,getDefaultModel:S,getDefaultTrackModel:m,renamingDialog:d},Symbol.toStringTag,{value:"Module"}));export{t as C,L as G,w as K,D as N,v as a,S as b,m as g,d as r,x as s};

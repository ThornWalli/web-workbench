import{c as C}from"./cUSLPp96.js";import{u as h}from"./Xupdrwif.js";import{u as k}from"./DcvgOCRL.js";import{d as S,r as v,k as B,y as n,z as r,A as c,B as b,X as x,Y as y,_ as w}from"./BUU1NkbK.js";import"./B2exwp0w.js";import"./7MFW2ODw.js";const A={class:"wb-disks-workbench13-calculator"},E={class:"result","data-hook":"calculatorResult"},M={class:"buttons"},V=["value"],F=S({__name:"Calculator",props:{model:{}},setup(p){const{core:d}=k(),{setContextMenu:f}=h();f(C,{model:p.model});const e=v(),a=v(),t=v(),m=v(["7","8","9","CA","CE","4","5","6","*","/","1","2","3","+","-","0",".","<-","+-","="]),_=B(()=>[e.value,t.value,a.value].filter(o=>o!==void 0).join(" "));async function $(o){var i,u,s;if(o.target instanceof HTMLInputElement&&((i=d.value)!=null&&i.modules.parser)){const l=(u=o.target)==null?void 0:u.value;if(/^[0-9,.]+$/.test(l)&&t.value===void 0?e.value=(e.value||"")+l:/^[0-9,.]+$/.test(l)&&t.value&&e.value!==void 0&&(a.value=(a.value||"")+l),/^[\\/*-+=]$/.test(l)&&e.value!==void 0&&a.value!==void 0&&t.value){const g=await((s=d.value.modules.parser)==null?void 0:s.parseMath(`${e.value}${t.value}${a.value}`));e.value=String(g),t.value=void 0,a.value=void 0}/^[\\/*-+]$/.test(l)&&e.value!==void 0&&a.value===void 0&&(t.value=l),/^<-$/.test(l)&&e.value!==void 0&&(e.value!==void 0&&a.value===void 0?(t.value=void 0,e.value=String(e.value).slice(0,e.value.length-1)):e.value!==void 0&&t.value&&(a.value=String(a.value).slice(0,String(a.value).length-1))),/^\+-$/.test(l)&&(e.value!==void 0&&a.value===void 0?e.value=String(parseFloat(e.value)*-1):e.value!==void 0&&t.value&&(a.value=String(parseFloat(a.value||"0")*-1))),/^CA$/.test(l)&&(t.value=e.value=a.value=void 0),/^CE$/.test(l)&&(a.value!==void 0?a.value=void 0:t.value?t.value=void 0:e.value!==void 0&&(e.value=void 0))}}return(o,i)=>(r(),n("div",A,[c("span",E,b(_.value),1),c("div",M,[(r(!0),n(x,null,y(m.value,(u,s)=>(r(),n("span",{key:s},[c("input",{type:"button",value:u,onClick:$},null,8,V)]))),128))])]))}}),O=w(F,[["__scopeId","data-v-42c89fa5"]]);export{O as default};

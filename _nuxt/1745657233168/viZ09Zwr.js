var a=Object.defineProperty;var h=(o,t,e)=>t in o?a(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var s=(o,t,e)=>h(o,typeof t!="symbol"?t+"":t,e);import{g as d,c as i}from"./CiKic5u-.js";import{C as r}from"./DDYNGWqS.js";class M{constructor({name:t,core:e,config:n={},commands:c,contextMenu:m}){s(this,"config");s(this,"commands");s(this,"name");s(this,"core");s(this,"contextMenu");this.name=t||"Module",this.core=e,this.config=n,this.commands=c,this.contextMenu=m}beforeSetup(){var e,n;const t=this.core;t.config.setDefaults(this.config),typeof this.commands=="function"&&(this.commands=d(this.commands({core:t,module:this})),i.add(this.commands)),typeof this.contextMenu=="function"&&(this.contextMenu=new r(this.contextMenu,{core:t,module:this}),(n=(e=this.core.modules.windows)==null?void 0:e.contextMenu)==null||n.addDefaultItems(this.contextMenu))}setup(){this.log(this.name)}destroy(){Array.isArray(this.commands)&&i.remove(this.commands)}log(t){this.core.logger.add(t,{namespace:this.name})}}export{M};

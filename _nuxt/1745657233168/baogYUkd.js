import{i as T}from"./2o4skMhU.js";import{A as Y}from"./D5ZRmSpd.js";import{u as S}from"./DDYNGWqS.js";import{_ as W,r as y,t as D,v as E,z as N,D as V,j as B,o as F,V as j,x as C,y as $}from"./JDFt9gvC.js";import"./C6aID195.js";const q={class:"wb-disks-workbench13-clock-info"},K={__name:"Info",setup(a){const{setContextMenu:f}=S();f(H);const r=y(["# Clock",`Version: **1.0**  
Created by **Thorn-Welf Walli**`].join(`
`));return(o,n)=>(E(),D("div",q,[N(V(Y),{content:r.value},null,8,["content"])]))}},U=W(K,[["__scopeId","data-v-c49f72ba"]]),H=({core:a})=>{const{windows:f}=a.modules;return[{title:"Clock",items:[{hotKey:"I",keyCode:73,title:"Info",action(){f.addWindow({title:"Info",component:U,componentData:{},options:{prompt:!1,scaleX:!1,scaleY:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Clock"})}}]}]};function G(a,f,r,o){a.beginPath(),a.arc(0,0,f-r,0,2*Math.PI,!1),a.fillStyle=o[0],a.fill()}function J(a,f,r){let o;for(o=0;o<60;o++){a.rotate(-Math.PI/2),a.beginPath();const n=0-f+12,u=6;a.moveTo(0,n),a.lineTo(0,n-u),a.rotate(Math.PI/3/5),a.lineWidth=2,a.strokeStyle=r[1],a.stroke()}for(a.rotate(-(Math.PI/3/5)*60),o=0;o<16;o++){a.rotate(-Math.PI/2),a.beginPath();const n=0-f+15,u=6,l=10;a.moveTo(0,n),a.lineTo(0+u/2,n-l/2),a.lineTo(0,n-l),a.lineTo(0-u/2,n-l/2),a.lineTo(0,n),a.rotate(Math.PI/3),a.fillStyle=r[1],a.fill()}a.rotate(-Math.PI/3*16)}function L(a,f,r,o,n){const u=f.getHours()*(Math.PI*2/12)+Math.PI*2/12*f.getMinutes()/60,l=f.getMinutes()*(Math.PI*2/60),p=f.getSeconds()*(Math.PI*2/60);r.rotate(u),r.drawImage(a[0],-o.x,-o.y,n.x,n.y),r.rotate(-u),r.rotate(l),r.drawImage(a[1],-o.x,-o.y,n.x,n.y),r.rotate(-l),r.rotate(p),r.drawImage(a[2],-o.x,-o.y,n.x,n.y),r.rotate(-p)}function O(a,f,r,o){const u=a/2-5,l=T(()=>u+5);return[(e,d)=>{e.translate(l.x,l.y);const t=3,s=[.5,.34],h=0,i=0;e.beginPath(),e.moveTo(h,i),e.lineTo(h-t,i-d.width/2*s[1]),e.lineTo(h,i-d.width/2*s[0]),e.lineTo(h+t,i-d.width/2*s[1]),e.lineTo(h,i),e.strokeStyle=o[1],e.fillStyle=o[1],e.stroke(),e.fill()},(e,d)=>{e.translate(l.x,l.y);const t=4,s=[.7,.54],h=0,i=0;e.beginPath(),e.moveTo(h,i),e.lineTo(h-t,i-d.width/2*s[1]),e.lineTo(h,i-d.width/2*s[0]),e.lineTo(h+t,i-d.width/2*s[1]),e.lineTo(h,i),e.strokeStyle=o[1],e.fillStyle=o[1],e.stroke(),e.fill()},(e,d)=>{e.translate(l.x,l.y);const t=0,s=.74,h=0,i=0;e.beginPath(),e.moveTo(h,i),e.lineTo(h+t,i-d.width/2*s),e.lineTo(h,i),e.strokeStyle=o[2],e.stroke()},e=>{e.translate(l.x,l.y),G(e,u,r,o)},e=>{e.translate(l.x,l.y),J(e,u,o)}].map(e=>{const d=document.createElement("canvas");d.width=a,d.height=f;const t=d.getContext("2d");return t.imageSmoothingEnabled=!1,e(t,d),d})}const Q={class:"period"},R={__name:"Clock",setup(a){const{setContextMenu:f}=S();f(H);const r=y(null),o=y(null),n=y(["#888888","#000000","#FFAA55"]),u=y([]),l=y(!1),p=y(null),e=B(()=>l.value?"PM":"AM");F(()=>{const t=o.value;t.width=r.value.offsetWidth,t.height=r.value.offsetHeight,u.value=O(t.width,t.height,2,n.value),d(t,t.getContext("2d"))}),j(()=>{window.clearInterval(p.value)});function d(t,s){const i=t.width/2-5,m=T(()=>i+5),g=T(t.width,t.height);s.imageSmoothingEnabled=!1,s.setTransform(1,0,0,1,0,0),s.translate(m.x,m.y),s.scale(1,1.015),s.beginPath(),s.arc(0,0,i,0,2*Math.PI,!1),s.fillStyle=n.value[1],s.fill(),s.scale(1,.985);const k=u.value,M=P=>{window.requestAnimationFrame(()=>{s.drawImage(k[3],-m.x,-m.y,g.x,g.y),s.drawImage(k[4],-m.x,-m.y,g.x,g.y),s.strokeStyle=n.value[1],s.setTransform(1,0,0,1,0,0);const A=new Date;l.value=A.getHours()>12,s.translate(m.x,m.y),L(k,A,s,m,g);const b=s.getImageData(0,0,g.x,g.y),c=b.data;for(let w=0;w<c.length;w+=4){const _=c[Number(w)],v=c[w+1],I=c[w+2];if(!(_===255&&v===170&&I===85)){const X=.2126*_+.7152*v+.0722*I>=50?255:0;.2126*_+.7152*v+.0722*I>=50&&(c[Number(w)]=c[w+1]=c[w+2]=X)}}s.putImageData(b,0,0),P&&P()})};M(()=>{p.value=window.setInterval(M,1e3)})}return(t,s)=>(E(),D("div",{ref_key:"rootEl",ref:r,class:"wb-disks-workbench13-clock"},[C("canvas",{ref_key:"canvasEl",ref:o},null,512),C("span",Q,$(e.value),1)],512))}},se=W(R,[["__scopeId","data-v-5edc704f"]]);export{se as default};

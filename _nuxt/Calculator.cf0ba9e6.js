import{al as V,_ as r,ad as p}from"./index.d1a8617f.js";import{_ as c,f,k as s,l as a,q as A,m as i,t as B,N as k,O as C}from"./entry.afaf31f9.js";const $={components:{AtomMarkdown:V},mixins:[r],data(){return{content:["# Calculator",`Version: **1.0**  
Created by **Thorn-Welf Walli**`].join(`
`)}},computed:{contextMenu(){return new p(m,{core:this.core})}}},b={class:"wb-disks-workbench13-calculator-info"};function v(e,t,n,h,o,l){const u=f("atom-markdown");return s(),a("div",b,[A(u,{content:o.content},null,8,["content"])])}const w=c($,[["render",v],["__scopeId","data-v-cc9b6d05"]]),m=({core:e})=>{const{windows:t}=e.modules;return[{title:"Calculator",items:[{hotKey:"I",keyCode:73,title:"Info",action(){t.addWindow({title:"Info",component:w,componentData:{},options:{scale:!1,prompt:!1,scrollX:!1,scrollY:!1}},{group:"workbench13Calculator"})}}]}]};const O={mixins:[r],data(){return{tmpValueA:null,tmpValueB:null,tmpOperator:null,result:null,value:null,buttons:["7","8","9","CA","CE","4","5","6","*","/","1","2","3","+","-","0",".","<-","+-","="]}},computed:{contextMenu(){return new p(m,{core:this.core,model:this})},resultValue(){return[this.tmpValueA,this.tmpOperator,this.tmpValueB].filter(e=>e!==null).join(" ")}},methods:{async onClickButton(e){const t=e.target.value;if(/^[0-9,.]+$/.test(t)&&this.tmpOperator===null?this.tmpValueA=(this.tmpValueA||"")+t:/^[0-9,.]+$/.test(t)&&this.tmpOperator&&this.tmpValueA!==null&&(this.tmpValueB=(this.tmpValueB||"")+t),/^[\\/*-+=]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB!==null&&this.tmpOperator){const n=await this.core.modules.parser.parseMath(`${this.tmpValueA}${this.tmpOperator}${this.tmpValueB}`);this.tmpValueA=n,this.tmpOperator=null,this.tmpValueB=null}/^[\\/*-+]$/.test(t)&&this.tmpValueA!==null&&this.tmpValueB===null&&(this.tmpOperator=t),/^<-$/.test(t)&&this.tmpValueA!==null&&(this.tmpValueA!==null&&this.tmpValueB===null?(this.tmpOperator=null,this.tmpValueA=String(this.tmpValueA).slice(0,this.tmpValueA.length-1)):this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=String(this.tmpValueB).slice(0,this.tmpValueB.length-1))),/^\+-$/.test(t)&&(this.tmpValueA!==null&&this.tmpValueB===null?this.tmpValueA=parseFloat(this.tmpValueA)*-1:this.tmpValueA!==null&&this.tmpOperator&&(this.tmpValueB=parseFloat(this.tmpValueB)*-1)),/^CA$/.test(t)&&(this.tmpOperator=this.tmpValueA=this.tmpValueB=null),/^CE$/.test(t)&&(this.tmpValueB!==null?this.tmpValueB=null:this.tmpOperator?this.tmpOperator=null:this.tmpValueA!==null&&(this.tmpValueA=null))}}},x={class:"wb-disks-workbench13-calculator"},y={class:"calculator__result","data-hook":"calculatorResult"},g={class:"calculator__buttons"},I=["value"];function M(e,t,n,h,o,l){return s(),a("div",x,[i("span",y,B(l.resultValue),1),i("div",g,[(s(!0),a(k,null,C(o.buttons,(u,_)=>(s(),a("span",{key:_},[i("input",{type:"button",value:u,onClick:t[0]||(t[0]=(...d)=>l.onClickButton&&l.onClickButton(...d))},null,8,I)]))),128))])])}const F=c(O,[["render",M],["__scopeId","data-v-c0b5344c"]]);export{F as default};
